{"ast":null,"code":"var _jsxFileName = \"D:\\\\Team6-FE\\\\isomorphic\\\\shared\\\\isomorphic\\\\components\\\\Mail\\\\ComposeMail.js\";\nimport React from 'react';\nimport Button from '../uielements/button';\nimport Input from '../uielements/input';\nimport ComposeAutoComplete from './ComposeAutoComplete';\nimport notification from '../Notification';\nimport IntlMessages from '../utility/intlMessages';\nimport ComposeForm from './ComposeMail.style';\nimport Editor from '../uielements/editor';\n\nfunction uploadCallback(file) {\n  return new Promise((resolve, reject) => {\n    const xhr = new XMLHttpRequest();\n    xhr.open('POST', 'https://api.imgur.com/3/image');\n    xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\n    const data = new FormData();\n    data.append('image', file);\n    xhr.send(data);\n    xhr.addEventListener('load', () => {\n      const response = JSON.parse(xhr.responseText);\n      resolve(response);\n    });\n    xhr.addEventListener('error', () => {\n      const error = JSON.parse(xhr.responseText);\n      reject(error);\n    });\n  });\n}\n\nexport default function ComposeMail(props) {\n  const state = React.useState({\n    editorState: null,\n    loading: false,\n    iconLoading: false\n  });\n\n  const onEditorStateChange = editorState => {\n    setState({ ...state,\n      editorState\n    });\n  };\n\n  const ComposeAutoCompleteTO = {\n    allMails: props.allMails,\n    updateData: () => {},\n    placeholder: 'To',\n    autofocus: true\n  };\n  const ComposeAutoCompleteCC = {\n    allMails: props.allMails,\n    updateData: () => {},\n    placeholder: 'CC'\n  };\n  const editorOption = {\n    style: {\n      width: '90%',\n      height: '70%'\n    },\n    editorState: state.editorState,\n    toolbarClassName: 'home-toolbar',\n    wrapperClassName: 'home-wrapper',\n    editorClassName: 'home-editor',\n    onEditorStateChange: onEditorStateChange,\n    uploadCallback: uploadCallback,\n    toolbar: {\n      image: {\n        uploadCallback: uploadCallback\n      }\n    }\n  };\n  return /*#__PURE__*/React.createElement(ComposeForm, {\n    className: \"isoComposeMailWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ComposeAutoComplete, Object.assign({}, ComposeAutoCompleteTO, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(ComposeAutoComplete, Object.assign({}, ComposeAutoCompleteCC, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Input, {\n    placeholder: \"Subject\",\n    className: \"isoInputBox\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Editor, Object.assign({}, editorOption, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"isoComposeMailBtnWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, props.mobileView || props.tabView ? /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: () => {\n      props.changeComposeMail(false);\n    },\n    className: \"isoCancelMailBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"email.cancel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  })) : '', /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: e => notification('success', `Mail has been sent`, ''),\n    className: \"isoSendMailBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(IntlMessages, {\n    id: \"email.send\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/shared/isomorphic/components/Mail/ComposeMail.js"],"names":["React","Button","Input","ComposeAutoComplete","notification","IntlMessages","ComposeForm","Editor","uploadCallback","file","Promise","resolve","reject","xhr","XMLHttpRequest","open","setRequestHeader","data","FormData","append","send","addEventListener","response","JSON","parse","responseText","error","ComposeMail","props","state","useState","editorState","loading","iconLoading","onEditorStateChange","setState","ComposeAutoCompleteTO","allMails","updateData","placeholder","autofocus","ComposeAutoCompleteCC","editorOption","style","width","height","toolbarClassName","wrapperClassName","editorClassName","toolbar","image","mobileView","tabView","changeComposeMail","e"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Button from '../uielements/button';\r\nimport Input from '../uielements/input';\r\nimport ComposeAutoComplete from './ComposeAutoComplete';\r\nimport notification from '../Notification';\r\nimport IntlMessages from '../utility/intlMessages';\r\nimport ComposeForm from './ComposeMail.style';\r\nimport Editor from '../uielements/editor';\r\n\r\nfunction uploadCallback(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const xhr = new XMLHttpRequest();\r\n    xhr.open('POST', 'https://api.imgur.com/3/image');\r\n    xhr.setRequestHeader('Authorization', 'Client-ID 8d26ccd12712fca');\r\n    const data = new FormData();\r\n    data.append('image', file);\r\n    xhr.send(data);\r\n    xhr.addEventListener('load', () => {\r\n      const response = JSON.parse(xhr.responseText);\r\n      resolve(response);\r\n    });\r\n    xhr.addEventListener('error', () => {\r\n      const error = JSON.parse(xhr.responseText);\r\n      reject(error);\r\n    });\r\n  });\r\n}\r\nexport default function ComposeMail(props) {\r\n  const state = React.useState({\r\n    editorState: null,\r\n    loading: false,\r\n    iconLoading: false,\r\n  });\r\n  const onEditorStateChange = editorState => {\r\n    setState({ ...state, editorState });\r\n  };\r\n  const ComposeAutoCompleteTO = {\r\n    allMails: props.allMails,\r\n    updateData: () => {},\r\n    placeholder: 'To',\r\n    autofocus: true,\r\n  };\r\n  const ComposeAutoCompleteCC = {\r\n    allMails: props.allMails,\r\n    updateData: () => {},\r\n    placeholder: 'CC',\r\n  };\r\n  const editorOption = {\r\n    style: { width: '90%', height: '70%' },\r\n    editorState: state.editorState,\r\n    toolbarClassName: 'home-toolbar',\r\n    wrapperClassName: 'home-wrapper',\r\n    editorClassName: 'home-editor',\r\n    onEditorStateChange: onEditorStateChange,\r\n    uploadCallback: uploadCallback,\r\n    toolbar: { image: { uploadCallback: uploadCallback } },\r\n  };\r\n\r\n  return (\r\n    <ComposeForm className=\"isoComposeMailWrapper\">\r\n      <ComposeAutoComplete {...ComposeAutoCompleteTO} />\r\n      <ComposeAutoComplete {...ComposeAutoCompleteCC} />\r\n      <Input placeholder=\"Subject\" className=\"isoInputBox\" />\r\n      <Editor {...editorOption} />\r\n      <div className=\"isoComposeMailBtnWrapper\">\r\n        {props.mobileView || props.tabView ? (\r\n          <Button\r\n            type=\"primary\"\r\n            onClick={() => {\r\n              props.changeComposeMail(false);\r\n            }}\r\n            className=\"isoCancelMailBtn\"\r\n          >\r\n            <IntlMessages id=\"email.cancel\" />\r\n          </Button>\r\n        ) : (\r\n          ''\r\n        )}\r\n\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={e => notification('success', `Mail has been sent`, '')}\r\n          className=\"isoSendMailBtn\"\r\n        >\r\n          <IntlMessages id=\"email.send\" />\r\n        </Button>\r\n      </div>\r\n    </ComposeForm>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}