{"ast":null,"code":"var _jsxFileName = \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\shared\\\\isomorphic\\\\containers\\\\CustomerSinglePage\\\\AntTables\\\\TableViews\\\\EditView.js\";\nimport React from 'react';\nimport clone from 'clone';\nimport TableWrapper from '../AntTables.styles';\nimport { EditableCell, DeleteCell } from '@iso/components/Tables/HelperCells';\nexport default function (props) {\n  const [state, setState] = React.useState({\n    columns: createcolumns(clone(props.tableInfo.columns)),\n    dataList: props.dataList.getAll()\n  });\n  const {\n    columns,\n    dataList\n  } = state;\n\n  function createcolumns(columns) {\n    const editColumnRender = (text, record, index) => /*#__PURE__*/React.createElement(EditableCell, {\n      index: index,\n      columnsKey: columns[1].key,\n      value: text[columns[1].key],\n      onChange: onCellChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 15,\n        columnNumber: 7\n      }\n    });\n\n    columns[1].render = editColumnRender;\n    const deleteColumn = {\n      title: 'operation',\n      dataIndex: 'operation',\n      render: (text, record, index) => /*#__PURE__*/React.createElement(DeleteCell, {\n        index: index,\n        onDeleteCell: onDeleteCell,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 9\n        }\n      })\n    };\n    columns.push(deleteColumn);\n    return columns;\n  }\n\n  function onCellChange(value, columnsKey, index) {\n    dataList[index][columnsKey] = value;\n    setState({ ...state,\n      dataList\n    });\n  }\n\n  function onDeleteCell(index) {\n    dataList.splice(index, 1);\n    setState({ ...state,\n      dataList\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(TableWrapper, {\n    columns: columns,\n    dataSource: dataList,\n    pagination: {\n      pageSize: 5\n    },\n    className: \"isoEditableTable\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 5\n    }\n  });\n}","map":{"version":3,"sources":["D:/TT18-EC-Team1-FE/isomorphic/shared/isomorphic/containers/CustomerSinglePage/AntTables/TableViews/EditView.js"],"names":["React","clone","TableWrapper","EditableCell","DeleteCell","props","state","setState","useState","columns","createcolumns","tableInfo","dataList","getAll","editColumnRender","text","record","index","key","onCellChange","render","deleteColumn","title","dataIndex","onDeleteCell","push","value","columnsKey","splice","pageSize"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,YAAP,MAAyB,qBAAzB;AACA,SAASC,YAAT,EAAuBC,UAAvB,QAAyC,oCAAzC;AAEA,eAAe,UAASC,KAAT,EAAgB;AAC7B,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,KAAK,CAACQ,QAAN,CAAe;AACvCC,IAAAA,OAAO,EAAEC,aAAa,CAACT,KAAK,CAACI,KAAK,CAACM,SAAN,CAAgBF,OAAjB,CAAN,CADiB;AAEvCG,IAAAA,QAAQ,EAAEP,KAAK,CAACO,QAAN,CAAeC,MAAf;AAF6B,GAAf,CAA1B;AAIA,QAAM;AAAEJ,IAAAA,OAAF;AAAWG,IAAAA;AAAX,MAAwBN,KAA9B;;AAEA,WAASI,aAAT,CAAuBD,OAAvB,EAAgC;AAC9B,UAAMK,gBAAgB,GAAG,CAACC,IAAD,EAAOC,MAAP,EAAeC,KAAf,kBACvB,oBAAC,YAAD;AACE,MAAA,KAAK,EAAEA,KADT;AAEE,MAAA,UAAU,EAAER,OAAO,CAAC,CAAD,CAAP,CAAWS,GAFzB;AAGE,MAAA,KAAK,EAAEH,IAAI,CAACN,OAAO,CAAC,CAAD,CAAP,CAAWS,GAAZ,CAHb;AAIE,MAAA,QAAQ,EAAEC,YAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;;AAQAV,IAAAA,OAAO,CAAC,CAAD,CAAP,CAAWW,MAAX,GAAoBN,gBAApB;AACA,UAAMO,YAAY,GAAG;AACnBC,MAAAA,KAAK,EAAE,WADY;AAEnBC,MAAAA,SAAS,EAAE,WAFQ;AAGnBH,MAAAA,MAAM,EAAE,CAACL,IAAD,EAAOC,MAAP,EAAeC,KAAf,kBACN,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAEA,KAAnB;AAA0B,QAAA,YAAY,EAAEO,YAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAJiB,KAArB;AAOAf,IAAAA,OAAO,CAACgB,IAAR,CAAaJ,YAAb;AACA,WAAOZ,OAAP;AACD;;AACD,WAASU,YAAT,CAAsBO,KAAtB,EAA6BC,UAA7B,EAAyCV,KAAzC,EAAgD;AAC9CL,IAAAA,QAAQ,CAACK,KAAD,CAAR,CAAgBU,UAAhB,IAA8BD,KAA9B;AACAnB,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYM,MAAAA;AAAZ,KAAD,CAAR;AACD;;AACD,WAASY,YAAT,CAAsBP,KAAtB,EAA6B;AAC3BL,IAAAA,QAAQ,CAACgB,MAAT,CAAgBX,KAAhB,EAAuB,CAAvB;AACAV,IAAAA,QAAQ,CAAC,EAAE,GAAGD,KAAL;AAAYM,MAAAA;AAAZ,KAAD,CAAR;AACD;;AAED,sBACE,oBAAC,YAAD;AACE,IAAA,OAAO,EAAEH,OADX;AAEE,IAAA,UAAU,EAAEG,QAFd;AAGE,IAAA,UAAU,EAAE;AAAEiB,MAAAA,QAAQ,EAAE;AAAZ,KAHd;AAIE,IAAA,SAAS,EAAC,kBAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF;AAQD","sourcesContent":["import React from 'react';\r\nimport clone from 'clone';\r\nimport TableWrapper from '../AntTables.styles';\r\nimport { EditableCell, DeleteCell } from '@iso/components/Tables/HelperCells';\r\n\r\nexport default function(props) {\r\n  const [state, setState] = React.useState({\r\n    columns: createcolumns(clone(props.tableInfo.columns)),\r\n    dataList: props.dataList.getAll(),\r\n  });\r\n  const { columns, dataList } = state;\r\n\r\n  function createcolumns(columns) {\r\n    const editColumnRender = (text, record, index) => (\r\n      <EditableCell\r\n        index={index}\r\n        columnsKey={columns[1].key}\r\n        value={text[columns[1].key]}\r\n        onChange={onCellChange}\r\n      />\r\n    );\r\n    columns[1].render = editColumnRender;\r\n    const deleteColumn = {\r\n      title: 'operation',\r\n      dataIndex: 'operation',\r\n      render: (text, record, index) => (\r\n        <DeleteCell index={index} onDeleteCell={onDeleteCell} />\r\n      ),\r\n    };\r\n    columns.push(deleteColumn);\r\n    return columns;\r\n  }\r\n  function onCellChange(value, columnsKey, index) {\r\n    dataList[index][columnsKey] = value;\r\n    setState({ ...state, dataList });\r\n  }\r\n  function onDeleteCell(index) {\r\n    dataList.splice(index, 1);\r\n    setState({ ...state, dataList });\r\n  }\r\n\r\n  return (\r\n    <TableWrapper\r\n      columns={columns}\r\n      dataSource={dataList}\r\n      pagination={{ pageSize: 5 }}\r\n      className=\"isoEditableTable\"\r\n    />\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}