{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _translatable = require('../core/translatable');\n\nvar _translatable2 = _interopRequireDefault(_translatable);\n\nvar _classNames = require('./classNames.js');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar cx = (0, _classNames2.default)('SearchBox');\n\nvar DefaultLoadingIndicator = function DefaultLoadingIndicator() {\n  return _react2.default.createElement('svg', {\n    width: '18',\n    height: '18',\n    viewBox: '0 0 38 38',\n    xmlns: 'http://www.w3.org/2000/svg',\n    stroke: '#BFC7D8'\n  }, _react2.default.createElement('g', {\n    fill: 'none',\n    fillRule: 'evenodd'\n  }, _react2.default.createElement('g', {\n    transform: 'translate(1 1)',\n    strokeWidth: '2'\n  }, _react2.default.createElement('circle', {\n    strokeOpacity: '.5',\n    cx: '18',\n    cy: '18',\n    r: '18'\n  }), _react2.default.createElement('path', {\n    d: 'M36 18c0-9.94-8.06-18-18-18'\n  }, _react2.default.createElement('animateTransform', {\n    attributeName: 'transform',\n    type: 'rotate',\n    from: '0 18 18',\n    to: '360 18 18',\n    dur: '1s',\n    repeatCount: 'indefinite'\n  })))));\n};\n\nvar DefaultReset = function DefaultReset() {\n  return _react2.default.createElement('svg', {\n    role: 'img',\n    width: '1em',\n    height: '1em'\n  }, _react2.default.createElement('use', {\n    xlinkHref: '#sbx-icon-clear-3'\n  }));\n};\n\nvar DefaultSubmit = function DefaultSubmit() {\n  return _react2.default.createElement('svg', {\n    role: 'img',\n    width: '1em',\n    height: '1em'\n  }, _react2.default.createElement('use', {\n    xlinkHref: '#sbx-icon-search-13'\n  }));\n};\n\nvar SearchBox = function (_Component) {\n  _inherits(SearchBox, _Component);\n\n  function SearchBox(props) {\n    _classCallCheck(this, SearchBox);\n\n    var _this = _possibleConstructorReturn(this, (SearchBox.__proto__ || Object.getPrototypeOf(SearchBox)).call(this));\n\n    _this.getQuery = function () {\n      return _this.props.searchAsYouType ? _this.props.currentRefinement : _this.state.query;\n    };\n\n    _this.onInputMount = function (input) {\n      _this.input = input;\n\n      if (_this.props.__inputRef) {\n        _this.props.__inputRef(input);\n      }\n    };\n\n    _this.onKeyDown = function (e) {\n      if (!_this.props.focusShortcuts) {\n        return;\n      }\n\n      var shortcuts = _this.props.focusShortcuts.map(function (key) {\n        return typeof key === 'string' ? key.toUpperCase().charCodeAt(0) : key;\n      });\n\n      var elt = e.target || e.srcElement;\n      var tagName = elt.tagName;\n\n      if (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n        // already in an input\n        return;\n      }\n\n      var which = e.which || e.keyCode;\n\n      if (shortcuts.indexOf(which) === -1) {\n        // not the right shortcut\n        return;\n      }\n\n      _this.input.focus();\n\n      e.stopPropagation();\n      e.preventDefault();\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      _this.input.blur();\n\n      var _this$props = _this.props,\n          refine = _this$props.refine,\n          searchAsYouType = _this$props.searchAsYouType;\n\n      if (!searchAsYouType) {\n        refine(_this.getQuery());\n      }\n\n      return false;\n    };\n\n    _this.onChange = function (event) {\n      var _this$props2 = _this.props,\n          searchAsYouType = _this$props2.searchAsYouType,\n          refine = _this$props2.refine,\n          onChange = _this$props2.onChange;\n      var value = event.target.value;\n\n      if (searchAsYouType) {\n        refine(value);\n      } else {\n        _this.setState({\n          query: value\n        });\n      }\n\n      if (onChange) {\n        onChange(event);\n      }\n    };\n\n    _this.onReset = function (event) {\n      var _this$props3 = _this.props,\n          searchAsYouType = _this$props3.searchAsYouType,\n          refine = _this$props3.refine,\n          onReset = _this$props3.onReset;\n      refine('');\n\n      _this.input.focus();\n\n      if (!searchAsYouType) {\n        _this.setState({\n          query: ''\n        });\n      }\n\n      if (onReset) {\n        onReset(event);\n      }\n    };\n\n    _this.state = {\n      query: props.searchAsYouType ? null : props.currentRefinement\n    };\n    return _this;\n  }\n\n  _createClass(SearchBox, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.onKeyDown);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.onKeyDown);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // Reset query when the searchParameters query has changed.\n      // This is kind of an anti-pattern (props in state), but it works here\n      // since we know for sure that searchParameters having changed means a\n      // new search has been triggered.\n      if (!nextProps.searchAsYouType && nextProps.currentRefinement !== this.props.currentRefinement) {\n        this.setState({\n          query: nextProps.currentRefinement\n        });\n      }\n    } // From https://github.com/algolia/autocomplete.js/pull/86\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          translate = _props.translate,\n          autoFocus = _props.autoFocus,\n          loadingIndicatorComponent = _props.loadingIndicatorComponent,\n          resetComponent = _props.resetComponent,\n          submitComponent = _props.submitComponent;\n      var query = this.getQuery();\n      var searchInputEvents = Object.keys(this.props).reduce(function (props, prop) {\n        if (['onsubmit', 'onreset', 'onchange'].indexOf(prop.toLowerCase()) === -1 && prop.indexOf('on') === 0) {\n          return _extends({}, props, _defineProperty({}, prop, _this2.props[prop]));\n        }\n\n        return props;\n      }, {});\n      var isSearchStalled = this.props.showLoadingIndicator && this.props.isSearchStalled;\n      /* eslint-disable max-len */\n\n      return _react2.default.createElement('form', _extends({\n        noValidate: true,\n        onSubmit: this.props.onSubmit ? this.props.onSubmit : this.onSubmit,\n        onReset: this.onReset\n      }, cx('root'), {\n        action: '',\n        role: 'search'\n      }), _react2.default.createElement('svg', {\n        xmlns: 'http://www.w3.org/2000/svg',\n        style: {\n          display: 'none'\n        }\n      }, _react2.default.createElement('symbol', {\n        xmlns: 'http://www.w3.org/2000/svg',\n        id: 'sbx-icon-search-13',\n        viewBox: '0 0 40 40'\n      }, _react2.default.createElement('path', {\n        d: 'M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z',\n        fillRule: 'evenodd'\n      })), _react2.default.createElement('symbol', {\n        xmlns: 'http://www.w3.org/2000/svg',\n        id: 'sbx-icon-clear-3',\n        viewBox: '0 0 20 20'\n      }, _react2.default.createElement('path', {\n        d: 'M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z',\n        fillRule: 'evenodd'\n      }))), _react2.default.createElement('div', _extends({\n        role: 'search'\n      }, cx('wrapper', isSearchStalled && 'stalled-search')), _react2.default.createElement('input', _extends({\n        ref: this.onInputMount,\n        type: 'search',\n        placeholder: translate('placeholder'),\n        autoFocus: autoFocus,\n        autoComplete: 'off',\n        autoCorrect: 'off',\n        autoCapitalize: 'off',\n        spellCheck: 'false',\n        required: true,\n        maxLength: '512',\n        value: query,\n        onChange: this.onChange\n      }, searchInputEvents, cx('input'))), this.props.showLoadingIndicator && _react2.default.createElement('div', _extends({\n        hidden: !isSearchStalled\n      }, cx('loading-indicator')), loadingIndicatorComponent), _react2.default.createElement('button', _extends({\n        type: 'submit',\n        title: translate('submitTitle'),\n        hidden: isSearchStalled\n      }, cx('submit')), submitComponent), _react2.default.createElement('button', _extends({\n        type: 'reset',\n        title: translate('resetTitle')\n      }, cx('reset')), resetComponent)));\n      /* eslint-enable */\n    }\n  }]);\n\n  return SearchBox;\n}(_react.Component);\n\nSearchBox.propTypes = {\n  currentRefinement: _propTypes2.default.string,\n  refine: _propTypes2.default.func.isRequired,\n  translate: _propTypes2.default.func.isRequired,\n  loadingIndicatorComponent: _propTypes2.default.element,\n  resetComponent: _propTypes2.default.element,\n  submitComponent: _propTypes2.default.element,\n  focusShortcuts: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])),\n  autoFocus: _propTypes2.default.bool,\n  searchAsYouType: _propTypes2.default.bool,\n  onSubmit: _propTypes2.default.func,\n  onReset: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n  isSearchStalled: _propTypes2.default.bool,\n  showLoadingIndicator: _propTypes2.default.bool,\n  // For testing purposes\n  __inputRef: _propTypes2.default.func\n};\nSearchBox.defaultProps = {\n  currentRefinement: '',\n  focusShortcuts: ['s', '/'],\n  autoFocus: false,\n  searchAsYouType: true,\n  showLoadingIndicator: false,\n  isSearchStalled: false,\n  loadingIndicatorComponent: _react2.default.createElement(DefaultLoadingIndicator, null),\n  submitComponent: _react2.default.createElement(DefaultSubmit, null),\n  resetComponent: _react2.default.createElement(DefaultReset, null)\n};\nexports.default = (0, _translatable2.default)({\n  resetTitle: 'Clear the search query.',\n  submitTitle: 'Submit your search query.',\n  placeholder: 'Search here…'\n})(SearchBox);","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/node_modules/react-instantsearch/src/components/SearchBox.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","_propTypes","require","_propTypes2","_interopRequireDefault","_react","_react2","_translatable","_translatable2","_classNames","_classNames2","obj","__esModule","default","_defineProperty","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","cx","DefaultLoadingIndicator","createElement","width","height","viewBox","xmlns","stroke","fill","fillRule","transform","strokeWidth","strokeOpacity","cy","r","d","attributeName","type","from","to","dur","repeatCount","DefaultReset","role","xlinkHref","DefaultSubmit","SearchBox","_Component","_this","getPrototypeOf","getQuery","searchAsYouType","currentRefinement","state","query","onInputMount","input","__inputRef","onKeyDown","e","focusShortcuts","shortcuts","map","toUpperCase","charCodeAt","elt","srcElement","tagName","isContentEditable","which","keyCode","indexOf","focus","stopPropagation","preventDefault","onSubmit","blur","_this$props","refine","onChange","event","_this$props2","setState","onReset","_this$props3","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","componentWillReceiveProps","nextProps","render","_this2","_props","translate","autoFocus","loadingIndicatorComponent","resetComponent","submitComponent","searchInputEvents","keys","reduce","prop","toLowerCase","isSearchStalled","showLoadingIndicator","noValidate","action","style","display","id","ref","placeholder","autoComplete","autoCorrect","autoCapitalize","spellCheck","required","maxLength","hidden","title","Component","propTypes","string","func","isRequired","element","arrayOf","oneOfType","number","bool","defaultProps","resetTitle","submitTitle"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _translatable = require('../core/translatable');\n\nvar _translatable2 = _interopRequireDefault(_translatable);\n\nvar _classNames = require('./classNames.js');\n\nvar _classNames2 = _interopRequireDefault(_classNames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar cx = (0, _classNames2.default)('SearchBox');\n\nvar DefaultLoadingIndicator = function DefaultLoadingIndicator() {\n  return _react2.default.createElement(\n    'svg',\n    {\n      width: '18',\n      height: '18',\n      viewBox: '0 0 38 38',\n      xmlns: 'http://www.w3.org/2000/svg',\n      stroke: '#BFC7D8'\n    },\n    _react2.default.createElement(\n      'g',\n      { fill: 'none', fillRule: 'evenodd' },\n      _react2.default.createElement(\n        'g',\n        { transform: 'translate(1 1)', strokeWidth: '2' },\n        _react2.default.createElement('circle', { strokeOpacity: '.5', cx: '18', cy: '18', r: '18' }),\n        _react2.default.createElement(\n          'path',\n          { d: 'M36 18c0-9.94-8.06-18-18-18' },\n          _react2.default.createElement('animateTransform', {\n            attributeName: 'transform',\n            type: 'rotate',\n            from: '0 18 18',\n            to: '360 18 18',\n            dur: '1s',\n            repeatCount: 'indefinite'\n          })\n        )\n      )\n    )\n  );\n};\n\nvar DefaultReset = function DefaultReset() {\n  return _react2.default.createElement(\n    'svg',\n    { role: 'img', width: '1em', height: '1em' },\n    _react2.default.createElement('use', { xlinkHref: '#sbx-icon-clear-3' })\n  );\n};\n\nvar DefaultSubmit = function DefaultSubmit() {\n  return _react2.default.createElement(\n    'svg',\n    { role: 'img', width: '1em', height: '1em' },\n    _react2.default.createElement('use', { xlinkHref: '#sbx-icon-search-13' })\n  );\n};\n\nvar SearchBox = function (_Component) {\n  _inherits(SearchBox, _Component);\n\n  function SearchBox(props) {\n    _classCallCheck(this, SearchBox);\n\n    var _this = _possibleConstructorReturn(this, (SearchBox.__proto__ || Object.getPrototypeOf(SearchBox)).call(this));\n\n    _this.getQuery = function () {\n      return _this.props.searchAsYouType ? _this.props.currentRefinement : _this.state.query;\n    };\n\n    _this.onInputMount = function (input) {\n      _this.input = input;\n      if (_this.props.__inputRef) {\n        _this.props.__inputRef(input);\n      }\n    };\n\n    _this.onKeyDown = function (e) {\n      if (!_this.props.focusShortcuts) {\n        return;\n      }\n\n      var shortcuts = _this.props.focusShortcuts.map(function (key) {\n        return typeof key === 'string' ? key.toUpperCase().charCodeAt(0) : key;\n      });\n\n      var elt = e.target || e.srcElement;\n      var tagName = elt.tagName;\n      if (elt.isContentEditable || tagName === 'INPUT' || tagName === 'SELECT' || tagName === 'TEXTAREA') {\n        // already in an input\n        return;\n      }\n\n      var which = e.which || e.keyCode;\n      if (shortcuts.indexOf(which) === -1) {\n        // not the right shortcut\n        return;\n      }\n\n      _this.input.focus();\n      e.stopPropagation();\n      e.preventDefault();\n    };\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      _this.input.blur();\n\n      var _this$props = _this.props,\n          refine = _this$props.refine,\n          searchAsYouType = _this$props.searchAsYouType;\n\n      if (!searchAsYouType) {\n        refine(_this.getQuery());\n      }\n      return false;\n    };\n\n    _this.onChange = function (event) {\n      var _this$props2 = _this.props,\n          searchAsYouType = _this$props2.searchAsYouType,\n          refine = _this$props2.refine,\n          onChange = _this$props2.onChange;\n\n      var value = event.target.value;\n\n      if (searchAsYouType) {\n        refine(value);\n      } else {\n        _this.setState({ query: value });\n      }\n\n      if (onChange) {\n        onChange(event);\n      }\n    };\n\n    _this.onReset = function (event) {\n      var _this$props3 = _this.props,\n          searchAsYouType = _this$props3.searchAsYouType,\n          refine = _this$props3.refine,\n          onReset = _this$props3.onReset;\n\n\n      refine('');\n      _this.input.focus();\n\n      if (!searchAsYouType) {\n        _this.setState({ query: '' });\n      }\n\n      if (onReset) {\n        onReset(event);\n      }\n    };\n\n    _this.state = {\n      query: props.searchAsYouType ? null : props.currentRefinement\n    };\n    return _this;\n  }\n\n  _createClass(SearchBox, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      document.addEventListener('keydown', this.onKeyDown);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      document.removeEventListener('keydown', this.onKeyDown);\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      // Reset query when the searchParameters query has changed.\n      // This is kind of an anti-pattern (props in state), but it works here\n      // since we know for sure that searchParameters having changed means a\n      // new search has been triggered.\n      if (!nextProps.searchAsYouType && nextProps.currentRefinement !== this.props.currentRefinement) {\n        this.setState({\n          query: nextProps.currentRefinement\n        });\n      }\n    }\n\n    // From https://github.com/algolia/autocomplete.js/pull/86\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          translate = _props.translate,\n          autoFocus = _props.autoFocus,\n          loadingIndicatorComponent = _props.loadingIndicatorComponent,\n          resetComponent = _props.resetComponent,\n          submitComponent = _props.submitComponent;\n\n      var query = this.getQuery();\n\n      var searchInputEvents = Object.keys(this.props).reduce(function (props, prop) {\n        if (['onsubmit', 'onreset', 'onchange'].indexOf(prop.toLowerCase()) === -1 && prop.indexOf('on') === 0) {\n          return _extends({}, props, _defineProperty({}, prop, _this2.props[prop]));\n        }\n\n        return props;\n      }, {});\n\n      var isSearchStalled = this.props.showLoadingIndicator && this.props.isSearchStalled;\n\n      /* eslint-disable max-len */\n      return _react2.default.createElement(\n        'form',\n        _extends({\n          noValidate: true,\n          onSubmit: this.props.onSubmit ? this.props.onSubmit : this.onSubmit,\n          onReset: this.onReset\n        }, cx('root'), {\n          action: '',\n          role: 'search'\n        }),\n        _react2.default.createElement(\n          'svg',\n          { xmlns: 'http://www.w3.org/2000/svg', style: { display: 'none' } },\n          _react2.default.createElement(\n            'symbol',\n            {\n              xmlns: 'http://www.w3.org/2000/svg',\n              id: 'sbx-icon-search-13',\n              viewBox: '0 0 40 40'\n            },\n            _react2.default.createElement('path', {\n              d: 'M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z',\n              fillRule: 'evenodd'\n            })\n          ),\n          _react2.default.createElement(\n            'symbol',\n            {\n              xmlns: 'http://www.w3.org/2000/svg',\n              id: 'sbx-icon-clear-3',\n              viewBox: '0 0 20 20'\n            },\n            _react2.default.createElement('path', {\n              d: 'M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z',\n              fillRule: 'evenodd'\n            })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          _extends({\n            role: 'search'\n          }, cx('wrapper', isSearchStalled && 'stalled-search')),\n          _react2.default.createElement('input', _extends({\n            ref: this.onInputMount,\n            type: 'search',\n            placeholder: translate('placeholder'),\n            autoFocus: autoFocus,\n            autoComplete: 'off',\n            autoCorrect: 'off',\n            autoCapitalize: 'off',\n            spellCheck: 'false',\n            required: true,\n            maxLength: '512',\n            value: query,\n            onChange: this.onChange\n          }, searchInputEvents, cx('input'))),\n          this.props.showLoadingIndicator && _react2.default.createElement(\n            'div',\n            _extends({ hidden: !isSearchStalled }, cx('loading-indicator')),\n            loadingIndicatorComponent\n          ),\n          _react2.default.createElement(\n            'button',\n            _extends({\n              type: 'submit',\n              title: translate('submitTitle'),\n              hidden: isSearchStalled\n            }, cx('submit')),\n            submitComponent\n          ),\n          _react2.default.createElement(\n            'button',\n            _extends({ type: 'reset', title: translate('resetTitle') }, cx('reset')),\n            resetComponent\n          )\n        )\n      );\n      /* eslint-enable */\n    }\n  }]);\n\n  return SearchBox;\n}(_react.Component);\n\nSearchBox.propTypes = {\n  currentRefinement: _propTypes2.default.string,\n  refine: _propTypes2.default.func.isRequired,\n  translate: _propTypes2.default.func.isRequired,\n\n  loadingIndicatorComponent: _propTypes2.default.element,\n  resetComponent: _propTypes2.default.element,\n  submitComponent: _propTypes2.default.element,\n\n  focusShortcuts: _propTypes2.default.arrayOf(_propTypes2.default.oneOfType([_propTypes2.default.string, _propTypes2.default.number])),\n\n  autoFocus: _propTypes2.default.bool,\n\n  searchAsYouType: _propTypes2.default.bool,\n  onSubmit: _propTypes2.default.func,\n  onReset: _propTypes2.default.func,\n  onChange: _propTypes2.default.func,\n\n  isSearchStalled: _propTypes2.default.bool,\n  showLoadingIndicator: _propTypes2.default.bool,\n\n  // For testing purposes\n  __inputRef: _propTypes2.default.func\n};\nSearchBox.defaultProps = {\n  currentRefinement: '',\n  focusShortcuts: ['s', '/'],\n  autoFocus: false,\n  searchAsYouType: true,\n  showLoadingIndicator: false,\n  isSearchStalled: false,\n  loadingIndicatorComponent: _react2.default.createElement(DefaultLoadingIndicator, null),\n  submitComponent: _react2.default.createElement(DefaultSubmit, null),\n  resetComponent: _react2.default.createElement(DefaultReset, null)\n};\nexports.default = (0, _translatable2.default)({\n  resetTitle: 'Clear the search query.',\n  submitTitle: 'Submit your search query.',\n  placeholder: 'Search here…'\n})(SearchBox);"]},"metadata":{},"sourceType":"script"}