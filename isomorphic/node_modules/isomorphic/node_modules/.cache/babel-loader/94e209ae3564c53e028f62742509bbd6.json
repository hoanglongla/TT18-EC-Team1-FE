{"ast":null,"code":"import { Map } from 'immutable';\nexport function clearToken() {\n  localStorage.removeItem('id_token');\n}\nexport function getToken() {\n  try {\n    const idToken = localStorage.getItem('id_token');\n    return new Map({\n      idToken\n    });\n  } catch (err) {\n    clearToken();\n    return new Map();\n  }\n}\nexport function arrayEqual(array1, array2) {\n  return array1.sort().toString() == array2.sort().toString();\n}\nexport function timeDifference(givenTime) {\n  givenTime = new Date(givenTime);\n  const milliseconds = new Date().getTime() - givenTime.getTime();\n\n  const numberEnding = number => {\n    return number > 1 ? 's' : '';\n  };\n\n  const number = num => num > 9 ? '' + num : '0' + num;\n\n  const getTime = () => {\n    let temp = Math.floor(milliseconds / 1000);\n    const years = Math.floor(temp / 31536000);\n\n    if (years) {\n      const month = number(givenTime.getUTCMonth() + 1);\n      const day = number(givenTime.getUTCDate());\n      const year = givenTime.getUTCFullYear() % 100;\n      return `${day}-${month}-${year}`;\n    }\n\n    const days = Math.floor((temp %= 31536000) / 86400);\n\n    if (days) {\n      if (days < 28) {\n        return days + ' day' + numberEnding(days);\n      } else {\n        const months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n        const month = months[givenTime.getUTCMonth()];\n        const day = number(givenTime.getUTCDate());\n        return `${day} ${month}`;\n      }\n    }\n\n    const hours = Math.floor((temp %= 86400) / 3600);\n\n    if (hours) {\n      return `${hours} hour${numberEnding(hours)} ago`;\n    }\n\n    const minutes = Math.floor((temp %= 3600) / 60);\n\n    if (minutes) {\n      return `${minutes} minute${numberEnding(minutes)} ago`;\n    }\n\n    return 'a few seconds ago';\n  };\n\n  return getTime();\n}\nexport function stringToInt(value, defValue = 0) {\n  if (!value) {\n    return 0;\n  } else if (!isNaN(value)) {\n    return parseInt(value, 10);\n  }\n\n  return defValue;\n}\nexport function stringToPosetiveInt(value, defValue = 0) {\n  const val = stringToInt(value, defValue);\n  return val > -1 ? val : defValue;\n}","map":{"version":3,"sources":["D:/TT18-EC-Team1-FE/isomorphic/shared/common/library/helpers/utility.js"],"names":["Map","clearToken","localStorage","removeItem","getToken","idToken","getItem","err","arrayEqual","array1","array2","sort","toString","timeDifference","givenTime","Date","milliseconds","getTime","numberEnding","number","num","temp","Math","floor","years","month","getUTCMonth","day","getUTCDate","year","getUTCFullYear","days","months","hours","minutes","stringToInt","value","defValue","isNaN","parseInt","stringToPosetiveInt","val"],"mappings":"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","sourcesContent":["import { Map } from 'immutable';\r\n\r\nexport function clearToken() {\r\n  localStorage.removeItem('id_token');\r\n}\r\n\r\nexport function getToken() {\r\n  try {\r\n    const idToken = localStorage.getItem('id_token');\r\n    return new Map({ idToken });\r\n  } catch (err) {\r\n    clearToken();\r\n    return new Map();\r\n  }\r\n}\r\n\r\nexport function arrayEqual(array1, array2) {\r\n  return array1.sort().toString() == array2.sort().toString();\r\n}\r\n\r\nexport function timeDifference(givenTime) {\r\n  givenTime = new Date(givenTime);\r\n  const milliseconds = new Date().getTime() - givenTime.getTime();\r\n  const numberEnding = number => {\r\n    return number > 1 ? 's' : '';\r\n  };\r\n  const number = num => (num > 9 ? '' + num : '0' + num);\r\n  const getTime = () => {\r\n    let temp = Math.floor(milliseconds / 1000);\r\n    const years = Math.floor(temp / 31536000);\r\n    if (years) {\r\n      const month = number(givenTime.getUTCMonth() + 1);\r\n      const day = number(givenTime.getUTCDate());\r\n      const year = givenTime.getUTCFullYear() % 100;\r\n      return `${day}-${month}-${year}`;\r\n    }\r\n    const days = Math.floor((temp %= 31536000) / 86400);\r\n    if (days) {\r\n      if (days < 28) {\r\n        return days + ' day' + numberEnding(days);\r\n      } else {\r\n        const months = [\r\n          'Jan',\r\n          'Feb',\r\n          'Mar',\r\n          'Apr',\r\n          'May',\r\n          'Jun',\r\n          'Jul',\r\n          'Aug',\r\n          'Sep',\r\n          'Oct',\r\n          'Nov',\r\n          'Dec',\r\n        ];\r\n        const month = months[givenTime.getUTCMonth()];\r\n        const day = number(givenTime.getUTCDate());\r\n        return `${day} ${month}`;\r\n      }\r\n    }\r\n    const hours = Math.floor((temp %= 86400) / 3600);\r\n    if (hours) {\r\n      return `${hours} hour${numberEnding(hours)} ago`;\r\n    }\r\n    const minutes = Math.floor((temp %= 3600) / 60);\r\n    if (minutes) {\r\n      return `${minutes} minute${numberEnding(minutes)} ago`;\r\n    }\r\n    return 'a few seconds ago';\r\n  };\r\n  return getTime();\r\n}\r\n\r\nexport function stringToInt(value, defValue = 0) {\r\n  if (!value) {\r\n    return 0;\r\n  } else if (!isNaN(value)) {\r\n    return parseInt(value, 10);\r\n  }\r\n  return defValue;\r\n}\r\nexport function stringToPosetiveInt(value, defValue = 0) {\r\n  const val = stringToInt(value, defValue);\r\n  return val > -1 ? val : defValue;\r\n}\r\n"]},"metadata":{},"sourceType":"module"}