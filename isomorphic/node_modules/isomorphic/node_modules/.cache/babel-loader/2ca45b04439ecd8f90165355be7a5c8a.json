{"ast":null,"code":"var _jsxFileName = \"D:\\\\Team6-FE\\\\isomorphic\\\\shared\\\\isomorphic\\\\containers\\\\FirestoreCRUD\\\\Investor\\\\Investor.js\";\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Input from '@iso/components/uielements/input';\nimport Modal from '@iso/components/Feedback/Modal';\nimport LayoutContentWrapper from '@iso/components/utility/layoutWrapper';\nimport Box from '@iso/components/utility/box';\nimport ContentHolder from '@iso/components/utility/contentHolder';\nimport Popconfirms from '@iso/components/Feedback/Popconfirm';\nimport investorActions from '@iso/redux/investors/actions';\nimport { ActionBtn, Fieldset, Form, Label, TitleWrapper, ActionWrapper, ComponentTitle, TableWrapper, ButtonHolders } from './Investor.styles';\nimport clone from 'clone';\nconst {\n  saveIntoFireStore,\n  loadFromFireStore,\n  resetFireStoreDocuments,\n  toggleModal,\n  update\n} = investorActions;\nexport default function Investors(props) {\n  const {\n    investors,\n    investor,\n    modalActive\n  } = useSelector(state => state.Investors);\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    dispatch(loadFromFireStore());\n  }, [dispatch]);\n\n  const handleRecord = (actionName, investor) => {\n    if (investor.key && actionName !== 'delete') actionName = 'update';\n    dispatch(saveIntoFireStore(investor, actionName));\n  };\n\n  const resetRecords = () => {\n    dispatch(resetFireStoreDocuments());\n  };\n\n  const handleModal = (investor = null) => {\n    dispatch(toggleModal(investor));\n  };\n\n  const onRecordChange = (key, event) => {\n    if (key) investor[key] = event.target.value;\n    dispatch(update(investor));\n  };\n\n  const dataSource = [];\n  Object.keys(investors).map((investor, index) => {\n    return dataSource.push({ ...investors[investor],\n      key: investor\n    });\n  });\n  const rowSelection = {\n    onChange: (selectedRowKeys, selectedRows) => {}\n  };\n  const columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name',\n    sorter: (a, b) => {\n      if (a.name < b.name) return -1;\n      if (a.name > b.name) return 1;\n      return 0;\n    }\n  }, {\n    title: 'Company Name',\n    dataIndex: 'company_name',\n    key: 'company_name',\n    sorter: (a, b) => {\n      if (a.company_name < b.company_name) return -1;\n      if (a.company_name > b.company_name) return 1;\n      return 0;\n    }\n  }, {\n    title: 'Job Title',\n    dataIndex: 'job_title',\n    key: 'job_title',\n    sorter: (a, b) => {\n      if (a.job_title < b.job_title) return -1;\n      if (a.job_title > b.job_title) return 1;\n      return 0;\n    }\n  }, {\n    title: 'Location',\n    dataIndex: 'location',\n    key: 'location',\n    sorter: (a, b) => {\n      if (a.location < b.location) return -1;\n      if (a.location > b.location) return 1;\n      return 0;\n    }\n  }, {\n    title: 'Number of Investments',\n    dataIndex: 'investment_count',\n    key: 'investment_count',\n    width: '190px',\n    sorter: (a, b) => parseInt(a.investment_count, 10) - parseInt(b.investment_count, 10)\n  }, {\n    title: 'Number of Exists',\n    dataIndex: 'exists_count',\n    key: 'exists_count',\n    width: '160px',\n    sorter: (a, b) => parseInt(a.exists_count, 10) - parseInt(b.exists_count, 10)\n  }, {\n    title: 'Actions',\n    width: '60px',\n    key: 'action',\n    render: (text, row) => {\n      return /*#__PURE__*/React.createElement(ActionWrapper, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => handleModal(row),\n        href: \"# \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ion-android-create\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 15\n        }\n      })), /*#__PURE__*/React.createElement(Popconfirms, {\n        title: \"Are you sure to delete this record?\",\n        okText: \"Yes\",\n        cancelText: \"No\",\n        placement: \"topRight\",\n        onConfirm: () => handleRecord('delete', row),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"deleteBtn\",\n        href: \"# \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"ion-android-delete\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 17\n        }\n      }))));\n    }\n  }];\n  return /*#__PURE__*/React.createElement(LayoutContentWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(ContentHolder, {\n    style: {\n      marginTop: 0,\n      overflow: 'hidden'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(TitleWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ComponentTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, \"Investors\"), /*#__PURE__*/React.createElement(ButtonHolders, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(ActionBtn, {\n    type: \"danger\",\n    onClick: resetRecords,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 15\n    }\n  }, \"Reset record\"), /*#__PURE__*/React.createElement(ActionBtn, {\n    type: \"primary\",\n    onClick: () => handleModal(null),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 15\n    }\n  }, \"Add new record\"))), /*#__PURE__*/React.createElement(Modal, {\n    visible: modalActive,\n    onClose: () => dispatch(toggleModal(null)),\n    title: investor.key ? 'Update investor' : 'Add New investor',\n    okText: investor.key ? 'Update investor' : 'Add investor',\n    onOk: () => handleRecord('insert', investor),\n    onCancel: () => dispatch(toggleModal(null)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Fieldset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"Name\",\n    placeholder: \"Enter owner name\",\n    value: investor.name,\n    onChange: e => onRecordChange('name', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Fieldset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 17\n    }\n  }, \"Company Name\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"Company Name\",\n    placeholder: \"Enter the company name\",\n    value: investor.company_name,\n    onChange: e => onRecordChange('company_name', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Fieldset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 17\n    }\n  }, \"Job TItle\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"Job Title\",\n    placeholder: \"Enter the job title\",\n    value: investor.job_title,\n    onChange: e => onRecordChange('job_title', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Fieldset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 17\n    }\n  }, \"Location\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"Location\",\n    placeholder: \"Enter Description\",\n    value: investor.location,\n    onChange: e => onRecordChange('location', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Fieldset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, \"Number of Investments\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"Number of Investments\",\n    placeholder: \"Enter number of investments\",\n    value: investor.investment_count,\n    onChange: e => onRecordChange('investment_count', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Fieldset, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }, \"Number of Exists\"), /*#__PURE__*/React.createElement(Input, {\n    label: \"Number of Exists\",\n    placeholder: \"Enter Number of Exists\",\n    value: investor.exists_count,\n    onChange: e => onRecordChange('exists_count', e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  })))), /*#__PURE__*/React.createElement(TableWrapper, {\n    rowKey: \"key\",\n    columns: columns,\n    rowSelection: rowSelection,\n    loading: props.isLoading,\n    dataSource: dataSource,\n    className: \"isoSimpleTable\",\n    pagination: {\n      // defaultPageSize: 1,\n      hideOnSinglePage: true,\n      total: dataSource.length,\n      showTotal: (total, range) => {\n        return `Showing ${range[0]}-${range[1]} of ${dataSource.length} Results`;\n      }\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/shared/isomorphic/containers/FirestoreCRUD/Investor/Investor.js"],"names":["React","useDispatch","useSelector","Input","Modal","LayoutContentWrapper","Box","ContentHolder","Popconfirms","investorActions","ActionBtn","Fieldset","Form","Label","TitleWrapper","ActionWrapper","ComponentTitle","TableWrapper","ButtonHolders","clone","saveIntoFireStore","loadFromFireStore","resetFireStoreDocuments","toggleModal","update","Investors","props","investors","investor","modalActive","state","dispatch","useEffect","handleRecord","actionName","key","resetRecords","handleModal","onRecordChange","event","target","value","dataSource","Object","keys","map","index","push","rowSelection","onChange","selectedRowKeys","selectedRows","columns","title","dataIndex","sorter","a","b","name","company_name","job_title","location","width","parseInt","investment_count","exists_count","render","text","row","marginTop","overflow","e","isLoading","hideOnSinglePage","total","length","showTotal","range"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Input from '@iso/components/uielements/input';\r\nimport Modal from '@iso/components/Feedback/Modal';\r\nimport LayoutContentWrapper from '@iso/components/utility/layoutWrapper';\r\nimport Box from '@iso/components/utility/box';\r\nimport ContentHolder from '@iso/components/utility/contentHolder';\r\nimport Popconfirms from '@iso/components/Feedback/Popconfirm';\r\nimport investorActions from '@iso/redux/investors/actions';\r\nimport {\r\n  ActionBtn,\r\n  Fieldset,\r\n  Form,\r\n  Label,\r\n  TitleWrapper,\r\n  ActionWrapper,\r\n  ComponentTitle,\r\n  TableWrapper,\r\n  ButtonHolders,\r\n} from './Investor.styles';\r\nimport clone from 'clone';\r\nconst {\r\n  saveIntoFireStore,\r\n  loadFromFireStore,\r\n  resetFireStoreDocuments,\r\n  toggleModal,\r\n  update,\r\n} = investorActions;\r\nexport default function Investors(props) {\r\n  const { investors, investor, modalActive } = useSelector(\r\n    state => state.Investors\r\n  );\r\n  const dispatch = useDispatch();\r\n  React.useEffect(() => {\r\n    dispatch(loadFromFireStore());\r\n  }, [dispatch]);\r\n  const handleRecord = (actionName, investor) => {\r\n    if (investor.key && actionName !== 'delete') actionName = 'update';\r\n    dispatch(saveIntoFireStore(investor, actionName));\r\n  };\r\n  const resetRecords = () => {\r\n    dispatch(resetFireStoreDocuments());\r\n  };\r\n\r\n  const handleModal = (investor = null) => {\r\n    dispatch(toggleModal(investor));\r\n  };\r\n\r\n  const onRecordChange = (key, event) => {\r\n    if (key) investor[key] = event.target.value;\r\n    dispatch(update(investor));\r\n  };\r\n\r\n  const dataSource = [];\r\n  Object.keys(investors).map((investor, index) => {\r\n    return dataSource.push({\r\n      ...investors[investor],\r\n      key: investor,\r\n    });\r\n  });\r\n\r\n  const rowSelection = {\r\n    onChange: (selectedRowKeys, selectedRows) => {},\r\n  };\r\n\r\n  const columns = [\r\n    {\r\n      title: 'Name',\r\n      dataIndex: 'name',\r\n      key: 'name',\r\n      sorter: (a, b) => {\r\n        if (a.name < b.name) return -1;\r\n        if (a.name > b.name) return 1;\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Company Name',\r\n      dataIndex: 'company_name',\r\n      key: 'company_name',\r\n      sorter: (a, b) => {\r\n        if (a.company_name < b.company_name) return -1;\r\n        if (a.company_name > b.company_name) return 1;\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Job Title',\r\n      dataIndex: 'job_title',\r\n      key: 'job_title',\r\n      sorter: (a, b) => {\r\n        if (a.job_title < b.job_title) return -1;\r\n        if (a.job_title > b.job_title) return 1;\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Location',\r\n      dataIndex: 'location',\r\n      key: 'location',\r\n      sorter: (a, b) => {\r\n        if (a.location < b.location) return -1;\r\n        if (a.location > b.location) return 1;\r\n        return 0;\r\n      },\r\n    },\r\n    {\r\n      title: 'Number of Investments',\r\n      dataIndex: 'investment_count',\r\n      key: 'investment_count',\r\n      width: '190px',\r\n      sorter: (a, b) =>\r\n        parseInt(a.investment_count, 10) - parseInt(b.investment_count, 10),\r\n    },\r\n    {\r\n      title: 'Number of Exists',\r\n      dataIndex: 'exists_count',\r\n      key: 'exists_count',\r\n      width: '160px',\r\n      sorter: (a, b) =>\r\n        parseInt(a.exists_count, 10) - parseInt(b.exists_count, 10),\r\n    },\r\n    {\r\n      title: 'Actions',\r\n      width: '60px',\r\n      key: 'action',\r\n      render: (text, row) => {\r\n        return (\r\n          <ActionWrapper>\r\n            <a onClick={() => handleModal(row)} href=\"# \">\r\n              <i className=\"ion-android-create\" />\r\n            </a>\r\n\r\n            <Popconfirms\r\n              title=\"Are you sure to delete this record?\"\r\n              okText=\"Yes\"\r\n              cancelText=\"No\"\r\n              placement=\"topRight\"\r\n              onConfirm={() => handleRecord('delete', row)}\r\n            >\r\n              <a className=\"deleteBtn\" href=\"# \">\r\n                <i className=\"ion-android-delete\" />\r\n              </a>\r\n            </Popconfirms>\r\n          </ActionWrapper>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <LayoutContentWrapper>\r\n      <Box>\r\n        <ContentHolder style={{ marginTop: 0, overflow: 'hidden' }}>\r\n          <TitleWrapper>\r\n            <ComponentTitle>Investors</ComponentTitle>\r\n\r\n            <ButtonHolders>\r\n              <ActionBtn type=\"danger\" onClick={resetRecords}>\r\n                Reset record\r\n              </ActionBtn>\r\n\r\n              <ActionBtn type=\"primary\" onClick={() => handleModal(null)}>\r\n                Add new record\r\n              </ActionBtn>\r\n            </ButtonHolders>\r\n          </TitleWrapper>\r\n\r\n          <Modal\r\n            visible={modalActive}\r\n            onClose={() => dispatch(toggleModal(null))}\r\n            title={investor.key ? 'Update investor' : 'Add New investor'}\r\n            okText={investor.key ? 'Update investor' : 'Add investor'}\r\n            onOk={() => handleRecord('insert', investor)}\r\n            onCancel={() => dispatch(toggleModal(null))}\r\n          >\r\n            <Form>\r\n              <Fieldset>\r\n                <Label>Name</Label>\r\n                <Input\r\n                  label=\"Name\"\r\n                  placeholder=\"Enter owner name\"\r\n                  value={investor.name}\r\n                  onChange={e => onRecordChange('name', e)}\r\n                />\r\n              </Fieldset>\r\n\r\n              <Fieldset>\r\n                <Label>Company Name</Label>\r\n                <Input\r\n                  label=\"Company Name\"\r\n                  placeholder=\"Enter the company name\"\r\n                  value={investor.company_name}\r\n                  onChange={e => onRecordChange('company_name', e)}\r\n                />\r\n              </Fieldset>\r\n\r\n              <Fieldset>\r\n                <Label>Job TItle</Label>\r\n                <Input\r\n                  label=\"Job Title\"\r\n                  placeholder=\"Enter the job title\"\r\n                  value={investor.job_title}\r\n                  onChange={e => onRecordChange('job_title', e)}\r\n                />\r\n              </Fieldset>\r\n\r\n              <Fieldset>\r\n                <Label>Location</Label>\r\n                <Input\r\n                  label=\"Location\"\r\n                  placeholder=\"Enter Description\"\r\n                  value={investor.location}\r\n                  onChange={e => onRecordChange('location', e)}\r\n                />\r\n              </Fieldset>\r\n\r\n              <Fieldset>\r\n                <Label>Number of Investments</Label>\r\n                <Input\r\n                  label=\"Number of Investments\"\r\n                  placeholder=\"Enter number of investments\"\r\n                  value={investor.investment_count}\r\n                  onChange={e => onRecordChange('investment_count', e)}\r\n                />\r\n              </Fieldset>\r\n\r\n              <Fieldset>\r\n                <Label>Number of Exists</Label>\r\n                <Input\r\n                  label=\"Number of Exists\"\r\n                  placeholder=\"Enter Number of Exists\"\r\n                  value={investor.exists_count}\r\n                  onChange={e => onRecordChange('exists_count', e)}\r\n                />\r\n              </Fieldset>\r\n            </Form>\r\n          </Modal>\r\n\r\n          <TableWrapper\r\n            rowKey=\"key\"\r\n            columns={columns}\r\n            rowSelection={rowSelection}\r\n            loading={props.isLoading}\r\n            dataSource={dataSource}\r\n            className=\"isoSimpleTable\"\r\n            pagination={{\r\n              // defaultPageSize: 1,\r\n              hideOnSinglePage: true,\r\n              total: dataSource.length,\r\n              showTotal: (total, range) => {\r\n                return `Showing ${range[0]}-${range[1]} of ${\r\n                  dataSource.length\r\n                } Results`;\r\n              },\r\n            }}\r\n          />\r\n        </ContentHolder>\r\n      </Box>\r\n    </LayoutContentWrapper>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}