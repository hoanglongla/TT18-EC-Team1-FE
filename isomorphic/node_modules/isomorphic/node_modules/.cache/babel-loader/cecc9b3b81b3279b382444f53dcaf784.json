{"ast":null,"code":"'use strict';\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n} //Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: ''\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'filteredSuggestions',\n    value: function filteredSuggestions(query, suggestions) {\n      var _this2 = this;\n\n      if (this.props.handleFilterSuggestions) {\n        return this.props.handleFilterSuggestions(query, suggestions);\n      }\n\n      var exactSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) === 0;\n      });\n      var partialSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) > 0;\n      });\n      return exactSuggestions.concat(partialSuggestions);\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice(); // Early exit from the function if the array\n      // is already empty\n\n      if (currentTags.length === 0) {\n        return;\n      }\n\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, e) {\n      if (this.props.handleTagClick) {\n        this.props.handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n      this.setState({\n        query: query\n      }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n\n      this.setState({\n        isFocused: true\n      });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n\n      this.setState({\n        isFocused: false\n      });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode; // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: []\n        });\n      } // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n\n\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({\n          id: query\n        }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      } // when backspace key is pressed and query is blank, delete tag\n\n\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      } // up arrow\n\n\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      } // down arrow\n\n\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength); // Used to determine how the pasted content is split.\n\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp); // Only add unique tags\n\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({\n          id: tag\n        }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags; // locate tags\n\n      var dragTag = tags[dragIndex]; // call handler with the index of the dragged tag\n      // and the tag that is hovered\n\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames); // get the suggestions for the given query\n\n\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          inputName = _props2.name,\n          inputId = _props2.id,\n          maxLength = _props2.maxLength,\n          inline = _props2.inline,\n          inputFieldPosition = _props2.inputFieldPosition,\n          inputValue = _props2.inputValue,\n          inputProps = _props2.inputProps;\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n      var tagInput = !this.props.readOnly ? _react2.default.createElement('div', {\n        className: classNames.tagInput\n      }, _react2.default.createElement('input', _extends({}, inputProps, {\n        ref: function ref(input) {\n          _this4.textInput = input;\n        },\n        className: classNames.tagInputField,\n        type: 'text',\n        placeholder: placeholder,\n        'aria-label': placeholder,\n        onFocus: this.handleFocus,\n        onBlur: this.handleBlur,\n        onChange: this.handleChange,\n        onKeyDown: this.handleKeyDown,\n        onPaste: this.handlePaste,\n        name: inputName,\n        id: inputId,\n        maxLength: maxLength,\n        value: inputValue,\n        'data-automation': 'input',\n        'data-testid': 'input'\n      })), _react2.default.createElement(_Suggestions2.default, {\n        query: query,\n        suggestions: suggestions,\n        labelField: this.props.labelField,\n        selectedIndex: selectedIndex,\n        handleClick: this.handleSuggestionClick,\n        handleHover: this.handleSuggestionHover,\n        minQueryLength: this.props.minQueryLength,\n        shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n        isFocused: this.state.isFocused,\n        classNames: classNames,\n        renderSuggestion: this.props.renderSuggestion\n      })) : null;\n      return _react2.default.createElement('div', {\n        className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n        ref: this.reactTagsRef\n      }, _react2.default.createElement('p', {\n        role: 'alert',\n        className: 'sr-only',\n        style: {\n          position: 'absolute',\n          overflow: 'hidden',\n          clip: 'rect(0 0 0 0)',\n          margin: '-1px',\n          padding: 0,\n          width: '1px',\n          height: '1px',\n          border: 0\n        }\n      }, this.state.ariaLiveStatus), position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput, _react2.default.createElement('div', {\n        className: classNames.selected\n      }, tagItems, position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput), position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput);\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [_constants.KEYS.ENTER, _constants.KEYS.TAB],\n  autofocus: true,\n  inline: true,\n  // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({\n      query: ''\n    });\n\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query, _this5.props.suggestions);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props3 = _this5.props,\n        tags = _props3.tags,\n        labelField = _props3.labelField,\n        allowUnique = _props3.allowUnique;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    }); // Return if tag has been already added\n\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField], _this5.props.suggestions);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    } // call method to add\n\n\n    _this5.props.handleAddition(tag); // reset the state\n\n\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.getTagItems = function () {\n    var _props4 = _this5.props,\n        classNames = _props4.classNames,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        removeComponent = _props4.removeComponent,\n        readOnly = _props4.readOnly,\n        allowDragDrop = _props4.allowDragDrop;\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_Tag2.default, {\n        key: index,\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this5.handleDelete.bind(_this5, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this5.handleTagClick.bind(_this5, index),\n        readOnly: readOnly,\n        classNames: _extends({}, _constants.DEFAULT_CLASSNAMES, classNames),\n        allowDragDrop: allowDragDrop\n      });\n    });\n  };\n};\n\nmodule.exports = {\n  WithContext: function WithContext(_ref2) {\n    var props = _objectWithoutProperties(_ref2, []);\n\n    return _react2.default.createElement(_reactDnd.DndProvider, {\n      backend: _reactDndHtml5Backend.HTML5Backend\n    }, _react2.default.createElement(ReactTags, props));\n  },\n  WithOutContext: ReactTags,\n  KEYS: _constants.KEYS\n};","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/node_modules/react-tag-input/dist-modules/components/ReactTags.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_createClass","defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","Constructor","protoProps","staticProps","_react","require","_react2","_interopRequireDefault","_reactDnd","_reactDndHtml5Backend","_isEqual","_isEqual2","_noop","_noop2","_uniq","_uniq2","_Suggestions","_Suggestions2","_propTypes","_propTypes2","_classnames","_classnames2","_Tag","_Tag2","_utils","_constants","obj","__esModule","default","_objectWithoutProperties","keys","indexOf","_defineProperty","value","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","ReactTags","_Component","_this","getPrototypeOf","_initialiseProps","inline","console","warn","suggestions","state","query","isFocused","selectedIndex","selectionMode","ariaLiveStatus","reactTagsRef","createRef","handleFocus","bind","handleBlur","handleKeyDown","handleChange","moveTag","handlePaste","handleSuggestionHover","handleSuggestionClick","componentDidMount","_props","autofocus","readOnly","resetAndFocusInput","componentDidUpdate","prevProps","updateSuggestions","filteredSuggestions","_this2","handleFilterSuggestions","exactSuggestions","filter","item","getQueryIndex","partialSuggestions","concat","handleDelete","index","event","preventDefault","stopPropagation","currentTags","tags","slice","id","allTags","current","querySelectorAll","nextElementToFocus","nextIndex","nextTag","textInput","focus","setState","handleTagClick","e","handleInputChange","trim","handleInputFocus","handleInputBlur","_state","keyCode","KEYS","ESCAPE","delimiters","shiftKey","TAB","selectedQuery","labelField","addTag","BACKSPACE","allowDeleteFromEmptyInput","UP_ARROW","DOWN_ARROW","_this3","allowAdditionFromPaste","clipboardData","window","clipboardText","getData","_props$maxLength","maxLength","undefined","maxTextLength","Math","min","pastedText","substr","delimiterRegExp","buildRegExpFromDelimiters","split","forEach","tag","dragIndex","hoverIndex","dragTag","handleDrag","render","_this4","tagItems","getTagItems","classNames","DEFAULT_CLASSNAMES","_props2","placeholder","inputName","name","inputId","inputFieldPosition","inputValue","inputProps","position","INPUT_FIELD_POSITIONS","BOTTOM","tagInput","createElement","className","ref","input","tagInputField","type","onFocus","onBlur","onChange","onKeyDown","onPaste","handleClick","handleHover","minQueryLength","shouldRenderSuggestions","renderSuggestion","role","style","overflow","clip","margin","padding","width","height","border","TOP","selected","INLINE","Component","propTypes","string","arrayOf","shape","isRequired","number","bool","oneOf","func","handleAddition","allowDragDrop","removeComponent","autocomplete","oneOfType","object","allowUnique","defaultProps","DEFAULT_PLACEHOLDER","DEFAULT_LABEL_FIELD","ENTER","_this5","toLowerCase","_state2","_props3","existingKeys","map","possibleMatches","_props4","onDelete","onTagClicked","module","exports","WithContext","_ref2","DndProvider","backend","HTML5Backend","WithOutContext"],"mappings":"AAAA;;AAEA,IAAIA,QAAQ,GAAGC,MAAM,CAACC,MAAP,IAAiB,UAAUC,MAAV,EAAkB;AAAE,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAACC,MAA9B,EAAsCF,CAAC,EAAvC,EAA2C;AAAE,QAAIG,MAAM,GAAGF,SAAS,CAACD,CAAD,CAAtB;;AAA2B,SAAK,IAAII,GAAT,IAAgBD,MAAhB,EAAwB;AAAE,UAAIN,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCJ,MAArC,EAA6CC,GAA7C,CAAJ,EAAuD;AAAEL,QAAAA,MAAM,CAACK,GAAD,CAAN,GAAcD,MAAM,CAACC,GAAD,CAApB;AAA4B;AAAE;AAAE;;AAAC,SAAOL,MAAP;AAAgB,CAAhQ;;AAEA,IAAIS,YAAY,GAAG,YAAY;AAAE,WAASC,gBAAT,CAA0BV,MAA1B,EAAkCW,KAAlC,EAAyC;AAAE,SAAK,IAAIV,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGU,KAAK,CAACR,MAA1B,EAAkCF,CAAC,EAAnC,EAAuC;AAAE,UAAIW,UAAU,GAAGD,KAAK,CAACV,CAAD,CAAtB;AAA2BW,MAAAA,UAAU,CAACC,UAAX,GAAwBD,UAAU,CAACC,UAAX,IAAyB,KAAjD;AAAwDD,MAAAA,UAAU,CAACE,YAAX,GAA0B,IAA1B;AAAgC,UAAI,WAAWF,UAAf,EAA2BA,UAAU,CAACG,QAAX,GAAsB,IAAtB;AAA4BjB,MAAAA,MAAM,CAACkB,cAAP,CAAsBhB,MAAtB,EAA8BY,UAAU,CAACP,GAAzC,EAA8CO,UAA9C;AAA4D;AAAE;;AAAC,SAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,QAAID,UAAJ,EAAgBR,gBAAgB,CAACO,WAAW,CAACX,SAAb,EAAwBY,UAAxB,CAAhB;AAAqD,QAAIC,WAAJ,EAAiBT,gBAAgB,CAACO,WAAD,EAAcE,WAAd,CAAhB;AAA4C,WAAOF,WAAP;AAAqB,GAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAIG,MAAM,GAAGC,OAAO,CAAC,OAAD,CAApB;;AAEA,IAAIC,OAAO,GAAGC,sBAAsB,CAACH,MAAD,CAApC;;AAEA,IAAII,SAAS,GAAGH,OAAO,CAAC,WAAD,CAAvB;;AAEA,IAAII,qBAAqB,GAAGJ,OAAO,CAAC,yBAAD,CAAnC;;AAEA,IAAIK,QAAQ,GAAGL,OAAO,CAAC,gBAAD,CAAtB;;AAEA,IAAIM,SAAS,GAAGJ,sBAAsB,CAACG,QAAD,CAAtC;;AAEA,IAAIE,KAAK,GAAGP,OAAO,CAAC,aAAD,CAAnB;;AAEA,IAAIQ,MAAM,GAAGN,sBAAsB,CAACK,KAAD,CAAnC;;AAEA,IAAIE,KAAK,GAAGT,OAAO,CAAC,aAAD,CAAnB;;AAEA,IAAIU,MAAM,GAAGR,sBAAsB,CAACO,KAAD,CAAnC;;AAEA,IAAIE,YAAY,GAAGX,OAAO,CAAC,eAAD,CAA1B;;AAEA,IAAIY,aAAa,GAAGV,sBAAsB,CAACS,YAAD,CAA1C;;AAEA,IAAIE,UAAU,GAAGb,OAAO,CAAC,YAAD,CAAxB;;AAEA,IAAIc,WAAW,GAAGZ,sBAAsB,CAACW,UAAD,CAAxC;;AAEA,IAAIE,WAAW,GAAGf,OAAO,CAAC,YAAD,CAAzB;;AAEA,IAAIgB,YAAY,GAAGd,sBAAsB,CAACa,WAAD,CAAzC;;AAEA,IAAIE,IAAI,GAAGjB,OAAO,CAAC,OAAD,CAAlB;;AAEA,IAAIkB,KAAK,GAAGhB,sBAAsB,CAACe,IAAD,CAAlC;;AAEA,IAAIE,MAAM,GAAGnB,OAAO,CAAC,SAAD,CAApB;;AAEA,IAAIoB,UAAU,GAAGpB,OAAO,CAAC,aAAD,CAAxB;;AAEA,SAASE,sBAAT,CAAgCmB,GAAhC,EAAqC;AAAE,SAAOA,GAAG,IAAIA,GAAG,CAACC,UAAX,GAAwBD,GAAxB,GAA8B;AAAEE,IAAAA,OAAO,EAAEF;AAAX,GAArC;AAAwD;;AAE/F,SAASG,wBAAT,CAAkCH,GAAlC,EAAuCI,IAAvC,EAA6C;AAAE,MAAI9C,MAAM,GAAG,EAAb;;AAAiB,OAAK,IAAIC,CAAT,IAAcyC,GAAd,EAAmB;AAAE,QAAII,IAAI,CAACC,OAAL,CAAa9C,CAAb,KAAmB,CAAvB,EAA0B;AAAU,QAAI,CAACH,MAAM,CAACQ,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqCkC,GAArC,EAA0CzC,CAA1C,CAAL,EAAmD;AAAUD,IAAAA,MAAM,CAACC,CAAD,CAAN,GAAYyC,GAAG,CAACzC,CAAD,CAAf;AAAqB;;AAAC,SAAOD,MAAP;AAAgB;;AAE5N,SAASgD,eAAT,CAAyBN,GAAzB,EAA8BrC,GAA9B,EAAmC4C,KAAnC,EAA0C;AAAE,MAAI5C,GAAG,IAAIqC,GAAX,EAAgB;AAAE5C,IAAAA,MAAM,CAACkB,cAAP,CAAsB0B,GAAtB,EAA2BrC,GAA3B,EAAgC;AAAE4C,MAAAA,KAAK,EAAEA,KAAT;AAAgBpC,MAAAA,UAAU,EAAE,IAA5B;AAAkCC,MAAAA,YAAY,EAAE,IAAhD;AAAsDC,MAAAA,QAAQ,EAAE;AAAhE,KAAhC;AAA0G,GAA5H,MAAkI;AAAE2B,IAAAA,GAAG,CAACrC,GAAD,CAAH,GAAW4C,KAAX;AAAmB;;AAAC,SAAOP,GAAP;AAAa;;AAEjN,SAASQ,eAAT,CAAyBC,QAAzB,EAAmClC,WAAnC,EAAgD;AAAE,MAAI,EAAEkC,QAAQ,YAAYlC,WAAtB,CAAJ,EAAwC;AAAE,UAAM,IAAImC,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,SAASC,0BAAT,CAAoCC,IAApC,EAA0C9C,IAA1C,EAAgD;AAAE,MAAI,CAAC8C,IAAL,EAAW;AAAE,UAAM,IAAIC,cAAJ,CAAmB,2DAAnB,CAAN;AAAwF;;AAAC,SAAO/C,IAAI,KAAK,OAAOA,IAAP,KAAgB,QAAhB,IAA4B,OAAOA,IAAP,KAAgB,UAAjD,CAAJ,GAAmEA,IAAnE,GAA0E8C,IAAjF;AAAwF;;AAEhP,SAASE,SAAT,CAAmBC,QAAnB,EAA6BC,UAA7B,EAAyC;AAAE,MAAI,OAAOA,UAAP,KAAsB,UAAtB,IAAoCA,UAAU,KAAK,IAAvD,EAA6D;AAAE,UAAM,IAAIN,SAAJ,CAAc,6DAA6D,OAAOM,UAAlF,CAAN;AAAsG;;AAACD,EAAAA,QAAQ,CAACnD,SAAT,GAAqBR,MAAM,CAAC6D,MAAP,CAAcD,UAAU,IAAIA,UAAU,CAACpD,SAAvC,EAAkD;AAAEsD,IAAAA,WAAW,EAAE;AAAEX,MAAAA,KAAK,EAAEQ,QAAT;AAAmB5C,MAAAA,UAAU,EAAE,KAA/B;AAAsCE,MAAAA,QAAQ,EAAE,IAAhD;AAAsDD,MAAAA,YAAY,EAAE;AAApE;AAAf,GAAlD,CAArB;AAAqK,MAAI4C,UAAJ,EAAgB5D,MAAM,CAAC+D,cAAP,GAAwB/D,MAAM,CAAC+D,cAAP,CAAsBJ,QAAtB,EAAgCC,UAAhC,CAAxB,GAAsED,QAAQ,CAACK,SAAT,GAAqBJ,UAA3F;AAAwG,C,CAE9e;;;AAGA,IAAIK,SAAS,GAAG,UAAUC,UAAV,EAAsB;AACpCR,EAAAA,SAAS,CAACO,SAAD,EAAYC,UAAZ,CAAT;;AAEA,WAASD,SAAT,CAAmBpD,KAAnB,EAA0B;AACxBuC,IAAAA,eAAe,CAAC,IAAD,EAAOa,SAAP,CAAf;;AAEA,QAAIE,KAAK,GAAGZ,0BAA0B,CAAC,IAAD,EAAO,CAACU,SAAS,CAACD,SAAV,IAAuBhE,MAAM,CAACoE,cAAP,CAAsBH,SAAtB,CAAxB,EAA0DvD,IAA1D,CAA+D,IAA/D,EAAqEG,KAArE,CAAP,CAAtC;;AAEAwD,IAAAA,gBAAgB,CAAC3D,IAAjB,CAAsByD,KAAtB;;AAEA,QAAI,CAACtD,KAAK,CAACyD,MAAX,EAAmB;AACjB;AACAC,MAAAA,OAAO,CAACC,IAAR,CAAa,wHAAb;AACA;AACD;;AAED,QAAIC,WAAW,GAAG5D,KAAK,CAAC4D,WAAxB;AAEAN,IAAAA,KAAK,CAACO,KAAN,GAAc;AACZD,MAAAA,WAAW,EAAEA,WADD;AAEZE,MAAAA,KAAK,EAAE,EAFK;AAGZC,MAAAA,SAAS,EAAE,KAHC;AAIZC,MAAAA,aAAa,EAAE,CAAC,CAJJ;AAKZC,MAAAA,aAAa,EAAE,KALH;AAMZC,MAAAA,cAAc,EAAE;AANJ,KAAd;AAQAZ,IAAAA,KAAK,CAACa,YAAN,GAAqB,CAAC,GAAG1D,MAAM,CAAC2D,SAAX,GAArB;AACAd,IAAAA,KAAK,CAACe,WAAN,GAAoBf,KAAK,CAACe,WAAN,CAAkBC,IAAlB,CAAuBhB,KAAvB,CAApB;AACAA,IAAAA,KAAK,CAACiB,UAAN,GAAmBjB,KAAK,CAACiB,UAAN,CAAiBD,IAAjB,CAAsBhB,KAAtB,CAAnB;AACAA,IAAAA,KAAK,CAACkB,aAAN,GAAsBlB,KAAK,CAACkB,aAAN,CAAoBF,IAApB,CAAyBhB,KAAzB,CAAtB;AACAA,IAAAA,KAAK,CAACmB,YAAN,GAAqBnB,KAAK,CAACmB,YAAN,CAAmBH,IAAnB,CAAwBhB,KAAxB,CAArB;AACAA,IAAAA,KAAK,CAACoB,OAAN,GAAgBpB,KAAK,CAACoB,OAAN,CAAcJ,IAAd,CAAmBhB,KAAnB,CAAhB;AACAA,IAAAA,KAAK,CAACqB,WAAN,GAAoBrB,KAAK,CAACqB,WAAN,CAAkBL,IAAlB,CAAuBhB,KAAvB,CAApB;AACAA,IAAAA,KAAK,CAACsB,qBAAN,GAA8BtB,KAAK,CAACsB,qBAAN,CAA4BN,IAA5B,CAAiChB,KAAjC,CAA9B;AACAA,IAAAA,KAAK,CAACuB,qBAAN,GAA8BvB,KAAK,CAACuB,qBAAN,CAA4BP,IAA5B,CAAiChB,KAAjC,CAA9B;AACA,WAAOA,KAAP;AACD;;AAEDxD,EAAAA,YAAY,CAACsD,SAAD,EAAY,CAAC;AACvB1D,IAAAA,GAAG,EAAE,mBADkB;AAEvB4C,IAAAA,KAAK,EAAE,SAASwC,iBAAT,GAA6B;AAClC,UAAIC,MAAM,GAAG,KAAK/E,KAAlB;AAAA,UACIgF,SAAS,GAAGD,MAAM,CAACC,SADvB;AAAA,UAEIC,QAAQ,GAAGF,MAAM,CAACE,QAFtB;;AAKA,UAAID,SAAS,IAAI,CAACC,QAAlB,EAA4B;AAC1B,aAAKC,kBAAL;AACD;AACF;AAXsB,GAAD,EAYrB;AACDxF,IAAAA,GAAG,EAAE,oBADJ;AAED4C,IAAAA,KAAK,EAAE,SAAS6C,kBAAT,CAA4BC,SAA5B,EAAuC;AAC5C,UAAI,CAAC,CAAC,GAAGpE,SAAS,CAACiB,OAAd,EAAuBmD,SAAS,CAACxB,WAAjC,EAA8C,KAAK5D,KAAL,CAAW4D,WAAzD,CAAL,EAA4E;AAC1E,aAAKyB,iBAAL;AACD;AACF;AANA,GAZqB,EAmBrB;AACD3F,IAAAA,GAAG,EAAE,qBADJ;AAED4C,IAAAA,KAAK,EAAE,SAASgD,mBAAT,CAA6BxB,KAA7B,EAAoCF,WAApC,EAAiD;AACtD,UAAI2B,MAAM,GAAG,IAAb;;AAEA,UAAI,KAAKvF,KAAL,CAAWwF,uBAAf,EAAwC;AACtC,eAAO,KAAKxF,KAAL,CAAWwF,uBAAX,CAAmC1B,KAAnC,EAA0CF,WAA1C,CAAP;AACD;;AAED,UAAI6B,gBAAgB,GAAG7B,WAAW,CAAC8B,MAAZ,CAAmB,UAAUC,IAAV,EAAgB;AACxD,eAAOJ,MAAM,CAACK,aAAP,CAAqB9B,KAArB,EAA4B6B,IAA5B,MAAsC,CAA7C;AACD,OAFsB,CAAvB;AAGA,UAAIE,kBAAkB,GAAGjC,WAAW,CAAC8B,MAAZ,CAAmB,UAAUC,IAAV,EAAgB;AAC1D,eAAOJ,MAAM,CAACK,aAAP,CAAqB9B,KAArB,EAA4B6B,IAA5B,IAAoC,CAA3C;AACD,OAFwB,CAAzB;AAGA,aAAOF,gBAAgB,CAACK,MAAjB,CAAwBD,kBAAxB,CAAP;AACD;AAhBA,GAnBqB,EAoCrB;AACDnG,IAAAA,GAAG,EAAE,cADJ;AAED4C,IAAAA,KAAK,EAAE,SAASyD,YAAT,CAAsBC,KAAtB,EAA6BC,KAA7B,EAAoC;AACzCA,MAAAA,KAAK,CAACC,cAAN;AACAD,MAAAA,KAAK,CAACE,eAAN;AACA,UAAIC,WAAW,GAAG,KAAKpG,KAAL,CAAWqG,IAAX,CAAgBC,KAAhB,EAAlB,CAHyC,CAIzC;AACA;;AACA,UAAIF,WAAW,CAAC5G,MAAZ,KAAuB,CAA3B,EAA8B;AAC5B;AACD;;AACD,UAAI0E,cAAc,GAAG,kBAAkB8B,KAAlB,GAA0B,cAA1B,GAA2CI,WAAW,CAACJ,KAAD,CAAX,CAAmBO,EAA9D,GAAmE,WAAxF;AACA,WAAKvG,KAAL,CAAW+F,YAAX,CAAwBC,KAAxB,EAA+BC,KAA/B;AACA,UAAIO,OAAO,GAAG,KAAKrC,YAAL,CAAkBsC,OAAlB,CAA0BC,gBAA1B,CAA2C,oBAA3C,CAAd;AACA,UAAIC,kBAAkB,GAAG,KAAK,CAA9B;AAAA,UACIC,SAAS,GAAG,KAAK,CADrB;AAAA,UAEIC,OAAO,GAAG,KAAK,CAFnB;;AAGA,UAAIb,KAAK,KAAK,CAAV,IAAeI,WAAW,CAAC5G,MAAZ,GAAqB,CAAxC,EAA2C;AACzCmH,QAAAA,kBAAkB,GAAGH,OAAO,CAAC,CAAD,CAA5B;AACAI,QAAAA,SAAS,GAAG,CAAZ;AACAC,QAAAA,OAAO,GAAGT,WAAW,CAAC,CAAD,CAArB;AACD,OAJD,MAIO;AACLO,QAAAA,kBAAkB,GAAGH,OAAO,CAACR,KAAK,GAAG,CAAT,CAA5B;AACAY,QAAAA,SAAS,GAAGZ,KAAK,GAAG,CAApB;AACAa,QAAAA,OAAO,GAAGT,WAAW,CAACQ,SAAD,CAArB;AACD;;AACD,UAAI,CAACD,kBAAL,EAAyB;AACvBC,QAAAA,SAAS,GAAG,CAAC,CAAb;AACAD,QAAAA,kBAAkB,GAAG,KAAKG,SAA1B;AACD;;AACD,UAAIF,SAAS,IAAI,CAAjB,EAAoB;AAClB1C,QAAAA,cAAc,IAAI,mBAAmB0C,SAAnB,GAA+B,cAA/B,GAAgDC,OAAO,CAACN,EAAxD,GAA6D,sCAA/E;AACD,OAFD,MAEO;AACLrC,QAAAA,cAAc,IAAI,8CAAlB;AACD;;AACDyC,MAAAA,kBAAkB,CAACI,KAAnB;AACA,WAAKC,QAAL,CAAc;AACZ9C,QAAAA,cAAc,EAAEA;AADJ,OAAd;AAGD;AAvCA,GApCqB,EA4ErB;AACDxE,IAAAA,GAAG,EAAE,gBADJ;AAED4C,IAAAA,KAAK,EAAE,SAAS2E,cAAT,CAAwB3H,CAAxB,EAA2B4H,CAA3B,EAA8B;AACnC,UAAI,KAAKlH,KAAL,CAAWiH,cAAf,EAA+B;AAC7B,aAAKjH,KAAL,CAAWiH,cAAX,CAA0B3H,CAA1B,EAA6B4H,CAA7B;AACD;AACF;AANA,GA5EqB,EAmFrB;AACDxH,IAAAA,GAAG,EAAE,cADJ;AAED4C,IAAAA,KAAK,EAAE,SAASmC,YAAT,CAAsByC,CAAtB,EAAyB;AAC9B,UAAI,KAAKlH,KAAL,CAAWmH,iBAAf,EAAkC;AAChC,aAAKnH,KAAL,CAAWmH,iBAAX,CAA6BD,CAAC,CAAC7H,MAAF,CAASiD,KAAtC;AACD;;AAED,UAAIwB,KAAK,GAAGoD,CAAC,CAAC7H,MAAF,CAASiD,KAAT,CAAe8E,IAAf,EAAZ;AAEA,WAAKJ,QAAL,CAAc;AAAElD,QAAAA,KAAK,EAAEA;AAAT,OAAd,EAAgC,KAAKuB,iBAArC;AACD;AAVA,GAnFqB,EA8FrB;AACD3F,IAAAA,GAAG,EAAE,aADJ;AAED4C,IAAAA,KAAK,EAAE,SAAS+B,WAAT,CAAqB4B,KAArB,EAA4B;AACjC,UAAI3D,KAAK,GAAG2D,KAAK,CAAC5G,MAAN,CAAaiD,KAAzB;;AACA,UAAI,KAAKtC,KAAL,CAAWqH,gBAAf,EAAiC;AAC/B,aAAKrH,KAAL,CAAWqH,gBAAX,CAA4B/E,KAA5B;AACD;;AACD,WAAK0E,QAAL,CAAc;AAAEjD,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD;AARA,GA9FqB,EAuGrB;AACDrE,IAAAA,GAAG,EAAE,YADJ;AAED4C,IAAAA,KAAK,EAAE,SAASiC,UAAT,CAAoB0B,KAApB,EAA2B;AAChC,UAAI3D,KAAK,GAAG2D,KAAK,CAAC5G,MAAN,CAAaiD,KAAzB;;AACA,UAAI,KAAKtC,KAAL,CAAWsH,eAAf,EAAgC;AAC9B,aAAKtH,KAAL,CAAWsH,eAAX,CAA2BhF,KAA3B;;AACA,YAAI,KAAKwE,SAAT,EAAoB;AAClB,eAAKA,SAAL,CAAexE,KAAf,GAAuB,EAAvB;AACD;AACF;;AACD,WAAK0E,QAAL,CAAc;AAAEjD,QAAAA,SAAS,EAAE;AAAb,OAAd;AACD;AAXA,GAvGqB,EAmHrB;AACDrE,IAAAA,GAAG,EAAE,eADJ;AAED4C,IAAAA,KAAK,EAAE,SAASkC,aAAT,CAAuB0C,CAAvB,EAA0B;AAC/B,UAAIK,MAAM,GAAG,KAAK1D,KAAlB;AAAA,UACIC,KAAK,GAAGyD,MAAM,CAACzD,KADnB;AAAA,UAEIE,aAAa,GAAGuD,MAAM,CAACvD,aAF3B;AAAA,UAGIJ,WAAW,GAAG2D,MAAM,CAAC3D,WAHzB;AAAA,UAIIK,aAAa,GAAGsD,MAAM,CAACtD,aAJ3B,CAD+B,CAO/B;;AAEA,UAAIiD,CAAC,CAACM,OAAF,KAAc1F,UAAU,CAAC2F,IAAX,CAAgBC,MAAlC,EAA0C;AACxCR,QAAAA,CAAC,CAAChB,cAAF;AACAgB,QAAAA,CAAC,CAACf,eAAF;AACA,aAAKa,QAAL,CAAc;AACZhD,UAAAA,aAAa,EAAE,CAAC,CADJ;AAEZC,UAAAA,aAAa,EAAE,KAFH;AAGZL,UAAAA,WAAW,EAAE;AAHD,SAAd;AAKD,OAjB8B,CAmB/B;AACA;AACA;;;AACA,UAAI,KAAK5D,KAAL,CAAW2H,UAAX,CAAsBvF,OAAtB,CAA8B8E,CAAC,CAACM,OAAhC,MAA6C,CAAC,CAA9C,IAAmD,CAACN,CAAC,CAACU,QAA1D,EAAoE;AAClE,YAAIV,CAAC,CAACM,OAAF,KAAc1F,UAAU,CAAC2F,IAAX,CAAgBI,GAA9B,IAAqC/D,KAAK,KAAK,EAAnD,EAAuD;AACrDoD,UAAAA,CAAC,CAAChB,cAAF;AACD;;AAED,YAAI4B,aAAa,GAAG7D,aAAa,IAAID,aAAa,KAAK,CAAC,CAApC,GAAwCJ,WAAW,CAACI,aAAD,CAAnD,GAAqE3B,eAAe,CAAC;AAAEkE,UAAAA,EAAE,EAAEzC;AAAN,SAAD,EAAgB,KAAK9D,KAAL,CAAW+H,UAA3B,EAAuCjE,KAAvC,CAAxG;;AAEA,YAAIgE,aAAa,KAAK,EAAtB,EAA0B;AACxB,eAAKE,MAAL,CAAYF,aAAZ;AACD;AACF,OAhC8B,CAkC/B;;;AACA,UAAIZ,CAAC,CAACM,OAAF,KAAc1F,UAAU,CAAC2F,IAAX,CAAgBQ,SAA9B,IAA2CnE,KAAK,KAAK,EAArD,IAA2D,KAAK9D,KAAL,CAAWkI,yBAA1E,EAAqG;AACnG,aAAKnC,YAAL,CAAkB,KAAK/F,KAAL,CAAWqG,IAAX,CAAgB7G,MAAhB,GAAyB,CAA3C,EAA8C0H,CAA9C;AACD,OArC8B,CAuC/B;;;AACA,UAAIA,CAAC,CAACM,OAAF,KAAc1F,UAAU,CAAC2F,IAAX,CAAgBU,QAAlC,EAA4C;AAC1CjB,QAAAA,CAAC,CAAChB,cAAF;AACA,aAAKc,QAAL,CAAc;AACZhD,UAAAA,aAAa,EAAEA,aAAa,IAAI,CAAjB,GAAqBJ,WAAW,CAACpE,MAAZ,GAAqB,CAA1C,GAA8CwE,aAAa,GAAG,CADjE;AAEZC,UAAAA,aAAa,EAAE;AAFH,SAAd;AAID,OA9C8B,CAgD/B;;;AACA,UAAIiD,CAAC,CAACM,OAAF,KAAc1F,UAAU,CAAC2F,IAAX,CAAgBW,UAAlC,EAA8C;AAC5ClB,QAAAA,CAAC,CAAChB,cAAF;AACA,aAAKc,QAAL,CAAc;AACZhD,UAAAA,aAAa,EAAEJ,WAAW,CAACpE,MAAZ,KAAuB,CAAvB,GAA2B,CAAC,CAA5B,GAAgC,CAACwE,aAAa,GAAG,CAAjB,IAAsBJ,WAAW,CAACpE,MADrE;AAEZyE,UAAAA,aAAa,EAAE;AAFH,SAAd;AAID;AACF;AA1DA,GAnHqB,EA8KrB;AACDvE,IAAAA,GAAG,EAAE,aADJ;AAED4C,IAAAA,KAAK,EAAE,SAASqC,WAAT,CAAqBuC,CAArB,EAAwB;AAC7B,UAAImB,MAAM,GAAG,IAAb;;AAEA,UAAI,CAAC,KAAKrI,KAAL,CAAWsI,sBAAhB,EAAwC;AACtC;AACD;;AAEDpB,MAAAA,CAAC,CAAChB,cAAF;AAEA,UAAIqC,aAAa,GAAGrB,CAAC,CAACqB,aAAF,IAAmBC,MAAM,CAACD,aAA9C;AACA,UAAIE,aAAa,GAAGF,aAAa,CAACG,OAAd,CAAsB,MAAtB,CAApB;AAEA,UAAIC,gBAAgB,GAAG,KAAK3I,KAAL,CAAW4I,SAAlC;AAAA,UACIA,SAAS,GAAGD,gBAAgB,KAAKE,SAArB,GAAiCJ,aAAa,CAACjJ,MAA/C,GAAwDmJ,gBADxE;AAIA,UAAIG,aAAa,GAAGC,IAAI,CAACC,GAAL,CAASJ,SAAT,EAAoBH,aAAa,CAACjJ,MAAlC,CAApB;AACA,UAAIyJ,UAAU,GAAGV,aAAa,CAACG,OAAd,CAAsB,MAAtB,EAA8BQ,MAA9B,CAAqC,CAArC,EAAwCJ,aAAxC,CAAjB,CAjB6B,CAmB7B;;AACA,UAAIK,eAAe,GAAG,CAAC,GAAGtH,MAAM,CAACuH,yBAAX,EAAsC,KAAKpJ,KAAL,CAAW2H,UAAjD,CAAtB;AACA,UAAItB,IAAI,GAAG4C,UAAU,CAACI,KAAX,CAAiBF,eAAjB,CAAX,CArB6B,CAuB7B;;AACA,OAAC,GAAG/H,MAAM,CAACa,OAAX,EAAoBoE,IAApB,EAA0BiD,OAA1B,CAAkC,UAAUC,GAAV,EAAe;AAC/C,eAAOlB,MAAM,CAACL,MAAP,CAAc3F,eAAe,CAAC;AAAEkE,UAAAA,EAAE,EAAEgD;AAAN,SAAD,EAAclB,MAAM,CAACrI,KAAP,CAAa+H,UAA3B,EAAuCwB,GAAvC,CAA7B,CAAP;AACD,OAFD;AAGD;AA7BA,GA9KqB,EA4MrB;AACD7J,IAAAA,GAAG,EAAE,uBADJ;AAED4C,IAAAA,KAAK,EAAE,SAASuC,qBAAT,CAA+BvF,CAA/B,EAAkC;AACvC,WAAK0I,MAAL,CAAY,KAAKnE,KAAL,CAAWD,WAAX,CAAuBtE,CAAvB,CAAZ;AACD;AAJA,GA5MqB,EAiNrB;AACDI,IAAAA,GAAG,EAAE,uBADJ;AAED4C,IAAAA,KAAK,EAAE,SAASsC,qBAAT,CAA+BtF,CAA/B,EAAkC;AACvC,WAAK0H,QAAL,CAAc;AACZhD,QAAAA,aAAa,EAAE1E,CADH;AAEZ2E,QAAAA,aAAa,EAAE;AAFH,OAAd;AAID;AAPA,GAjNqB,EAyNrB;AACDvE,IAAAA,GAAG,EAAE,SADJ;AAED4C,IAAAA,KAAK,EAAE,SAASoC,OAAT,CAAiB8E,SAAjB,EAA4BC,UAA5B,EAAwC;AAC7C,UAAIpD,IAAI,GAAG,KAAKrG,KAAL,CAAWqG,IAAtB,CAD6C,CAG7C;;AACA,UAAIqD,OAAO,GAAGrD,IAAI,CAACmD,SAAD,CAAlB,CAJ6C,CAM7C;AACA;;AACA,WAAKxJ,KAAL,CAAW2J,UAAX,CAAsBD,OAAtB,EAA+BF,SAA/B,EAA0CC,UAA1C;AACD;AAXA,GAzNqB,EAqOrB;AACD/J,IAAAA,GAAG,EAAE,QADJ;AAED4C,IAAAA,KAAK,EAAE,SAASsH,MAAT,GAAkB;AACvB,UAAIC,MAAM,GAAG,IAAb;;AAEA,UAAIC,QAAQ,GAAG,KAAKC,WAAL,EAAf;;AACA,UAAIC,UAAU,GAAG9K,QAAQ,CAAC,EAAD,EAAK4C,UAAU,CAACmI,kBAAhB,EAAoC,KAAKjK,KAAL,CAAWgK,UAA/C,CAAzB,CAJuB,CAMvB;;;AACA,UAAIlG,KAAK,GAAG,KAAKD,KAAL,CAAWC,KAAX,CAAiBsD,IAAjB,EAAZ;AAAA,UACIpD,aAAa,GAAG,KAAKH,KAAL,CAAWG,aAD/B;AAAA,UAEIJ,WAAW,GAAG,KAAKC,KAAL,CAAWD,WAF7B;AAIA,UAAIsG,OAAO,GAAG,KAAKlK,KAAnB;AAAA,UACImK,WAAW,GAAGD,OAAO,CAACC,WAD1B;AAAA,UAEIC,SAAS,GAAGF,OAAO,CAACG,IAFxB;AAAA,UAGIC,OAAO,GAAGJ,OAAO,CAAC3D,EAHtB;AAAA,UAIIqC,SAAS,GAAGsB,OAAO,CAACtB,SAJxB;AAAA,UAKInF,MAAM,GAAGyG,OAAO,CAACzG,MALrB;AAAA,UAMI8G,kBAAkB,GAAGL,OAAO,CAACK,kBANjC;AAAA,UAOIC,UAAU,GAAGN,OAAO,CAACM,UAPzB;AAAA,UAQIC,UAAU,GAAGP,OAAO,CAACO,UARzB;AAWA,UAAIC,QAAQ,GAAG,CAACjH,MAAD,GAAU3B,UAAU,CAAC6I,qBAAX,CAAiCC,MAA3C,GAAoDL,kBAAnE;AAEA,UAAIM,QAAQ,GAAG,CAAC,KAAK7K,KAAL,CAAWiF,QAAZ,GAAuBtE,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CACpC,KADoC,EAEpC;AAAEC,QAAAA,SAAS,EAAEf,UAAU,CAACa;AAAxB,OAFoC,EAGpClK,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CAA8B,OAA9B,EAAuC5L,QAAQ,CAAC,EAAD,EAAKuL,UAAL,EAAiB;AAC9DO,QAAAA,GAAG,EAAE,SAASA,GAAT,CAAaC,KAAb,EAAoB;AACvBpB,UAAAA,MAAM,CAAC/C,SAAP,GAAmBmE,KAAnB;AACD,SAH6D;AAI9DF,QAAAA,SAAS,EAAEf,UAAU,CAACkB,aAJwC;AAK9DC,QAAAA,IAAI,EAAE,MALwD;AAM9DhB,QAAAA,WAAW,EAAEA,WANiD;AAO9D,sBAAcA,WAPgD;AAQ9DiB,QAAAA,OAAO,EAAE,KAAK/G,WARgD;AAS9DgH,QAAAA,MAAM,EAAE,KAAK9G,UATiD;AAU9D+G,QAAAA,QAAQ,EAAE,KAAK7G,YAV+C;AAW9D8G,QAAAA,SAAS,EAAE,KAAK/G,aAX8C;AAY9DgH,QAAAA,OAAO,EAAE,KAAK7G,WAZgD;AAa9D0F,QAAAA,IAAI,EAAED,SAbwD;AAc9D7D,QAAAA,EAAE,EAAE+D,OAd0D;AAe9D1B,QAAAA,SAAS,EAAEA,SAfmD;AAgB9DtG,QAAAA,KAAK,EAAEkI,UAhBuD;AAiB9D,2BAAmB,OAjB2C;AAkB9D,uBAAe;AAlB+C,OAAjB,CAA/C,CAHoC,EAuBpC7J,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CAA8BxJ,aAAa,CAACW,OAA5C,EAAqD;AACnD6B,QAAAA,KAAK,EAAEA,KAD4C;AAEnDF,QAAAA,WAAW,EAAEA,WAFsC;AAGnDmE,QAAAA,UAAU,EAAE,KAAK/H,KAAL,CAAW+H,UAH4B;AAInD/D,QAAAA,aAAa,EAAEA,aAJoC;AAKnDyH,QAAAA,WAAW,EAAE,KAAK5G,qBALiC;AAMnD6G,QAAAA,WAAW,EAAE,KAAK9G,qBANiC;AAOnD+G,QAAAA,cAAc,EAAE,KAAK3L,KAAL,CAAW2L,cAPwB;AAQnDC,QAAAA,uBAAuB,EAAE,KAAK5L,KAAL,CAAW4L,uBARe;AASnD7H,QAAAA,SAAS,EAAE,KAAKF,KAAL,CAAWE,SAT6B;AAUnDiG,QAAAA,UAAU,EAAEA,UAVuC;AAWnD6B,QAAAA,gBAAgB,EAAE,KAAK7L,KAAL,CAAW6L;AAXsB,OAArD,CAvBoC,CAAvB,GAoCX,IApCJ;AAsCA,aAAOlL,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CACL,KADK,EAEL;AACEC,QAAAA,SAAS,EAAE,CAAC,GAAGrJ,YAAY,CAACO,OAAjB,EAA0B+H,UAAU,CAAC3D,IAArC,EAA2C,oBAA3C,CADb;AAEE2E,QAAAA,GAAG,EAAE,KAAK7G;AAFZ,OAFK,EAKLxD,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CACE,GADF,EAEE;AACEgB,QAAAA,IAAI,EAAE,OADR;AAEEf,QAAAA,SAAS,EAAE,SAFb;AAGEgB,QAAAA,KAAK,EAAE;AACLrB,UAAAA,QAAQ,EAAE,UADL;AAELsB,UAAAA,QAAQ,EAAE,QAFL;AAGLC,UAAAA,IAAI,EAAE,eAHD;AAILC,UAAAA,MAAM,EAAE,MAJH;AAKLC,UAAAA,OAAO,EAAE,CALJ;AAMLC,UAAAA,KAAK,EAAE,KANF;AAOLC,UAAAA,MAAM,EAAE,KAPH;AAQLC,UAAAA,MAAM,EAAE;AARH;AAHT,OAFF,EAeE,KAAKzI,KAAL,CAAWK,cAfb,CALK,EAsBLwG,QAAQ,KAAK5I,UAAU,CAAC6I,qBAAX,CAAiC4B,GAA9C,IAAqD1B,QAtBhD,EAuBLlK,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CACE,KADF,EAEE;AAAEC,QAAAA,SAAS,EAAEf,UAAU,CAACwC;AAAxB,OAFF,EAGE1C,QAHF,EAIEY,QAAQ,KAAK5I,UAAU,CAAC6I,qBAAX,CAAiC8B,MAA9C,IAAwD5B,QAJ1D,CAvBK,EA6BLH,QAAQ,KAAK5I,UAAU,CAAC6I,qBAAX,CAAiCC,MAA9C,IAAwDC,QA7BnD,CAAP;AA+BD;AA/FA,GArOqB,CAAZ,CAAZ;;AAuUA,SAAOzH,SAAP;AACD,CA9We,CA8Wd3C,MAAM,CAACiM,SA9WO,CAAhB;;AAgXAtJ,SAAS,CAACuJ,SAAV,GAAsB;AACpBxC,EAAAA,WAAW,EAAE3I,WAAW,CAACS,OAAZ,CAAoB2K,MADb;AAEpB7E,EAAAA,UAAU,EAAEvG,WAAW,CAACS,OAAZ,CAAoB2K,MAFZ;AAGpBhJ,EAAAA,WAAW,EAAEpC,WAAW,CAACS,OAAZ,CAAoB4K,OAApB,CAA4BrL,WAAW,CAACS,OAAZ,CAAoB6K,KAApB,CAA0B;AACjEvG,IAAAA,EAAE,EAAE/E,WAAW,CAACS,OAAZ,CAAoB2K,MAApB,CAA2BG;AADkC,GAA1B,CAA5B,CAHO;AAMpBpF,EAAAA,UAAU,EAAEnG,WAAW,CAACS,OAAZ,CAAoB4K,OAApB,CAA4BrL,WAAW,CAACS,OAAZ,CAAoB+K,MAAhD,CANQ;AAOpBhI,EAAAA,SAAS,EAAExD,WAAW,CAACS,OAAZ,CAAoBgL,IAPX;AAQpBxJ,EAAAA,MAAM,EAAEjC,WAAW,CAACS,OAAZ,CAAoBgL,IARR;AAQc;AAClC1C,EAAAA,kBAAkB,EAAE/I,WAAW,CAACS,OAAZ,CAAoBiL,KAApB,CAA0B,CAACpL,UAAU,CAAC6I,qBAAX,CAAiC8B,MAAlC,EAA0C3K,UAAU,CAAC6I,qBAAX,CAAiC4B,GAA3E,EAAgFzK,UAAU,CAAC6I,qBAAX,CAAiCC,MAAjH,CAA1B,CATA;AAUpB7E,EAAAA,YAAY,EAAEvE,WAAW,CAACS,OAAZ,CAAoBkL,IAVd;AAWpBC,EAAAA,cAAc,EAAE5L,WAAW,CAACS,OAAZ,CAAoBkL,IAXhB;AAYpBxD,EAAAA,UAAU,EAAEnI,WAAW,CAACS,OAAZ,CAAoBkL,IAZZ;AAapB3H,EAAAA,uBAAuB,EAAEhE,WAAW,CAACS,OAAZ,CAAoBkL,IAbzB;AAcpBlG,EAAAA,cAAc,EAAEzF,WAAW,CAACS,OAAZ,CAAoBkL,IAdhB;AAepBjF,EAAAA,yBAAyB,EAAE1G,WAAW,CAACS,OAAZ,CAAoBgL,IAf3B;AAgBpB3E,EAAAA,sBAAsB,EAAE9G,WAAW,CAACS,OAAZ,CAAoBgL,IAhBxB;AAiBpBI,EAAAA,aAAa,EAAE7L,WAAW,CAACS,OAAZ,CAAoBgL,IAjBf;AAkBpB9F,EAAAA,iBAAiB,EAAE3F,WAAW,CAACS,OAAZ,CAAoBkL,IAlBnB;AAmBpB9F,EAAAA,gBAAgB,EAAE7F,WAAW,CAACS,OAAZ,CAAoBkL,IAnBlB;AAoBpB7F,EAAAA,eAAe,EAAE9F,WAAW,CAACS,OAAZ,CAAoBkL,IApBjB;AAqBpBxB,EAAAA,cAAc,EAAEnK,WAAW,CAACS,OAAZ,CAAoB+K,MArBhB;AAsBpBpB,EAAAA,uBAAuB,EAAEpK,WAAW,CAACS,OAAZ,CAAoBkL,IAtBzB;AAuBpBG,EAAAA,eAAe,EAAE9L,WAAW,CAACS,OAAZ,CAAoBkL,IAvBjB;AAwBpBI,EAAAA,YAAY,EAAE/L,WAAW,CAACS,OAAZ,CAAoBuL,SAApB,CAA8B,CAAChM,WAAW,CAACS,OAAZ,CAAoBgL,IAArB,EAA2BzL,WAAW,CAACS,OAAZ,CAAoB+K,MAA/C,CAA9B,CAxBM;AAyBpB/H,EAAAA,QAAQ,EAAEzD,WAAW,CAACS,OAAZ,CAAoBgL,IAzBV;AA0BpBjD,EAAAA,UAAU,EAAExI,WAAW,CAACS,OAAZ,CAAoBwL,MA1BZ;AA2BpBpD,EAAAA,IAAI,EAAE7I,WAAW,CAACS,OAAZ,CAAoB2K,MA3BN;AA4BpBrG,EAAAA,EAAE,EAAE/E,WAAW,CAACS,OAAZ,CAAoB2K,MA5BJ;AA6BpBhE,EAAAA,SAAS,EAAEpH,WAAW,CAACS,OAAZ,CAAoB+K,MA7BX;AA8BpBxC,EAAAA,UAAU,EAAEhJ,WAAW,CAACS,OAAZ,CAAoB2K,MA9BZ;AA+BpBvG,EAAAA,IAAI,EAAE7E,WAAW,CAACS,OAAZ,CAAoB4K,OAApB,CAA4BrL,WAAW,CAACS,OAAZ,CAAoB6K,KAApB,CAA0B;AAC1DvG,IAAAA,EAAE,EAAE/E,WAAW,CAACS,OAAZ,CAAoB2K,MAApB,CAA2BG,UAD2B;AAE1DhC,IAAAA,SAAS,EAAEvJ,WAAW,CAACS,OAAZ,CAAoB2K;AAF2B,GAA1B,CAA5B,CA/Bc;AAmCpBc,EAAAA,WAAW,EAAElM,WAAW,CAACS,OAAZ,CAAoBgL,IAnCb;AAoCpBpB,EAAAA,gBAAgB,EAAErK,WAAW,CAACS,OAAZ,CAAoBkL,IApClB;AAqCpB1C,EAAAA,UAAU,EAAEjJ,WAAW,CAACS,OAAZ,CAAoBwL;AArCZ,CAAtB;AAuCArK,SAAS,CAACuK,YAAV,GAAyB;AACvBxD,EAAAA,WAAW,EAAErI,UAAU,CAAC8L,mBADD;AAEvB7F,EAAAA,UAAU,EAAEjG,UAAU,CAAC+L,mBAFA;AAGvBjK,EAAAA,WAAW,EAAE,EAHU;AAIvB+D,EAAAA,UAAU,EAAE,CAAC7F,UAAU,CAAC2F,IAAX,CAAgBqG,KAAjB,EAAwBhM,UAAU,CAAC2F,IAAX,CAAgBI,GAAxC,CAJW;AAKvB7C,EAAAA,SAAS,EAAE,IALY;AAMvBvB,EAAAA,MAAM,EAAE,IANe;AAMT;AACd8G,EAAAA,kBAAkB,EAAEzI,UAAU,CAAC6I,qBAAX,CAAiC8B,MAP9B;AAQvB1G,EAAAA,YAAY,EAAE7E,MAAM,CAACe,OARE;AASvBmL,EAAAA,cAAc,EAAElM,MAAM,CAACe,OATA;AAUvBiG,EAAAA,yBAAyB,EAAE,IAVJ;AAWvBI,EAAAA,sBAAsB,EAAE,IAXD;AAYvBiF,EAAAA,YAAY,EAAE,KAZS;AAavBtI,EAAAA,QAAQ,EAAE,KAba;AAcvByI,EAAAA,WAAW,EAAE,IAdU;AAevBL,EAAAA,aAAa,EAAE,IAfQ;AAgBvBhH,EAAAA,IAAI,EAAE,EAhBiB;AAiBvBoE,EAAAA,UAAU,EAAE;AAjBW,CAAzB;;AAoBA,IAAIjH,gBAAgB,GAAG,SAASA,gBAAT,GAA4B;AACjD,MAAIuK,MAAM,GAAG,IAAb;;AAEA,OAAKnI,aAAL,GAAqB,UAAU9B,KAAV,EAAiB6B,IAAjB,EAAuB;AAC1C,WAAOA,IAAI,CAACoI,MAAM,CAAC/N,KAAP,CAAa+H,UAAd,CAAJ,CAA8BiG,WAA9B,GAA4C5L,OAA5C,CAAoD0B,KAAK,CAACkK,WAAN,EAApD,CAAP;AACD,GAFD;;AAIA,OAAK9I,kBAAL,GAA0B,YAAY;AACpC6I,IAAAA,MAAM,CAAC/G,QAAP,CAAgB;AAAElD,MAAAA,KAAK,EAAE;AAAT,KAAhB;;AACA,QAAIiK,MAAM,CAACjH,SAAX,EAAsB;AACpBiH,MAAAA,MAAM,CAACjH,SAAP,CAAiBxE,KAAjB,GAAyB,EAAzB;;AACAyL,MAAAA,MAAM,CAACjH,SAAP,CAAiBC,KAAjB;AACD;AACF,GAND;;AAQA,OAAK1B,iBAAL,GAAyB,YAAY;AACnC,QAAI4I,OAAO,GAAGF,MAAM,CAAClK,KAArB;AAAA,QACIC,KAAK,GAAGmK,OAAO,CAACnK,KADpB;AAAA,QAEIE,aAAa,GAAGiK,OAAO,CAACjK,aAF5B;;AAIA,QAAIJ,WAAW,GAAGmK,MAAM,CAACzI,mBAAP,CAA2BxB,KAA3B,EAAkCiK,MAAM,CAAC/N,KAAP,CAAa4D,WAA/C,CAAlB;;AAEAmK,IAAAA,MAAM,CAAC/G,QAAP,CAAgB;AACdpD,MAAAA,WAAW,EAAEA,WADC;AAEdI,MAAAA,aAAa,EAAEA,aAAa,IAAIJ,WAAW,CAACpE,MAA7B,GAAsCoE,WAAW,CAACpE,MAAZ,GAAqB,CAA3D,GAA+DwE;AAFhE,KAAhB;AAID,GAXD;;AAaA,OAAKgE,MAAL,GAAc,UAAUuB,GAAV,EAAe;AAC3B,QAAI2E,OAAO,GAAGH,MAAM,CAAC/N,KAArB;AAAA,QACIqG,IAAI,GAAG6H,OAAO,CAAC7H,IADnB;AAAA,QAEI0B,UAAU,GAAGmG,OAAO,CAACnG,UAFzB;AAAA,QAGI2F,WAAW,GAAGQ,OAAO,CAACR,WAH1B;;AAKA,QAAI,CAACnE,GAAG,CAAChD,EAAL,IAAW,CAACgD,GAAG,CAACxB,UAAD,CAAnB,EAAiC;AAC/B;AACD;;AACD,QAAIoG,YAAY,GAAG9H,IAAI,CAAC+H,GAAL,CAAS,UAAU7E,GAAV,EAAe;AACzC,aAAOA,GAAG,CAAChD,EAAJ,CAAOyH,WAAP,EAAP;AACD,KAFkB,CAAnB,CAT2B,CAa3B;;AACA,QAAIN,WAAW,IAAIS,YAAY,CAAC/L,OAAb,CAAqBmH,GAAG,CAAChD,EAAJ,CAAOyH,WAAP,EAArB,KAA8C,CAAjE,EAAoE;AAClE;AACD;;AACD,QAAID,MAAM,CAAC/N,KAAP,CAAauN,YAAjB,EAA+B;AAC7B,UAAIc,eAAe,GAAGN,MAAM,CAACzI,mBAAP,CAA2BiE,GAAG,CAACxB,UAAD,CAA9B,EAA4CgG,MAAM,CAAC/N,KAAP,CAAa4D,WAAzD,CAAtB;;AAEA,UAAImK,MAAM,CAAC/N,KAAP,CAAauN,YAAb,KAA8B,CAA9B,IAAmCc,eAAe,CAAC7O,MAAhB,KAA2B,CAA9D,IAAmEuO,MAAM,CAAC/N,KAAP,CAAauN,YAAb,KAA8B,IAA9B,IAAsCc,eAAe,CAAC7O,MAA7H,EAAqI;AACnI+J,QAAAA,GAAG,GAAG8E,eAAe,CAAC,CAAD,CAArB;AACD;AACF,KAvB0B,CAyB3B;;;AACAN,IAAAA,MAAM,CAAC/N,KAAP,CAAaoN,cAAb,CAA4B7D,GAA5B,EA1B2B,CA4B3B;;;AACAwE,IAAAA,MAAM,CAAC/G,QAAP,CAAgB;AACdlD,MAAAA,KAAK,EAAE,EADO;AAEdG,MAAAA,aAAa,EAAE,KAFD;AAGdD,MAAAA,aAAa,EAAE,CAAC;AAHF,KAAhB;;AAMA+J,IAAAA,MAAM,CAAC7I,kBAAP;AACD,GApCD;;AAsCA,OAAK6E,WAAL,GAAmB,YAAY;AAC7B,QAAIuE,OAAO,GAAGP,MAAM,CAAC/N,KAArB;AAAA,QACIgK,UAAU,GAAGsE,OAAO,CAACtE,UADzB;AAAA,QAEI3D,IAAI,GAAGiI,OAAO,CAACjI,IAFnB;AAAA,QAGI0B,UAAU,GAAGuG,OAAO,CAACvG,UAHzB;AAAA,QAIIuF,eAAe,GAAGgB,OAAO,CAAChB,eAJ9B;AAAA,QAKIrI,QAAQ,GAAGqJ,OAAO,CAACrJ,QALvB;AAAA,QAMIoI,aAAa,GAAGiB,OAAO,CAACjB,aAN5B;AASA,QAAI3I,OAAO,GAAG2I,aAAa,GAAGU,MAAM,CAACrJ,OAAV,GAAoB,IAA/C;AACA,WAAO2B,IAAI,CAAC+H,GAAL,CAAS,UAAU7E,GAAV,EAAevD,KAAf,EAAsB;AACpC,aAAOrF,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CAA8BlJ,KAAK,CAACK,OAApC,EAA6C;AAClDvC,QAAAA,GAAG,EAAEsG,KAD6C;AAElDA,QAAAA,KAAK,EAAEA,KAF2C;AAGlDuD,QAAAA,GAAG,EAAEA,GAH6C;AAIlDxB,QAAAA,UAAU,EAAEA,UAJsC;AAKlDwG,QAAAA,QAAQ,EAAER,MAAM,CAAChI,YAAP,CAAoBzB,IAApB,CAAyByJ,MAAzB,EAAiC/H,KAAjC,CALwC;AAMlDtB,QAAAA,OAAO,EAAEA,OANyC;AAOlD4I,QAAAA,eAAe,EAAEA,eAPiC;AAQlDkB,QAAAA,YAAY,EAAET,MAAM,CAAC9G,cAAP,CAAsB3C,IAAtB,CAA2ByJ,MAA3B,EAAmC/H,KAAnC,CARoC;AASlDf,QAAAA,QAAQ,EAAEA,QATwC;AAUlD+E,QAAAA,UAAU,EAAE9K,QAAQ,CAAC,EAAD,EAAK4C,UAAU,CAACmI,kBAAhB,EAAoCD,UAApC,CAV8B;AAWlDqD,QAAAA,aAAa,EAAEA;AAXmC,OAA7C,CAAP;AAaD,KAdM,CAAP;AAeD,GA1BD;AA2BD,CA7FD;;AA+FAoB,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,WAAW,EAAE,SAASA,WAAT,CAAqBC,KAArB,EAA4B;AACvC,QAAI5O,KAAK,GAAGkC,wBAAwB,CAAC0M,KAAD,EAAQ,EAAR,CAApC;;AAEA,WAAOjO,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CACLjK,SAAS,CAACgO,WADL,EAEL;AAAEC,MAAAA,OAAO,EAAEhO,qBAAqB,CAACiO;AAAjC,KAFK,EAGLpO,OAAO,CAACsB,OAAR,CAAgB6I,aAAhB,CAA8B1H,SAA9B,EAAyCpD,KAAzC,CAHK,CAAP;AAKD,GATc;AAUfgP,EAAAA,cAAc,EAAE5L,SAVD;AAWfqE,EAAAA,IAAI,EAAE3F,UAAU,CAAC2F;AAXF,CAAjB","sourcesContent":["'use strict';\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDnd = require('react-dnd');\n\nvar _reactDndHtml5Backend = require('react-dnd-html5-backend');\n\nvar _isEqual = require('lodash/isEqual');\n\nvar _isEqual2 = _interopRequireDefault(_isEqual);\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _uniq = require('lodash/uniq');\n\nvar _uniq2 = _interopRequireDefault(_uniq);\n\nvar _Suggestions = require('./Suggestions');\n\nvar _Suggestions2 = _interopRequireDefault(_Suggestions);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = require('classnames');\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _Tag = require('./Tag');\n\nvar _Tag2 = _interopRequireDefault(_Tag);\n\nvar _utils = require('./utils');\n\nvar _constants = require('./constants');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n//Constants\n\n\nvar ReactTags = function (_Component) {\n  _inherits(ReactTags, _Component);\n\n  function ReactTags(props) {\n    _classCallCheck(this, ReactTags);\n\n    var _this = _possibleConstructorReturn(this, (ReactTags.__proto__ || Object.getPrototypeOf(ReactTags)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if (!props.inline) {\n      /* eslint-disable no-console */\n      console.warn('[Deprecation] The inline attribute is deprecated and will be removed in v7.x.x, please use inputFieldPosition instead.');\n      /* eslint-enable no-console */\n    }\n\n    var suggestions = props.suggestions;\n\n    _this.state = {\n      suggestions: suggestions,\n      query: '',\n      isFocused: false,\n      selectedIndex: -1,\n      selectionMode: false,\n      ariaLiveStatus: ''\n    };\n    _this.reactTagsRef = (0, _react.createRef)();\n    _this.handleFocus = _this.handleFocus.bind(_this);\n    _this.handleBlur = _this.handleBlur.bind(_this);\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleChange = _this.handleChange.bind(_this);\n    _this.moveTag = _this.moveTag.bind(_this);\n    _this.handlePaste = _this.handlePaste.bind(_this);\n    _this.handleSuggestionHover = _this.handleSuggestionHover.bind(_this);\n    _this.handleSuggestionClick = _this.handleSuggestionClick.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactTags, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var _props = this.props,\n          autofocus = _props.autofocus,\n          readOnly = _props.readOnly;\n\n\n      if (autofocus && !readOnly) {\n        this.resetAndFocusInput();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      if (!(0, _isEqual2.default)(prevProps.suggestions, this.props.suggestions)) {\n        this.updateSuggestions();\n      }\n    }\n  }, {\n    key: 'filteredSuggestions',\n    value: function filteredSuggestions(query, suggestions) {\n      var _this2 = this;\n\n      if (this.props.handleFilterSuggestions) {\n        return this.props.handleFilterSuggestions(query, suggestions);\n      }\n\n      var exactSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) === 0;\n      });\n      var partialSuggestions = suggestions.filter(function (item) {\n        return _this2.getQueryIndex(query, item) > 0;\n      });\n      return exactSuggestions.concat(partialSuggestions);\n    }\n  }, {\n    key: 'handleDelete',\n    value: function handleDelete(index, event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var currentTags = this.props.tags.slice();\n      // Early exit from the function if the array\n      // is already empty\n      if (currentTags.length === 0) {\n        return;\n      }\n      var ariaLiveStatus = 'Tag at index ' + index + ' with value ' + currentTags[index].id + ' deleted.';\n      this.props.handleDelete(index, event);\n      var allTags = this.reactTagsRef.current.querySelectorAll('.ReactTags__remove');\n      var nextElementToFocus = void 0,\n          nextIndex = void 0,\n          nextTag = void 0;\n      if (index === 0 && currentTags.length > 1) {\n        nextElementToFocus = allTags[0];\n        nextIndex = 0;\n        nextTag = currentTags[1];\n      } else {\n        nextElementToFocus = allTags[index - 1];\n        nextIndex = index - 1;\n        nextTag = currentTags[nextIndex];\n      }\n      if (!nextElementToFocus) {\n        nextIndex = -1;\n        nextElementToFocus = this.textInput;\n      }\n      if (nextIndex >= 0) {\n        ariaLiveStatus += ' Tag at index ' + nextIndex + ' with value ' + nextTag.id + ' focussed. Press backspace to remove';\n      } else {\n        ariaLiveStatus += 'Input focussed. Press enter to add a new tag';\n      }\n      nextElementToFocus.focus();\n      this.setState({\n        ariaLiveStatus: ariaLiveStatus\n      });\n    }\n  }, {\n    key: 'handleTagClick',\n    value: function handleTagClick(i, e) {\n      if (this.props.handleTagClick) {\n        this.props.handleTagClick(i, e);\n      }\n    }\n  }, {\n    key: 'handleChange',\n    value: function handleChange(e) {\n      if (this.props.handleInputChange) {\n        this.props.handleInputChange(e.target.value);\n      }\n\n      var query = e.target.value.trim();\n\n      this.setState({ query: query }, this.updateSuggestions);\n    }\n  }, {\n    key: 'handleFocus',\n    value: function handleFocus(event) {\n      var value = event.target.value;\n      if (this.props.handleInputFocus) {\n        this.props.handleInputFocus(value);\n      }\n      this.setState({ isFocused: true });\n    }\n  }, {\n    key: 'handleBlur',\n    value: function handleBlur(event) {\n      var value = event.target.value;\n      if (this.props.handleInputBlur) {\n        this.props.handleInputBlur(value);\n        if (this.textInput) {\n          this.textInput.value = '';\n        }\n      }\n      this.setState({ isFocused: false });\n    }\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(e) {\n      var _state = this.state,\n          query = _state.query,\n          selectedIndex = _state.selectedIndex,\n          suggestions = _state.suggestions,\n          selectionMode = _state.selectionMode;\n\n      // hide suggestions menu on escape\n\n      if (e.keyCode === _constants.KEYS.ESCAPE) {\n        e.preventDefault();\n        e.stopPropagation();\n        this.setState({\n          selectedIndex: -1,\n          selectionMode: false,\n          suggestions: []\n        });\n      }\n\n      // When one of the terminating keys is pressed, add current query to the tags.\n      // If no text is typed in so far, ignore the action - so we don't end up with a terminating\n      // character typed in.\n      if (this.props.delimiters.indexOf(e.keyCode) !== -1 && !e.shiftKey) {\n        if (e.keyCode !== _constants.KEYS.TAB || query !== '') {\n          e.preventDefault();\n        }\n\n        var selectedQuery = selectionMode && selectedIndex !== -1 ? suggestions[selectedIndex] : _defineProperty({ id: query }, this.props.labelField, query);\n\n        if (selectedQuery !== '') {\n          this.addTag(selectedQuery);\n        }\n      }\n\n      // when backspace key is pressed and query is blank, delete tag\n      if (e.keyCode === _constants.KEYS.BACKSPACE && query === '' && this.props.allowDeleteFromEmptyInput) {\n        this.handleDelete(this.props.tags.length - 1, e);\n      }\n\n      // up arrow\n      if (e.keyCode === _constants.KEYS.UP_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: selectedIndex <= 0 ? suggestions.length - 1 : selectedIndex - 1,\n          selectionMode: true\n        });\n      }\n\n      // down arrow\n      if (e.keyCode === _constants.KEYS.DOWN_ARROW) {\n        e.preventDefault();\n        this.setState({\n          selectedIndex: suggestions.length === 0 ? -1 : (selectedIndex + 1) % suggestions.length,\n          selectionMode: true\n        });\n      }\n    }\n  }, {\n    key: 'handlePaste',\n    value: function handlePaste(e) {\n      var _this3 = this;\n\n      if (!this.props.allowAdditionFromPaste) {\n        return;\n      }\n\n      e.preventDefault();\n\n      var clipboardData = e.clipboardData || window.clipboardData;\n      var clipboardText = clipboardData.getData('text');\n\n      var _props$maxLength = this.props.maxLength,\n          maxLength = _props$maxLength === undefined ? clipboardText.length : _props$maxLength;\n\n\n      var maxTextLength = Math.min(maxLength, clipboardText.length);\n      var pastedText = clipboardData.getData('text').substr(0, maxTextLength);\n\n      // Used to determine how the pasted content is split.\n      var delimiterRegExp = (0, _utils.buildRegExpFromDelimiters)(this.props.delimiters);\n      var tags = pastedText.split(delimiterRegExp);\n\n      // Only add unique tags\n      (0, _uniq2.default)(tags).forEach(function (tag) {\n        return _this3.addTag(_defineProperty({ id: tag }, _this3.props.labelField, tag));\n      });\n    }\n  }, {\n    key: 'handleSuggestionClick',\n    value: function handleSuggestionClick(i) {\n      this.addTag(this.state.suggestions[i]);\n    }\n  }, {\n    key: 'handleSuggestionHover',\n    value: function handleSuggestionHover(i) {\n      this.setState({\n        selectedIndex: i,\n        selectionMode: true\n      });\n    }\n  }, {\n    key: 'moveTag',\n    value: function moveTag(dragIndex, hoverIndex) {\n      var tags = this.props.tags;\n\n      // locate tags\n      var dragTag = tags[dragIndex];\n\n      // call handler with the index of the dragged tag\n      // and the tag that is hovered\n      this.props.handleDrag(dragTag, dragIndex, hoverIndex);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this4 = this;\n\n      var tagItems = this.getTagItems();\n      var classNames = _extends({}, _constants.DEFAULT_CLASSNAMES, this.props.classNames);\n\n      // get the suggestions for the given query\n      var query = this.state.query.trim(),\n          selectedIndex = this.state.selectedIndex,\n          suggestions = this.state.suggestions;\n\n      var _props2 = this.props,\n          placeholder = _props2.placeholder,\n          inputName = _props2.name,\n          inputId = _props2.id,\n          maxLength = _props2.maxLength,\n          inline = _props2.inline,\n          inputFieldPosition = _props2.inputFieldPosition,\n          inputValue = _props2.inputValue,\n          inputProps = _props2.inputProps;\n\n\n      var position = !inline ? _constants.INPUT_FIELD_POSITIONS.BOTTOM : inputFieldPosition;\n\n      var tagInput = !this.props.readOnly ? _react2.default.createElement(\n        'div',\n        { className: classNames.tagInput },\n        _react2.default.createElement('input', _extends({}, inputProps, {\n          ref: function ref(input) {\n            _this4.textInput = input;\n          },\n          className: classNames.tagInputField,\n          type: 'text',\n          placeholder: placeholder,\n          'aria-label': placeholder,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur,\n          onChange: this.handleChange,\n          onKeyDown: this.handleKeyDown,\n          onPaste: this.handlePaste,\n          name: inputName,\n          id: inputId,\n          maxLength: maxLength,\n          value: inputValue,\n          'data-automation': 'input',\n          'data-testid': 'input'\n        })),\n        _react2.default.createElement(_Suggestions2.default, {\n          query: query,\n          suggestions: suggestions,\n          labelField: this.props.labelField,\n          selectedIndex: selectedIndex,\n          handleClick: this.handleSuggestionClick,\n          handleHover: this.handleSuggestionHover,\n          minQueryLength: this.props.minQueryLength,\n          shouldRenderSuggestions: this.props.shouldRenderSuggestions,\n          isFocused: this.state.isFocused,\n          classNames: classNames,\n          renderSuggestion: this.props.renderSuggestion\n        })\n      ) : null;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: (0, _classnames2.default)(classNames.tags, 'react-tags-wrapper'),\n          ref: this.reactTagsRef },\n        _react2.default.createElement(\n          'p',\n          {\n            role: 'alert',\n            className: 'sr-only',\n            style: {\n              position: 'absolute',\n              overflow: 'hidden',\n              clip: 'rect(0 0 0 0)',\n              margin: '-1px',\n              padding: 0,\n              width: '1px',\n              height: '1px',\n              border: 0\n            } },\n          this.state.ariaLiveStatus\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.TOP && tagInput,\n        _react2.default.createElement(\n          'div',\n          { className: classNames.selected },\n          tagItems,\n          position === _constants.INPUT_FIELD_POSITIONS.INLINE && tagInput\n        ),\n        position === _constants.INPUT_FIELD_POSITIONS.BOTTOM && tagInput\n      );\n    }\n  }]);\n\n  return ReactTags;\n}(_react.Component);\n\nReactTags.propTypes = {\n  placeholder: _propTypes2.default.string,\n  labelField: _propTypes2.default.string,\n  suggestions: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired\n  })),\n  delimiters: _propTypes2.default.arrayOf(_propTypes2.default.number),\n  autofocus: _propTypes2.default.bool,\n  inline: _propTypes2.default.bool, // TODO: Remove in v7.x.x\n  inputFieldPosition: _propTypes2.default.oneOf([_constants.INPUT_FIELD_POSITIONS.INLINE, _constants.INPUT_FIELD_POSITIONS.TOP, _constants.INPUT_FIELD_POSITIONS.BOTTOM]),\n  handleDelete: _propTypes2.default.func,\n  handleAddition: _propTypes2.default.func,\n  handleDrag: _propTypes2.default.func,\n  handleFilterSuggestions: _propTypes2.default.func,\n  handleTagClick: _propTypes2.default.func,\n  allowDeleteFromEmptyInput: _propTypes2.default.bool,\n  allowAdditionFromPaste: _propTypes2.default.bool,\n  allowDragDrop: _propTypes2.default.bool,\n  handleInputChange: _propTypes2.default.func,\n  handleInputFocus: _propTypes2.default.func,\n  handleInputBlur: _propTypes2.default.func,\n  minQueryLength: _propTypes2.default.number,\n  shouldRenderSuggestions: _propTypes2.default.func,\n  removeComponent: _propTypes2.default.func,\n  autocomplete: _propTypes2.default.oneOfType([_propTypes2.default.bool, _propTypes2.default.number]),\n  readOnly: _propTypes2.default.bool,\n  classNames: _propTypes2.default.object,\n  name: _propTypes2.default.string,\n  id: _propTypes2.default.string,\n  maxLength: _propTypes2.default.number,\n  inputValue: _propTypes2.default.string,\n  tags: _propTypes2.default.arrayOf(_propTypes2.default.shape({\n    id: _propTypes2.default.string.isRequired,\n    className: _propTypes2.default.string\n  })),\n  allowUnique: _propTypes2.default.bool,\n  renderSuggestion: _propTypes2.default.func,\n  inputProps: _propTypes2.default.object\n};\nReactTags.defaultProps = {\n  placeholder: _constants.DEFAULT_PLACEHOLDER,\n  labelField: _constants.DEFAULT_LABEL_FIELD,\n  suggestions: [],\n  delimiters: [_constants.KEYS.ENTER, _constants.KEYS.TAB],\n  autofocus: true,\n  inline: true, // TODO: Remove in v7.x.x\n  inputFieldPosition: _constants.INPUT_FIELD_POSITIONS.INLINE,\n  handleDelete: _noop2.default,\n  handleAddition: _noop2.default,\n  allowDeleteFromEmptyInput: true,\n  allowAdditionFromPaste: true,\n  autocomplete: false,\n  readOnly: false,\n  allowUnique: true,\n  allowDragDrop: true,\n  tags: [],\n  inputProps: {}\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this5 = this;\n\n  this.getQueryIndex = function (query, item) {\n    return item[_this5.props.labelField].toLowerCase().indexOf(query.toLowerCase());\n  };\n\n  this.resetAndFocusInput = function () {\n    _this5.setState({ query: '' });\n    if (_this5.textInput) {\n      _this5.textInput.value = '';\n      _this5.textInput.focus();\n    }\n  };\n\n  this.updateSuggestions = function () {\n    var _state2 = _this5.state,\n        query = _state2.query,\n        selectedIndex = _state2.selectedIndex;\n\n    var suggestions = _this5.filteredSuggestions(query, _this5.props.suggestions);\n\n    _this5.setState({\n      suggestions: suggestions,\n      selectedIndex: selectedIndex >= suggestions.length ? suggestions.length - 1 : selectedIndex\n    });\n  };\n\n  this.addTag = function (tag) {\n    var _props3 = _this5.props,\n        tags = _props3.tags,\n        labelField = _props3.labelField,\n        allowUnique = _props3.allowUnique;\n\n    if (!tag.id || !tag[labelField]) {\n      return;\n    }\n    var existingKeys = tags.map(function (tag) {\n      return tag.id.toLowerCase();\n    });\n\n    // Return if tag has been already added\n    if (allowUnique && existingKeys.indexOf(tag.id.toLowerCase()) >= 0) {\n      return;\n    }\n    if (_this5.props.autocomplete) {\n      var possibleMatches = _this5.filteredSuggestions(tag[labelField], _this5.props.suggestions);\n\n      if (_this5.props.autocomplete === 1 && possibleMatches.length === 1 || _this5.props.autocomplete === true && possibleMatches.length) {\n        tag = possibleMatches[0];\n      }\n    }\n\n    // call method to add\n    _this5.props.handleAddition(tag);\n\n    // reset the state\n    _this5.setState({\n      query: '',\n      selectionMode: false,\n      selectedIndex: -1\n    });\n\n    _this5.resetAndFocusInput();\n  };\n\n  this.getTagItems = function () {\n    var _props4 = _this5.props,\n        classNames = _props4.classNames,\n        tags = _props4.tags,\n        labelField = _props4.labelField,\n        removeComponent = _props4.removeComponent,\n        readOnly = _props4.readOnly,\n        allowDragDrop = _props4.allowDragDrop;\n\n\n    var moveTag = allowDragDrop ? _this5.moveTag : null;\n    return tags.map(function (tag, index) {\n      return _react2.default.createElement(_Tag2.default, {\n        key: index,\n        index: index,\n        tag: tag,\n        labelField: labelField,\n        onDelete: _this5.handleDelete.bind(_this5, index),\n        moveTag: moveTag,\n        removeComponent: removeComponent,\n        onTagClicked: _this5.handleTagClick.bind(_this5, index),\n        readOnly: readOnly,\n        classNames: _extends({}, _constants.DEFAULT_CLASSNAMES, classNames),\n        allowDragDrop: allowDragDrop\n      });\n    });\n  };\n};\n\nmodule.exports = {\n  WithContext: function WithContext(_ref2) {\n    var props = _objectWithoutProperties(_ref2, []);\n\n    return _react2.default.createElement(\n      _reactDnd.DndProvider,\n      { backend: _reactDndHtml5Backend.HTML5Backend },\n      _react2.default.createElement(ReactTags, props)\n    );\n  },\n  WithOutContext: ReactTags,\n  KEYS: _constants.KEYS\n};"]},"metadata":{},"sourceType":"script"}