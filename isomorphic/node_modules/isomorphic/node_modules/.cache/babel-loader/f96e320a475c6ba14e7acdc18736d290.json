{"ast":null,"code":"import React from 'react';\nimport throttle from 'lodash/throttle';\nconst events = new Set();\n\nconst onResize = () => events.forEach(fn => fn());\n\nconst useWindowSize = (options = {}) => {\n  const {\n    throttleMs = 100\n  } = options;\n  const [size, setSize] = React.useState({\n    width: process.browser && window.innerWidth,\n    height: process.browser && window.innerHeight\n  });\n  const handle = throttle(() => {\n    setSize({\n      width: process.browser && window.innerWidth,\n      height: process.browser && window.innerHeight\n    });\n  }, throttleMs);\n  React.useEffect(() => {\n    if (events.size === 0) {\n      window.addEventListener('resize', onResize, true);\n    }\n\n    events.add(handle);\n    return () => {\n      events.delete(handle);\n\n      if (events.size === 0) {\n        window.removeEventListener('resize', onResize, true);\n      }\n    };\n  }, []);\n  return size;\n};\n\nexport default useWindowSize;","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/shared/common/library/hooks/useWindowSize.js"],"names":["React","throttle","events","Set","onResize","forEach","fn","useWindowSize","options","throttleMs","size","setSize","useState","width","process","browser","window","innerWidth","height","innerHeight","handle","useEffect","addEventListener","add","delete","removeEventListener"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,iBAArB;AACA,MAAMC,MAAM,GAAG,IAAIC,GAAJ,EAAf;;AACA,MAAMC,QAAQ,GAAG,MAAMF,MAAM,CAACG,OAAP,CAAeC,EAAE,IAAIA,EAAE,EAAvB,CAAvB;;AAEA,MAAMC,aAAa,GAAG,CAACC,OAAO,GAAG,EAAX,KAAkB;AACtC,QAAM;AAAEC,IAAAA,UAAU,GAAG;AAAf,MAAuBD,OAA7B;AACA,QAAM,CAACE,IAAD,EAAOC,OAAP,IAAkBX,KAAK,CAACY,QAAN,CAAe;AACrCC,IAAAA,KAAK,EAAEC,OAAO,CAACC,OAAR,IAAmBC,MAAM,CAACC,UADI;AAErCC,IAAAA,MAAM,EAAEJ,OAAO,CAACC,OAAR,IAAmBC,MAAM,CAACG;AAFG,GAAf,CAAxB;AAKA,QAAMC,MAAM,GAAGnB,QAAQ,CAAC,MAAM;AAC5BU,IAAAA,OAAO,CAAC;AACNE,MAAAA,KAAK,EAAEC,OAAO,CAACC,OAAR,IAAmBC,MAAM,CAACC,UAD3B;AAENC,MAAAA,MAAM,EAAEJ,OAAO,CAACC,OAAR,IAAmBC,MAAM,CAACG;AAF5B,KAAD,CAAP;AAID,GALsB,EAKpBV,UALoB,CAAvB;AAOAT,EAAAA,KAAK,CAACqB,SAAN,CAAgB,MAAM;AACpB,QAAInB,MAAM,CAACQ,IAAP,KAAgB,CAApB,EAAuB;AACrBM,MAAAA,MAAM,CAACM,gBAAP,CAAwB,QAAxB,EAAkClB,QAAlC,EAA4C,IAA5C;AACD;;AAEDF,IAAAA,MAAM,CAACqB,GAAP,CAAWH,MAAX;AAEA,WAAO,MAAM;AACXlB,MAAAA,MAAM,CAACsB,MAAP,CAAcJ,MAAd;;AAEA,UAAIlB,MAAM,CAACQ,IAAP,KAAgB,CAApB,EAAuB;AACrBM,QAAAA,MAAM,CAACS,mBAAP,CAA2B,QAA3B,EAAqCrB,QAArC,EAA+C,IAA/C;AACD;AACF,KAND;AAOD,GAdD,EAcG,EAdH;AAgBA,SAAOM,IAAP;AACD,CA/BD;;AAiCA,eAAeH,aAAf","sourcesContent":["import React from 'react';\r\nimport throttle from 'lodash/throttle';\r\nconst events = new Set();\r\nconst onResize = () => events.forEach(fn => fn());\r\n\r\nconst useWindowSize = (options = {}) => {\r\n  const { throttleMs = 100 } = options;\r\n  const [size, setSize] = React.useState({\r\n    width: process.browser && window.innerWidth,\r\n    height: process.browser && window.innerHeight,\r\n  });\r\n\r\n  const handle = throttle(() => {\r\n    setSize({\r\n      width: process.browser && window.innerWidth,\r\n      height: process.browser && window.innerHeight,\r\n    });\r\n  }, throttleMs);\r\n\r\n  React.useEffect(() => {\r\n    if (events.size === 0) {\r\n      window.addEventListener('resize', onResize, true);\r\n    }\r\n\r\n    events.add(handle);\r\n\r\n    return () => {\r\n      events.delete(handle);\r\n\r\n      if (events.size === 0) {\r\n        window.removeEventListener('resize', onResize, true);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  return size;\r\n};\r\n\r\nexport default useWindowSize;\r\n"]},"metadata":{},"sourceType":"module"}