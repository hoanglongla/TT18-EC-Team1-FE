{"ast":null,"code":"import _defineProperty from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Team6-FE\\\\isomorphic\\\\shared\\\\hotel\\\\components\\\\Search\\\\MobileSearchView.js\";\n\nimport React, { useState } from 'react';\nimport moment from 'moment';\nimport Slider from '@iso/ui/Antd/Slider/Slider';\nimport Button from '@iso/ui/Antd/Button/Button';\nimport Drawer from '@iso/ui/Antd/Drawer/Drawer';\nimport Checkbox from '@iso/ui/Antd/Checkbox/Checkbox';\nimport Heading from '@iso/ui/Heading/Heading';\nimport DateRangePicker from '@iso/ui/DatePicker/ReactDates';\nimport InputIncDec from '@iso/ui/InputIncDec/InputIncDec';\nimport { setStateToUrl, getStateFromUrl } from './url_handler';\nimport { IoIosArrowDown } from 'react-icons/io';\nimport { Accordion, AccordionItem, AccordionItemHeading, AccordionItemButton, AccordionItemPanel } from 'react-accessible-accordion';\nimport { priceInit, getAmenities, getPropertyType } from './SearchParams';\nimport { FilterArea, FilterElementsWrapper, ButtonGroup, RoomGuestWrapper, ItemWrapper } from './MobileSearchView.style';\n\nvar FilterDrawer = function FilterDrawer(_ref) {\n  var history = _ref.history,\n      location = _ref.location;\n  var searchParams = getStateFromUrl(location); // state for drawer\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      toggle = _useState2[0],\n      setToggle = _useState2[1]; // Amenities state\n\n\n  var _useState3 = useState(searchParams.amenities || []),\n      _useState4 = _slicedToArray(_useState3, 2),\n      amenities = _useState4[0],\n      setAmenities = _useState4[1]; // Property type state\n\n\n  var _useState5 = useState(searchParams.property || []),\n      _useState6 = _slicedToArray(_useState5, 2),\n      propertyType = _useState6[0],\n      setPropertyType = _useState6[1]; // Date state\n\n\n  var _useState7 = useState(searchParams.date_range || {\n    setStartDate: null,\n    setEndDate: null\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      searchDate = _useState8[0],\n      setSearchDate = _useState8[1]; // Price state\n\n\n  var _useState9 = useState(searchParams.price || {\n    min: 0,\n    max: 100,\n    defaultMin: 0,\n    defaultMax: 100\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      price = _useState10[0],\n      setPrice = _useState10[1]; // Room guest state\n\n\n  var roomAndGuest = {\n    room: searchParams && searchParams.room ? parseInt(searchParams.room) : 0,\n    guest: searchParams && searchParams.guest ? parseInt(searchParams.guest) : 0\n  };\n\n  var _useState11 = useState(roomAndGuest || {\n    room: 0,\n    guest: 0\n  }),\n      _useState12 = _slicedToArray(_useState11, 2),\n      roomGuest = _useState12[0],\n      setRoomGuest = _useState12[1]; // Room Guest data handling\n\n\n  var handleIncrement = function handleIncrement(type) {\n    console.log('clicked handleIncrement');\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, _defineProperty({}, type, roomGuest[type] + 1)));\n  };\n\n  var handleDecrement = function handleDecrement(type) {\n    console.log('clicked handleDecrement');\n\n    if (roomGuest[type] <= 0) {\n      return false;\n    }\n\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, _defineProperty({}, type, roomGuest[type] - 1)));\n  };\n\n  var handleIncDecOnChnage = function handleIncDecOnChnage(e, type) {\n    var currentValue = e.target.value;\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, _defineProperty({}, type, currentValue)));\n  }; // Toggle Drawer\n\n\n  var handleToggleDrawer = function handleToggleDrawer() {\n    setToggle(!toggle);\n  }; // Amenities data handling\n\n\n  var onChangeAmenity = function onChangeAmenity(checkedAmenityValue) {\n    setAmenities(checkedAmenityValue);\n  }; // PropertyType data handling\n\n\n  var onChangeProperty = function onChangeProperty(checkedPropertValue) {\n    setPropertyType(checkedPropertValue);\n  }; // Price data handling\n\n\n  var handlePriceChange = function handlePriceChange(setValue) {\n    var maxValue = setValue ? setValue[1] : price.defaultMin;\n    var minValue = setValue ? setValue[0] : price.defaultMax;\n    setPrice({\n      min: minValue,\n      max: maxValue,\n      defaultMin: price.defaultMin,\n      defaultMax: price.defaultMax\n    });\n  }; // Date data handling\n\n\n  var updateSearchDataFunc = function updateSearchDataFunc(setDateValue) {\n    setSearchDate({\n      setStartDate: setDateValue.setStartDate,\n      setEndDate: setDateValue.setEndDate\n    });\n  };\n\n  var handleApplyFilter = function handleApplyFilter() {\n    var search = setStateToUrl(_objectSpread({\n      amenities: amenities,\n      property: propertyType,\n      price: [price.min, price.max],\n      date_range: searchDate\n    }, roomGuest));\n    history.push({\n      pathname: '/listing',\n      search: search\n    });\n    setToggle(false);\n  };\n\n  var handleCloseDrawer = function handleCloseDrawer() {\n    setStateToUrl(null);\n    setAmenities([]);\n    setPropertyType([]);\n    setSearchDate({\n      setStartDate: null,\n      setEndDate: null\n    });\n    setPrice({\n      min: 0,\n      max: 100,\n      defaultMin: 0,\n      defaultMax: 100\n    });\n    setRoomGuest({\n      room: 0,\n      guest: 0\n    });\n    setToggle(false);\n  };\n\n  return /*#__PURE__*/React.createElement(FilterArea, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: toggle ? 'active' : '',\n    onClick: handleToggleDrawer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }\n  }, \"More filters\"), /*#__PURE__*/React.createElement(Drawer, {\n    className: \"filter_drawer\",\n    height: \"100vh\",\n    placement: \"bottom\",\n    closable: false,\n    maskClosable: false,\n    onClose: handleCloseDrawer,\n    visible: toggle,\n    maskStyle: {\n      backgroundColor: 'transparent'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FilterElementsWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Accordion, {\n    allowZeroExpanded: true,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h4\",\n    content: \"Select Price Range\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Slider, {\n    range: true,\n    marks: priceInit,\n    min: price.defaultMin,\n    max: price.defaultMax,\n    value: [price.min, price.max],\n    onChange: handlePriceChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h4\",\n    content: \"Choose Date\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 240,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h4\",\n    content: \"Property Type\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 242,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Checkbox.Group, {\n    options: getPropertyType.options,\n    value: propertyType,\n    onChange: onChangeProperty,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionItem, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemHeading, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(AccordionItemButton, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Heading, {\n    as: \"h4\",\n    content: \"Choose Room and Guest\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(IoIosArrowDown, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(AccordionItemPanel, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(RoomGuestWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ItemWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 265,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 21\n    }\n  }, \"Room\"), /*#__PURE__*/React.createElement(InputIncDec, {\n    id: \"room\",\n    increment: function increment() {\n      return handleIncrement('room');\n    },\n    decrement: function decrement() {\n      return handleDecrement('room');\n    },\n    onChange: function onChange(e) {\n      return handleIncDecOnChnage(e, 'room');\n    },\n    value: roomGuest.room,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 267,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(ItemWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 21\n    }\n  }, \"Guest\"), /*#__PURE__*/React.createElement(InputIncDec, {\n    id: \"guest\",\n    increment: function increment() {\n      return handleIncrement('guest');\n    },\n    decrement: function decrement() {\n      return handleDecrement('guest');\n    },\n    onChange: function onChange(e) {\n      return handleIncDecOnChnage(e, 'guest');\n    },\n    value: roomGuest.guest,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 278,\n      columnNumber: 21\n    }\n  })))))), /*#__PURE__*/React.createElement(ButtonGroup, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: handleCloseDrawer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }\n  }, \"Cancel Filter\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: handleApplyFilter,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }\n  }, \"Apply Filter\")))));\n};\n\nexport default FilterDrawer;","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/shared/hotel/components/Search/MobileSearchView.js"],"names":["React","useState","moment","Slider","Button","Drawer","Checkbox","Heading","DateRangePicker","InputIncDec","setStateToUrl","getStateFromUrl","IoIosArrowDown","Accordion","AccordionItem","AccordionItemHeading","AccordionItemButton","AccordionItemPanel","priceInit","getAmenities","getPropertyType","FilterArea","FilterElementsWrapper","ButtonGroup","RoomGuestWrapper","ItemWrapper","FilterDrawer","history","location","searchParams","toggle","setToggle","amenities","setAmenities","property","propertyType","setPropertyType","date_range","setStartDate","setEndDate","searchDate","setSearchDate","price","min","max","defaultMin","defaultMax","setPrice","roomAndGuest","room","parseInt","guest","roomGuest","setRoomGuest","handleIncrement","type","console","log","handleDecrement","handleIncDecOnChnage","e","currentValue","target","value","handleToggleDrawer","onChangeAmenity","checkedAmenityValue","onChangeProperty","checkedPropertValue","handlePriceChange","setValue","maxValue","minValue","updateSearchDataFunc","setDateValue","handleApplyFilter","search","push","pathname","handleCloseDrawer","backgroundColor","options"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport moment from 'moment';\r\nimport Slider from '@iso/ui/Antd/Slider/Slider';\r\nimport Button from '@iso/ui/Antd/Button/Button';\r\nimport Drawer from '@iso/ui/Antd/Drawer/Drawer';\r\nimport Checkbox from '@iso/ui/Antd/Checkbox/Checkbox';\r\nimport Heading from '@iso/ui/Heading/Heading';\r\nimport DateRangePicker from '@iso/ui/DatePicker/ReactDates';\r\nimport InputIncDec from '@iso/ui/InputIncDec/InputIncDec';\r\nimport { setStateToUrl, getStateFromUrl } from './url_handler';\r\nimport { IoIosArrowDown } from 'react-icons/io';\r\nimport {\r\n  Accordion,\r\n  AccordionItem,\r\n  AccordionItemHeading,\r\n  AccordionItemButton,\r\n  AccordionItemPanel,\r\n} from 'react-accessible-accordion';\r\n\r\nimport {\r\n  priceInit,\r\n  \r\n  getAmenities,\r\n  getPropertyType,\r\n} from './SearchParams';\r\nimport {\r\n  FilterArea,\r\n  FilterElementsWrapper,\r\n  ButtonGroup,\r\n  RoomGuestWrapper,\r\n  ItemWrapper,\r\n} from './MobileSearchView.style';\r\n\r\nconst FilterDrawer = ({ history, location }) => {\r\n  const searchParams = getStateFromUrl(location);\r\n\r\n  // state for drawer\r\n  const [toggle, setToggle] = useState(false);\r\n\r\n  // Amenities state\r\n  const [amenities, setAmenities] = useState(searchParams.amenities || []);\r\n\r\n  // Property type state\r\n  const [propertyType, setPropertyType] = useState(searchParams.property || []);\r\n\r\n  // Date state\r\n  const [searchDate, setSearchDate] = useState(\r\n    searchParams.date_range || {\r\n      setStartDate: null,\r\n      setEndDate: null,\r\n    }\r\n  );\r\n\r\n  // Price state\r\n  const [price, setPrice] = useState(\r\n    searchParams.price || {\r\n      min: 0,\r\n      max: 100,\r\n      defaultMin: 0,\r\n      defaultMax: 100,\r\n    }\r\n  );\r\n\r\n  // Room guest state\r\n\r\n  const roomAndGuest = {\r\n    room: searchParams && searchParams.room ? parseInt(searchParams.room) : 0,\r\n    guest:\r\n      searchParams && searchParams.guest ? parseInt(searchParams.guest) : 0,\r\n  };\r\n\r\n  const [roomGuest, setRoomGuest] = useState(\r\n    roomAndGuest || {\r\n      room: 0,\r\n      guest: 0,\r\n    }\r\n  );\r\n\r\n  // Room Guest data handling\r\n  const handleIncrement = type => {\r\n    console.log('clicked handleIncrement');\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: roomGuest[type] + 1,\r\n    });\r\n  };\r\n\r\n  const handleDecrement = type => {\r\n    console.log('clicked handleDecrement');\r\n    if (roomGuest[type] <= 0) {\r\n      return false;\r\n    }\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: roomGuest[type] - 1,\r\n    });\r\n  };\r\n\r\n  const handleIncDecOnChnage = (e, type) => {\r\n    let currentValue = e.target.value;\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: currentValue,\r\n    });\r\n  };\r\n\r\n  // Toggle Drawer\r\n  const handleToggleDrawer = () => {\r\n    setToggle(!toggle);\r\n  };\r\n\r\n  // Amenities data handling\r\n  const onChangeAmenity = checkedAmenityValue => {\r\n    setAmenities(checkedAmenityValue);\r\n  };\r\n\r\n  // PropertyType data handling\r\n  const onChangeProperty = checkedPropertValue => {\r\n    setPropertyType(checkedPropertValue);\r\n  };\r\n\r\n  // Price data handling\r\n  const handlePriceChange = setValue => {\r\n    const maxValue = setValue ? setValue[1] : price.defaultMin;\r\n    const minValue = setValue ? setValue[0] : price.defaultMax;\r\n    setPrice({\r\n      min: minValue,\r\n      max: maxValue,\r\n      defaultMin: price.defaultMin,\r\n      defaultMax: price.defaultMax,\r\n    });\r\n  };\r\n\r\n  // Date data handling\r\n  const updateSearchDataFunc = setDateValue => {\r\n    setSearchDate({\r\n      setStartDate: setDateValue.setStartDate,\r\n      setEndDate: setDateValue.setEndDate,\r\n    });\r\n  };\r\n\r\n  const handleApplyFilter = () => {\r\n    const search = setStateToUrl({\r\n      amenities: amenities,\r\n      property: propertyType,\r\n      price: [price.min, price.max],\r\n      date_range: searchDate,\r\n      ...roomGuest,\r\n    });\r\n    history.push({\r\n      pathname: '/listing',\r\n      search: search,\r\n    });\r\n    setToggle(false);\r\n  };\r\n\r\n  const handleCloseDrawer = () => {\r\n    setStateToUrl(null);\r\n    setAmenities([]);\r\n    setPropertyType([]);\r\n    setSearchDate({\r\n      setStartDate: null,\r\n      setEndDate: null,\r\n    });\r\n    setPrice({\r\n      min: 0,\r\n      max: 100,\r\n      defaultMin: 0,\r\n      defaultMax: 100,\r\n    });\r\n    setRoomGuest({\r\n      room: 0,\r\n      guest: 0,\r\n    });\r\n    setToggle(false);\r\n  };\r\n\r\n  return (\r\n    <FilterArea>\r\n      <Button className={toggle ? 'active' : ''} onClick={handleToggleDrawer}>\r\n        More filters\r\n      </Button>\r\n      <Drawer\r\n        className=\"filter_drawer\"\r\n        height=\"100vh\"\r\n        placement=\"bottom\"\r\n        closable={false}\r\n        maskClosable={false}\r\n        onClose={handleCloseDrawer}\r\n        visible={toggle}\r\n        maskStyle={{ backgroundColor: 'transparent' }}\r\n      >\r\n        <FilterElementsWrapper>\r\n          <Accordion allowZeroExpanded={true}>\r\n            {/* Start price range filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Select Price Range\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <Slider\r\n                  range\r\n                  marks={priceInit}\r\n                  min={price.defaultMin}\r\n                  max={price.defaultMax}\r\n                  value={[price.min, price.max]}\r\n                  onChange={handlePriceChange}\r\n                />\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of price range filter element */}\r\n\r\n            {/* Start date filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Choose Date\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                \r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of date filter element */}\r\n\r\n            {/* Start amenities filter element */}\r\n            <AccordionItem>\r\n              \r\n              \r\n            </AccordionItem>\r\n            {/* End of amenities filter element */}\r\n\r\n            {/* Start property type filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Property Type\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <Checkbox.Group\r\n                  options={getPropertyType.options}\r\n                  value={propertyType}\r\n                  onChange={onChangeProperty}\r\n                />\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of property type filter element */}\r\n\r\n            {/* Room & Guest type filter element */}\r\n            <AccordionItem>\r\n              <AccordionItemHeading>\r\n                <AccordionItemButton>\r\n                  <Heading as=\"h4\" content=\"Choose Room and Guest\" />\r\n                  <IoIosArrowDown />\r\n                </AccordionItemButton>\r\n              </AccordionItemHeading>\r\n              <AccordionItemPanel>\r\n                <RoomGuestWrapper>\r\n                  <ItemWrapper>\r\n                    <strong>Room</strong>\r\n                    <InputIncDec\r\n                      id=\"room\"\r\n                      increment={() => handleIncrement('room')}\r\n                      decrement={() => handleDecrement('room')}\r\n                      onChange={e => handleIncDecOnChnage(e, 'room')}\r\n                      value={roomGuest.room}\r\n                    />\r\n                  </ItemWrapper>\r\n\r\n                  <ItemWrapper>\r\n                    <strong>Guest</strong>\r\n                    <InputIncDec\r\n                      id=\"guest\"\r\n                      increment={() => handleIncrement('guest')}\r\n                      decrement={() => handleDecrement('guest')}\r\n                      onChange={e => handleIncDecOnChnage(e, 'guest')}\r\n                      value={roomGuest.guest}\r\n                    />\r\n                  </ItemWrapper>\r\n                </RoomGuestWrapper>\r\n              </AccordionItemPanel>\r\n            </AccordionItem>\r\n            {/* End of Room & Guest type filter element */}\r\n          </Accordion>\r\n\r\n          <ButtonGroup>\r\n            <Button onClick={handleCloseDrawer}>Cancel Filter</Button>\r\n            <Button type=\"primary\" onClick={handleApplyFilter}>\r\n              Apply Filter\r\n            </Button>\r\n          </ButtonGroup>\r\n        </FilterElementsWrapper>\r\n      </Drawer>\r\n    </FilterArea>\r\n  );\r\n};\r\n\r\nexport default FilterDrawer;\r\n"]},"metadata":{},"sourceType":"module"}