{"ast":null,"code":"import _slicedToArray from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Team6-FE\\\\isomorphic\\\\packages\\\\hotel\\\\src\\\\container\\\\SinglePage\\\\SinglePageView.js\";\n\nimport React, { Fragment, useState } from 'react';\nimport { useLocation } from '@iso/lib/hooks/useLocation';\nimport Sticky from 'react-stickynode';\nimport Row from '@iso/ui/Antd/Grid/Row';\nimport Col from '@iso/ui/Antd/Grid/Col';\nimport Modal from '@iso/ui/Antd/Modal/Modal';\nimport Button from '@iso/ui/Antd/Button/Button';\nimport Container from '@iso/ui/UI/Container/Container';\nimport Loader from '@hotel/components/Loader/Loader';\nimport useWindowSize from '@iso/lib/hooks/useWindowSize';\nimport Infomation from './Description/Description';\nimport Amenities from './Amenities/Amenities';\nimport Location from './Location/Location';\nimport Review from './Review/Review';\nimport Reservation from './Reservation/Reservation';\nimport BottomReservation from './Reservation/BottomReservation';\nimport TopBar from './TopBar/TopBar';\nimport SinglePageWrapper, { PostImage } from './SinglePageView.style';\nimport PostImageGallery from './ImageGallery/ImageGallery';\nimport useDataApi from '@iso/lib/hooks/useDataApi';\nimport isEmpty from 'lodash/isEmpty';\nimport { HotelPostGridLoader } from '@iso/ui/ContentLoader/ContentLoader';\nimport Description1 from './Description1/Description1';\nimport { SINGLE_POST_PAGE } from '../../settings/constant';\nimport { PostsWrapper } from '../Listing/Listing.style';\nimport SectionGrid from '@hotel/components/SectionGrid/SectionGrid.cra';\nimport ListingMap from '../Listing/ListingMap';\n\nvar SinglePage = function SinglePage(_ref) {\n  var match = _ref.match;\n\n  var _useLocation = useLocation(),\n      href = _useLocation.href;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isModalShowing = _useState2[0],\n      setIsModalShowing = _useState2[1]; // useWindowSize hook\n\n\n  var _useWindowSize = useWindowSize(),\n      width = _useWindowSize.width;\n\n  var url1 = '/data/hotel.json';\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      showMap = _useState4[0],\n      setShowMap = _useState4[1];\n\n  if (location.search) {\n    url += location.search;\n  }\n\n  var _useDataApi = useDataApi(url1),\n      data1 = _useDataApi.data1,\n      loading1 = _useDataApi.loading1,\n      loadMoreData = _useDataApi.loadMoreData,\n      total = _useDataApi.total,\n      limit = _useDataApi.limit;\n\n  var columnWidth = [1 / 2, 1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 5, 1 / 6];\n\n  if (showMap) {\n    columnWidth = [1 / 2, 1 / 2, 1 / 2, 1 / 2, 1 / 3];\n  } // useWindowSize hook\n\n\n  var url = '/data/hotel-single.json';\n\n  if (!match.params.slug) {\n    url += match.params.slug;\n  }\n\n  var _useDataApi2 = useDataApi(url),\n      data = _useDataApi2.data,\n      loading = _useDataApi2.loading;\n\n  if (isEmpty(data) || loading) return /*#__PURE__*/React.createElement(Loader, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 40\n    }\n  });\n  var _data$ = data[0],\n      reviews = _data$.reviews,\n      rating = _data$.rating,\n      ratingCount = _data$.ratingCount,\n      price = _data$.price,\n      title = _data$.title,\n      gallery = _data$.gallery,\n      location = _data$.location,\n      content = _data$.content,\n      amenities = _data$.amenities,\n      author = _data$.author;\n  return /*#__PURE__*/React.createElement(SinglePageWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TopBar, {\n    title: title,\n    shareURL: href,\n    author: author,\n    media: gallery,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(PostImage, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: function onClick() {\n      return setIsModalShowing(true);\n    },\n    className: \"image_gallery_button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, \"View Photos\"), /*#__PURE__*/React.createElement(Modal, {\n    visible: isModalShowing,\n    onCancel: function onCancel() {\n      return setIsModalShowing(false);\n    },\n    footer: null,\n    width: \"100%\",\n    maskStyle: {\n      backgroundColor: 'rgba(255, 255, 255, 0.95)'\n    },\n    wrapClassName: \"image_gallery_modal\",\n    closable: false,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PostImageGallery, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onClick: function onClick() {\n      return setIsModalShowing(false);\n    },\n    className: \"image_gallery_close\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"svg\", {\n    width: \"16.004\",\n    height: \"16\",\n    viewBox: \"0 0 16.004 16\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    id: \"_ionicons_svg_ios-close_2_\",\n    d: \"M170.4,168.55l5.716-5.716a1.339,1.339,0,1,0-1.894-1.894l-5.716,5.716-5.716-5.716a1.339,1.339,0,1,0-1.894,1.894l5.716,5.716-5.716,5.716a1.339,1.339,0,0,0,1.894,1.894l5.716-5.716,5.716,5.716a1.339,1.339,0,0,0,1.894-1.894Z\",\n    transform: \"translate(-160.5 -160.55)\",\n    fill: \"#909090\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  })))))), /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: 30,\n    id: \"reviewSection\",\n    style: {\n      marginTop: 30\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    xl: 16,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Infomation, {\n    content: content,\n    title: title,\n    location: location,\n    rating: rating,\n    ratingCount: ratingCount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    xl: 8,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 11\n    }\n  }, width > 1200 ? /*#__PURE__*/React.createElement(Sticky, {\n    innerZ: 999,\n    activeClass: \"isSticky\",\n    top: 202,\n    bottomBoundary: \"#reviewSection\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(BottomReservation, {\n    title: title,\n    price: price,\n    rating: rating,\n    ratingCount: ratingCount,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(Fragment, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(PostsWrapper, {\n    className: width > 767 && showMap ? 'col-12' : 'col-24',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(SectionGrid, {\n    link: SINGLE_POST_PAGE,\n    columnWidth: columnWidth,\n    data: data1,\n    totalItem: total.length,\n    loading: loading1,\n    limit: limit,\n    handleLoadMore: loadMoreData,\n    placeholder: /*#__PURE__*/React.createElement(HotelPostGridLoader, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 26\n      }\n    }),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  })), showMap && /*#__PURE__*/React.createElement(ListingMap, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Description1, {\n    content: content,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Review, {\n    reviews: reviews,\n    ratingCount: ratingCount,\n    rating: rating,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }));\n};\n\nexport default SinglePage;","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/packages/hotel/src/container/SinglePage/SinglePageView.js"],"names":["React","Fragment","useState","useLocation","Sticky","Row","Col","Modal","Button","Container","Loader","useWindowSize","Infomation","Amenities","Location","Review","Reservation","BottomReservation","TopBar","SinglePageWrapper","PostImage","PostImageGallery","useDataApi","isEmpty","HotelPostGridLoader","Description1","SINGLE_POST_PAGE","PostsWrapper","SectionGrid","ListingMap","SinglePage","match","href","isModalShowing","setIsModalShowing","width","url1","showMap","setShowMap","location","search","url","data1","loading1","loadMoreData","total","limit","columnWidth","params","slug","data","loading","reviews","rating","ratingCount","price","title","gallery","content","amenities","author","backgroundColor","marginTop","length"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\r\nimport { useLocation } from '@iso/lib/hooks/useLocation';\r\nimport Sticky from 'react-stickynode';\r\nimport Row from '@iso/ui/Antd/Grid/Row';\r\nimport Col from '@iso/ui/Antd/Grid/Col';\r\nimport Modal from '@iso/ui/Antd/Modal/Modal';\r\nimport Button from '@iso/ui/Antd/Button/Button';\r\nimport Container from '@iso/ui/UI/Container/Container';\r\nimport Loader from '@hotel/components/Loader/Loader';\r\nimport useWindowSize from '@iso/lib/hooks/useWindowSize';\r\nimport Infomation from './Description/Description';\r\nimport Amenities from './Amenities/Amenities';\r\nimport Location from './Location/Location';\r\nimport Review from './Review/Review';\r\nimport Reservation from './Reservation/Reservation';\r\nimport BottomReservation from './Reservation/BottomReservation';\r\nimport TopBar from './TopBar/TopBar';\r\nimport SinglePageWrapper, { PostImage } from './SinglePageView.style';\r\nimport PostImageGallery from './ImageGallery/ImageGallery';\r\nimport useDataApi from '@iso/lib/hooks/useDataApi';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport { HotelPostGridLoader } from '@iso/ui/ContentLoader/ContentLoader';\r\nimport Description1 from './Description1/Description1';\r\nimport { SINGLE_POST_PAGE } from '../../settings/constant';\r\nimport { PostsWrapper } from '../Listing/Listing.style';\r\nimport SectionGrid from '@hotel/components/SectionGrid/SectionGrid.cra';\r\nimport ListingMap from '../Listing/ListingMap';\r\nconst SinglePage = ({ match }) => {\r\n  const { href } = useLocation();\r\n  const [isModalShowing, setIsModalShowing] = useState(false);\r\n  // useWindowSize hook\r\n  const { width } = useWindowSize();\r\n  let url1 = '/data/hotel.json';\r\n  const [showMap, setShowMap] = useState(false);\r\n\r\n  if (location.search) {\r\n    url += location.search;\r\n  }\r\n  const { data1, loading1, loadMoreData, total, limit } = useDataApi(url1);\r\n  let columnWidth = [1 / 2, 1 / 2, 1 / 3, 1 / 4, 1 / 5, 1 / 5, 1 / 6];\r\n\r\n  if (showMap) {\r\n    columnWidth = [1 / 2, 1 / 2, 1 / 2, 1 / 2, 1 / 3];\r\n  }\r\n\r\n  // useWindowSize hook\r\n  \r\n  let url = '/data/hotel-single.json';\r\n  if (!match.params.slug) {\r\n    url += match.params.slug;\r\n  }\r\n  const { data, loading } = useDataApi(url);\r\n  if (isEmpty(data) || loading) return <Loader />;\r\n  const {\r\n    reviews,\r\n    rating,\r\n    ratingCount,\r\n    price,\r\n    title,\r\n    gallery,\r\n    location,\r\n    content,\r\n    amenities,\r\n    author,\r\n  } = data[0];\r\n\r\n  return (\r\n    <SinglePageWrapper>\r\n      <TopBar title={title} shareURL={href} author={author} media={gallery} />\r\n      <PostImage>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={() => setIsModalShowing(true)}\r\n          className=\"image_gallery_button\"\r\n        >\r\n          View Photos\r\n        </Button>\r\n        <Modal\r\n          visible={isModalShowing}\r\n          onCancel={() => setIsModalShowing(false)}\r\n          footer={null}\r\n          width=\"100%\"\r\n          maskStyle={{\r\n            backgroundColor: 'rgba(255, 255, 255, 0.95)',\r\n          }}\r\n          wrapClassName=\"image_gallery_modal\"\r\n          closable={false}\r\n        >\r\n          <Fragment>\r\n            <PostImageGallery />\r\n            <Button\r\n              onClick={() => setIsModalShowing(false)}\r\n              className=\"image_gallery_close\"\r\n            >\r\n              <svg width=\"16.004\" height=\"16\" viewBox=\"0 0 16.004 16\">\r\n                <path\r\n                  id=\"_ionicons_svg_ios-close_2_\"\r\n                  d=\"M170.4,168.55l5.716-5.716a1.339,1.339,0,1,0-1.894-1.894l-5.716,5.716-5.716-5.716a1.339,1.339,0,1,0-1.894,1.894l5.716,5.716-5.716,5.716a1.339,1.339,0,0,0,1.894,1.894l5.716-5.716,5.716,5.716a1.339,1.339,0,0,0,1.894-1.894Z\"\r\n                  transform=\"translate(-160.5 -160.55)\"\r\n                  fill=\"#909090\"\r\n                />\r\n              </svg>\r\n            </Button>\r\n          </Fragment>\r\n        </Modal>\r\n      </PostImage>\r\n\r\n      <Container>\r\n        <Row gutter={30} id=\"reviewSection\" style={{ marginTop: 30 }}>\r\n          <Col xl={16}>\r\n            <Infomation\r\n              content={content}\r\n              title={title}\r\n              location={location}\r\n              rating={rating}\r\n              ratingCount={ratingCount}\r\n            />\r\n          </Col>\r\n          <Col xl={8}>\r\n            {width > 1200 ? (\r\n              <Sticky\r\n                innerZ={999}\r\n                activeClass=\"isSticky\"\r\n                top={202}\r\n                bottomBoundary=\"#reviewSection\"\r\n              ></Sticky>\r\n            ) : (\r\n              <BottomReservation\r\n                title={title}\r\n                price={price}\r\n                rating={rating}\r\n                ratingCount={ratingCount}\r\n              />\r\n            )}\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n      <Fragment>\r\n        <PostsWrapper className={width > 767 && showMap ? 'col-12' : 'col-24'}>\r\n          <SectionGrid\r\n            link={SINGLE_POST_PAGE}\r\n            columnWidth={columnWidth}\r\n            data={data1}\r\n            totalItem={total.length}\r\n            loading={loading1}\r\n            limit={limit}\r\n            handleLoadMore={loadMoreData}\r\n            placeholder={<HotelPostGridLoader />}\r\n          />\r\n        </PostsWrapper>\r\n\r\n        {showMap && <ListingMap />}\r\n      </Fragment>\r\n      <Description1 content={content} />\r\n      <Review reviews={reviews} ratingCount={ratingCount} rating={rating} />\r\n    </SinglePageWrapper>\r\n  );\r\n};\r\n\r\nexport default SinglePage;\r\n"]},"metadata":{},"sourceType":"module"}