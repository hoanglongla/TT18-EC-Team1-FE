{"ast":null,"code":"import \"antd/es/progress/style/css\";\nimport _Progress from \"antd/es/progress\";\nimport _classCallCheck from \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _inherits from \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nimport _createSuper from \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\shared\\\\common\\\\UI\\\\Steppers\\\\FormStepper.js\";\nimport React, { Fragment, Component } from 'react';\nimport { Formik } from 'formik';\nimport { IoIosArrowBack } from 'react-icons/io';\n\nvar PercentageCalculator = /*#__PURE__*/function (_React$Component) {\n  _inherits(PercentageCalculator, _React$Component);\n\n  var _super = _createSuper(PercentageCalculator);\n\n  function PercentageCalculator(props) {\n    _classCallCheck(this, PercentageCalculator);\n\n    return _super.call(this, props);\n  }\n\n  _createClass(PercentageCalculator, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          formchild = _this$props.formchild,\n          pageStack = _this$props.pageStack,\n          lastPage = _this$props.lastPage;\n      var original = formchild ? formchild.length : 0;\n      var value = 0;\n\n      if (original !== pageStack) {\n        value = Math.floor(pageStack * 100 / original);\n      } else if (original === pageStack) {\n        value = 100;\n      } else {\n        value = 0;\n      }\n\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 7\n        }\n      }, lastPage ? /*#__PURE__*/React.createElement(_Progress, {\n        percent: 100,\n        showInfo: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }\n      }) : /*#__PURE__*/React.createElement(_Progress, {\n        percent: value,\n        showInfo: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }\n      }));\n    }\n  }]);\n\n  return PercentageCalculator;\n}(React.Component);\n\nvar FormStepper = /*#__PURE__*/function (_Component) {\n  _inherits(FormStepper, _Component);\n\n  var _super2 = _createSuper(FormStepper);\n\n  function FormStepper(props) {\n    var _this;\n\n    _classCallCheck(this, FormStepper);\n\n    _this = _super2.call(this, props);\n\n    _this.next = function (values) {\n      _this.setState(function (state) {\n        return {\n          page: Math.min(state.page + 1, _this.props.children.length - 1),\n          values: values\n        };\n      });\n    };\n\n    _this.previous = function () {\n      return _this.setState(function (state) {\n        return {\n          page: Math.max(state.page - 1, 0)\n        };\n      });\n    };\n\n    _this.validate = function (values) {\n      var activePage = React.Children.toArray(_this.props.children)[_this.state.page];\n\n      return activePage.props.validate ? activePage.props.validate(values) : {};\n    };\n\n    _this.handleSubmit = function (values, bag) {\n      var _this$props2 = _this.props,\n          children = _this$props2.children,\n          onSubmit = _this$props2.onSubmit;\n      var page = _this.state.page;\n      var isLastPage = page === React.Children.count(children) - 1;\n\n      if (isLastPage) {\n        return onSubmit(values, bag);\n      } else {\n        bag.setTouched({});\n        bag.setSubmitting(false);\n\n        _this.next(values);\n      }\n    };\n\n    _this.state = {\n      page: 0,\n      values: props.initialValues\n    };\n    return _this;\n  }\n\n  _createClass(FormStepper, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var children = this.props.children;\n      var _this$state = this.state,\n          page = _this$state.page,\n          values = _this$state.values;\n      var activePage = React.Children.toArray(children)[page];\n      var isLastPage = page === React.Children.count(children) - 1;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(PercentageCalculator, {\n        formchild: this.props.children,\n        pageStack: page,\n        lastPage: isLastPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(Formik, {\n        initialValues: values,\n        enableReinitialize: false,\n        validate: this.validate,\n        onSubmit: this.handleSubmit,\n        render: function render(_ref) {\n          var values = _ref.values,\n              handleSubmit = _ref.handleSubmit,\n              isSubmitting = _ref.isSubmitting,\n              handleReset = _ref.handleReset;\n          return /*#__PURE__*/React.createElement(\"form\", {\n            onSubmit: handleSubmit,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 13\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"steps-content\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 15\n            }\n          }, activePage), /*#__PURE__*/React.createElement(\"div\", {\n            className: \"steps-action\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }\n          }, /*#__PURE__*/React.createElement(\"div\", {\n            className: \"inner-wrapper\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }\n          }, page > 0 && /*#__PURE__*/React.createElement(\"button\", {\n            type: \"button\",\n            className: \"back-step-btn\",\n            onClick: _this2.previous,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 21\n            }\n          }, /*#__PURE__*/React.createElement(IoIosArrowBack, {\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 23\n            }\n          }), \" Back\"), !isLastPage && /*#__PURE__*/React.createElement(\"button\", {\n            className: \"next-step-btn\",\n            type: \"submit\",\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 21\n            }\n          }, \"Next\"), isLastPage && /*#__PURE__*/React.createElement(\"button\", {\n            className: \"submit-btn\",\n            type: \"submit\",\n            disabled: isSubmitting,\n            __self: _this2,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 21\n            }\n          }, \"Submit\"))));\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return FormStepper;\n}(Component);\n\nFormStepper.Page = function (_ref2) {\n  var children = _ref2.children;\n  return children;\n};\n\nexport default FormStepper;","map":{"version":3,"sources":["D:/TT18-EC-Team1-FE/isomorphic/shared/common/UI/Steppers/FormStepper.js"],"names":["React","Fragment","Component","Formik","IoIosArrowBack","PercentageCalculator","props","formchild","pageStack","lastPage","original","length","value","Math","floor","FormStepper","next","values","setState","state","page","min","children","previous","max","validate","activePage","Children","toArray","handleSubmit","bag","onSubmit","isLastPage","count","setTouched","setSubmitting","initialValues","isSubmitting","handleReset","Page"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\r\nimport { Formik } from 'formik';\r\nimport { IoIosArrowBack } from 'react-icons/io';\r\nimport { Progress } from 'antd';\r\n\r\nclass PercentageCalculator extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render() {\r\n    const { formchild, pageStack, lastPage } = this.props;\r\n    const original = formchild ? formchild.length : 0;\r\n    let value = 0;\r\n\r\n    if (original !== pageStack) {\r\n      value = Math.floor((pageStack * 100) / original);\r\n    } else if (original === pageStack) {\r\n      value = 100;\r\n    } else {\r\n      value = 0;\r\n    }\r\n\r\n    return (\r\n      <Fragment>\r\n        {lastPage ? (\r\n          <Progress percent={100} showInfo={false} />\r\n        ) : (\r\n          <Progress percent={value} showInfo={false} />\r\n        )}\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\n\r\nclass FormStepper extends Component {\r\n  static Page = ({ children }) => children;\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      page: 0,\r\n      values: props.initialValues,\r\n    };\r\n  }\r\n\r\n  next = values => {\r\n    this.setState(state => ({\r\n      page: Math.min(state.page + 1, this.props.children.length - 1),\r\n      values,\r\n    }));\r\n  };\r\n\r\n  previous = () =>\r\n    this.setState(state => ({\r\n      page: Math.max(state.page - 1, 0),\r\n    }));\r\n\r\n  validate = values => {\r\n    const activePage = React.Children.toArray(this.props.children)[\r\n      this.state.page\r\n    ];\r\n    return activePage.props.validate ? activePage.props.validate(values) : {};\r\n  };\r\n\r\n  handleSubmit = (values, bag) => {\r\n    const { children, onSubmit } = this.props;\r\n    const { page } = this.state;\r\n    const isLastPage = page === React.Children.count(children) - 1;\r\n\r\n    if (isLastPage) {\r\n      return onSubmit(values, bag);\r\n    } else {\r\n      bag.setTouched({});\r\n      bag.setSubmitting(false);\r\n      this.next(values);\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { children } = this.props;\r\n    const { page, values } = this.state;\r\n    const activePage = React.Children.toArray(children)[page];\r\n    const isLastPage = page === React.Children.count(children) - 1;\r\n\r\n    return (\r\n      <Fragment>\r\n        <PercentageCalculator\r\n          formchild={this.props.children}\r\n          pageStack={page}\r\n          lastPage={isLastPage}\r\n        />\r\n        <Formik\r\n          initialValues={values}\r\n          enableReinitialize={false}\r\n          validate={this.validate}\r\n          onSubmit={this.handleSubmit}\r\n          render={({ values, handleSubmit, isSubmitting, handleReset }) => (\r\n            <form onSubmit={handleSubmit}>\r\n              <div className=\"steps-content\">{activePage}</div>\r\n              <div className=\"steps-action\">\r\n                <div className=\"inner-wrapper\">\r\n                  {page > 0 && (\r\n                    <button\r\n                      type=\"button\"\r\n                      className=\"back-step-btn\"\r\n                      onClick={this.previous}\r\n                    >\r\n                      <IoIosArrowBack /> Back\r\n                    </button>\r\n                  )}\r\n\r\n                  {!isLastPage && (\r\n                    <button className=\"next-step-btn\" type=\"submit\">\r\n                      Next\r\n                    </button>\r\n                  )}\r\n                  {isLastPage && (\r\n                    <button\r\n                      className=\"submit-btn\"\r\n                      type=\"submit\"\r\n                      disabled={isSubmitting}\r\n                    >\r\n                      Submit\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </form>\r\n          )}\r\n        />\r\n      </Fragment>\r\n    );\r\n  }\r\n}\r\nexport default FormStepper;\r\n"]},"metadata":{},"sourceType":"module"}