{"ast":null,"code":"import _toConsumableArray from \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\packages\\\\hotel\\\\src\\\\container\\\\Cart\\\\Cart.js\";\nimport React from 'react';\nimport { LayoutContentWrapper } from '@iso/components/utility/layoutWrapper.style';\nimport CartTable from './CartTable';\n\nfunction Header(_ref) {\n  var itemCount = _ref.itemCount;\n  return /*#__PURE__*/React.createElement(\"header\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }\n  }, \"Shopping Cart\"), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"breadcrumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 9\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 9\n    }\n  }, \"Shopping Cart\")), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"count\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }\n  }, itemCount, \" items in the bag\"));\n}\n\nfunction Summary(_ref2) {\n  var subTotal = _ref2.subTotal,\n      discount = _ref2.discount,\n      tax = _ref2.tax,\n      onEnterPromoCode = _ref2.onEnterPromoCode,\n      checkPromoCode = _ref2.checkPromoCode;\n  var total = subTotal - discount + tax;\n  return /*#__PURE__*/React.createElement(\"section\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"promotion\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"promo-code\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 9\n    }\n  }, \"Have A Promo Code?\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: onEnterPromoCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    onClick: checkPromoCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"summary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  }, \"Subtotal \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 22\n    }\n  }, formatCurrency(subTotal))), discount > 0 && /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, \"Discount \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 24\n    }\n  }, formatCurrency(discount))), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, \"Tax \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, formatCurrency(tax))), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"total\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Total \", /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 19\n    }\n  }, formatCurrency(total))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"checkout\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Check Out\")));\n}\n\nvar PRODUCTS = [{\n  image: \"https://via.placeholder.com/200x150\",\n  name: \"PRODUCT ITEM NUMBER 1\",\n  description: \"Description for product item number 1\",\n  price: 5.99,\n  quantity: 2\n}, {\n  image: \"https://via.placeholder.com/200x150\",\n  name: \"PRODUCT ITEM NUMBER 2\",\n  description: \"Description for product item number 1\",\n  price: 9.99,\n  quantity: 1\n}];\nvar PROMOTIONS = [{\n  code: \"SUMMER\",\n  discount: \"50%\"\n}, {\n  code: \"AUTUMN\",\n  discount: \"40%\"\n}, {\n  code: \"WINTER\",\n  discount: \"30%\"\n}];\nvar TAX = 5;\n\nfunction Page() {\n  var CLONE_PRODUCTS = JSON.parse(JSON.stringify(PRODUCTS));\n\n  var _React$useState = React.useState(CLONE_PRODUCTS),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      products = _React$useState2[0],\n      setProducts = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      promoCode = _React$useState4[0],\n      setPromoCode = _React$useState4[1];\n\n  var _React$useState5 = React.useState(0),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      discountPercent = _React$useState6[0],\n      setDiscountPercent = _React$useState6[1];\n\n  var itemCount = products.reduce(function (quantity, product) {\n    return quantity + +product.quantity;\n  }, 0);\n  var subTotal = products.reduce(function (total, product) {\n    return total + product.price * +product.quantity;\n  }, 0);\n  var discount = subTotal * discountPercent / 100;\n\n  onChangeProductQuantity = function onChangeProductQuantity(index, event) {\n    var value = event.target.value;\n    var valueInt = parseInt(value);\n\n    var cloneProducts = _toConsumableArray(products); // Minimum quantity is 1, maximum quantity is 100, can left blank to input easily\n\n\n    if (value === \"\") {\n      cloneProducts[index].quantity = value;\n    } else if (valueInt > 0 && valueInt < 100) {\n      cloneProducts[index].quantity = valueInt;\n    }\n\n    console.log(cloneProducts, products, PRODUCTS);\n    setProducts(cloneProducts);\n  };\n\n  onRemoveProduct = function onRemoveProduct(i) {\n    var filteredProduct = products.filter(function (product, index) {\n      return index != i;\n    });\n    setProducts(filteredProduct);\n  };\n\n  onEnterPromoCode = function onEnterPromoCode(event) {\n    setPromoCode(event.target.value);\n  };\n\n  checkPromoCode = function checkPromoCode() {\n    for (var i = 0; i < PROMOTIONS.length; i++) {\n      if (promoCode === PROMOTIONS[i].code) {\n        setDiscountPercent(parseFloat(PROMOTIONS[i].discount.replace(\"%\", \"\")));\n        return;\n      }\n    }\n\n    alert(\"Sorry, the Promotional code you entered is not valid!\");\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    itemCount: itemCount,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }\n  }), products.length > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(ProductList, {\n    products: products,\n    onChangeProductQuantity: onChangeProductQuantity,\n    onRemoveProduct: onRemoveProduct,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Summary, {\n    subTotal: subTotal,\n    discount: discount,\n    tax: TAX,\n    onEnterPromoCode: onEnterPromoCode,\n    checkPromoCode: checkPromoCode,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 11\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"empty-product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 11\n    }\n  }, \"There are no products in your cart.\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: function onClick() {\n      return setProducts(PRODUCTS);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, \"Shopping now\")));\n}","map":{"version":3,"sources":["D:/TT18-EC-Team1-FE/isomorphic/packages/hotel/src/container/Cart/Cart.js"],"names":["React","LayoutContentWrapper","CartTable","Header","itemCount","Summary","subTotal","discount","tax","onEnterPromoCode","checkPromoCode","total","formatCurrency","PRODUCTS","image","name","description","price","quantity","PROMOTIONS","code","TAX","Page","CLONE_PRODUCTS","JSON","parse","stringify","useState","products","setProducts","promoCode","setPromoCode","discountPercent","setDiscountPercent","reduce","product","onChangeProductQuantity","index","event","value","target","valueInt","parseInt","cloneProducts","console","log","onRemoveProduct","i","filteredProduct","filter","length","parseFloat","replace","alert"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { LayoutContentWrapper } from '@iso/components/utility/layoutWrapper.style';\r\nimport CartTable from './CartTable';\r\n\r\nfunction Header({ itemCount }) {\r\n  return (\r\n    <header className=\"container\">\r\n      <h1>Shopping Cart</h1>\r\n\r\n      <ul className=\"breadcrumb\">\r\n        <li>Home</li>\r\n        <li>Shopping Cart</li>\r\n      </ul>\r\n\r\n      <span className=\"count\">{itemCount} items in the bag</span>\r\n    </header>\r\n  );\r\n}\r\n\r\n\r\n\r\nfunction Summary({\r\n  subTotal,\r\n  discount,\r\n  tax,\r\n  onEnterPromoCode,\r\n  checkPromoCode\r\n}) {\r\n  const total = subTotal - discount + tax;\r\n\r\n  return (\r\n    <section className=\"container\">\r\n      <div className=\"promotion\">\r\n        <label htmlFor=\"promo-code\">Have A Promo Code?</label>\r\n        <input type=\"text\" onChange={onEnterPromoCode} />\r\n        <button type=\"button\" onClick={checkPromoCode} />\r\n      </div>\r\n\r\n      <div className=\"summary\">\r\n        <ul>\r\n          <li>\r\n            Subtotal <span>{formatCurrency(subTotal)}</span>\r\n          </li>\r\n          {discount > 0 && (\r\n            <li>\r\n              Discount <span>{formatCurrency(discount)}</span>\r\n            </li>\r\n          )}\r\n          <li>\r\n            Tax <span>{formatCurrency(tax)}</span>\r\n          </li>\r\n          <li className=\"total\">\r\n            Total <span>{formatCurrency(total)}</span>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"checkout\">\r\n        <button type=\"button\">Check Out</button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nconst PRODUCTS = [\r\n  {\r\n    image: \"https://via.placeholder.com/200x150\",\r\n    name: \"PRODUCT ITEM NUMBER 1\",\r\n    description: \"Description for product item number 1\",\r\n    price: 5.99,\r\n    quantity: 2\r\n  },\r\n  {\r\n    image: \"https://via.placeholder.com/200x150\",\r\n    name: \"PRODUCT ITEM NUMBER 2\",\r\n    description: \"Description for product item number 1\",\r\n    price: 9.99,\r\n    quantity: 1\r\n  }\r\n];\r\nconst PROMOTIONS = [\r\n  {\r\n    code: \"SUMMER\",\r\n    discount: \"50%\"\r\n  },\r\n  {\r\n    code: \"AUTUMN\",\r\n    discount: \"40%\"\r\n  },\r\n  {\r\n    code: \"WINTER\",\r\n    discount: \"30%\"\r\n  }\r\n];\r\nconst TAX = 5;\r\n\r\nfunction Page() {\r\n  const CLONE_PRODUCTS = JSON.parse(JSON.stringify(PRODUCTS));\r\n  const [products, setProducts] = React.useState(CLONE_PRODUCTS);\r\n  const [promoCode, setPromoCode] = React.useState(\"\");\r\n  const [discountPercent, setDiscountPercent] = React.useState(0);\r\n\r\n  const itemCount = products.reduce((quantity, product) => {\r\n    return quantity + +product.quantity;\r\n  }, 0);\r\n  const subTotal = products.reduce((total, product) => {\r\n    return total + product.price * +product.quantity;\r\n  }, 0);\r\n  const discount = (subTotal * discountPercent) / 100;\r\n\r\n  onChangeProductQuantity = (index, event) => {\r\n    const value = event.target.value;\r\n    const valueInt = parseInt(value);\r\n    const cloneProducts = [...products];\r\n\r\n    // Minimum quantity is 1, maximum quantity is 100, can left blank to input easily\r\n    if (value === \"\") {\r\n      cloneProducts[index].quantity = value;\r\n    } else if (valueInt > 0 && valueInt < 100) {\r\n      cloneProducts[index].quantity = valueInt;\r\n    }\r\n    console.log(cloneProducts, products, PRODUCTS);\r\n    setProducts(cloneProducts);\r\n  };\r\n\r\n  onRemoveProduct = (i) => {\r\n    const filteredProduct = products.filter((product, index) => {\r\n      return index != i;\r\n    });\r\n\r\n    setProducts(filteredProduct);\r\n  };\r\n\r\n  onEnterPromoCode = (event) => {\r\n    setPromoCode(event.target.value);\r\n  };\r\n\r\n  checkPromoCode = () => {\r\n    for (var i = 0; i < PROMOTIONS.length; i++) {\r\n      if (promoCode === PROMOTIONS[i].code) {\r\n        setDiscountPercent(parseFloat(PROMOTIONS[i].discount.replace(\"%\", \"\")));\r\n\r\n        return;\r\n      }\r\n    }\r\n\r\n    alert(\"Sorry, the Promotional code you entered is not valid!\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Header itemCount={itemCount} />\r\n\r\n      {products.length > 0 ? (\r\n        <div>\r\n          <ProductList\r\n            products={products}\r\n            onChangeProductQuantity={onChangeProductQuantity}\r\n            onRemoveProduct={onRemoveProduct}\r\n          />\r\n\r\n          <Summary\r\n            subTotal={subTotal}\r\n            discount={discount}\r\n            tax={TAX}\r\n            onEnterPromoCode={onEnterPromoCode}\r\n            checkPromoCode={checkPromoCode}\r\n          />\r\n        </div>\r\n      ) : (\r\n        <div className=\"empty-product\">\r\n          <h3>There are no products in your cart.</h3>\r\n          <button onClick={() => setProducts(PRODUCTS)}>Shopping now</button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}