{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar FileItem = require('./FileItem/index.js');\n\nvar VirtualList = require('./VirtualList');\n\nvar classNames = require('classnames');\n\nvar _require = require('preact'),\n    h = _require.h;\n\nfunction chunks(list, size) {\n  var chunked = [];\n  var currentChunk = [];\n  list.forEach(function (item, i) {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\n\nmodule.exports = function (props) {\n  var noFiles = props.totalFileCount === 0;\n  var dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  var rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  var fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    log: props.log,\n    info: props.info,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    retryUpload: props.retryUpload,\n    pauseUpload: props.pauseUpload,\n    cancelUpload: props.cancelUpload,\n    toggleFileCard: props.toggleFileCard,\n    removeFile: props.removeFile,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n\n  var sortByGhostComesFirst = function sortByGhostComesFirst(file1, file2) {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n\n  var files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  var rows = chunks(files, props.itemsPerRow);\n\n  function renderRow(row) {\n    return (// The `role=\"presentation` attribute ensures that the list items are properly associated with the `VirtualList` element\n      // We use the first file ID as the keyâ€”this should not change across scroll rerenders\n      h(\"div\", {\n        role: \"presentation\",\n        key: row[0]\n      }, row.map(function (fileID) {\n        return h(FileItem, _extends({\n          key: fileID\n        }, fileProps, {\n          role: \"listitem\",\n          openFileEditor: props.openFileEditor,\n          canEditFile: props.canEditFile,\n          toggleAddFilesPanel: props.toggleAddFilesPanel,\n          file: props.files[fileID]\n        }));\n      }))\n    );\n  }\n\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n};","map":{"version":3,"sources":["D:/TT18-EC-Team1-FE/isomorphic/node_modules/@uppy/dashboard/lib/components/FileList.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","FileItem","require","VirtualList","classNames","_require","h","chunks","list","size","chunked","currentChunk","forEach","item","push","module","exports","props","noFiles","totalFileCount","dashboardFilesClass","rowHeight","itemsPerRow","fileProps","id","error","i18n","log","info","acquirers","resumableUploads","individualCancellation","hideRetryButton","hidePauseResumeButton","hideCancelButton","showLinkToFileUploadResult","showRemoveButtonAfterComplete","isWide","metaFields","recoveredState","retryUpload","pauseUpload","cancelUpload","toggleFileCard","removeFile","handleRequestThumbnail","handleCancelThumbnail","sortByGhostComesFirst","file1","file2","files","isGhost","keys","sort","rows","renderRow","row","role","map","fileID","openFileEditor","canEditFile","toggleAddFilesPanel","file","class","data"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nvar FileItem = require('./FileItem/index.js');\n\nvar VirtualList = require('./VirtualList');\n\nvar classNames = require('classnames');\n\nvar _require = require('preact'),\n    h = _require.h;\n\nfunction chunks(list, size) {\n  var chunked = [];\n  var currentChunk = [];\n  list.forEach(function (item, i) {\n    if (currentChunk.length < size) {\n      currentChunk.push(item);\n    } else {\n      chunked.push(currentChunk);\n      currentChunk = [item];\n    }\n  });\n  if (currentChunk.length) chunked.push(currentChunk);\n  return chunked;\n}\n\nmodule.exports = function (props) {\n  var noFiles = props.totalFileCount === 0;\n  var dashboardFilesClass = classNames('uppy-Dashboard-files', {\n    'uppy-Dashboard-files--noFiles': noFiles\n  }); // It's not great that this is hardcoded!\n  // It's ESPECIALLY not great that this is checking against `itemsPerRow`!\n\n  var rowHeight = props.itemsPerRow === 1 // Mobile\n  ? 71 // 190px height + 2 * 5px margin\n  : 200;\n  var fileProps = {\n    // FIXME This is confusing, it's actually the Dashboard's plugin ID\n    id: props.id,\n    error: props.error,\n    // TODO move this to context\n    i18n: props.i18n,\n    log: props.log,\n    info: props.info,\n    // features\n    acquirers: props.acquirers,\n    resumableUploads: props.resumableUploads,\n    individualCancellation: props.individualCancellation,\n    // visual options\n    hideRetryButton: props.hideRetryButton,\n    hidePauseResumeButton: props.hidePauseResumeButton,\n    hideCancelButton: props.hideCancelButton,\n    showLinkToFileUploadResult: props.showLinkToFileUploadResult,\n    showRemoveButtonAfterComplete: props.showRemoveButtonAfterComplete,\n    isWide: props.isWide,\n    metaFields: props.metaFields,\n    recoveredState: props.recoveredState,\n    // callbacks\n    retryUpload: props.retryUpload,\n    pauseUpload: props.pauseUpload,\n    cancelUpload: props.cancelUpload,\n    toggleFileCard: props.toggleFileCard,\n    removeFile: props.removeFile,\n    handleRequestThumbnail: props.handleRequestThumbnail,\n    handleCancelThumbnail: props.handleCancelThumbnail\n  };\n\n  var sortByGhostComesFirst = function sortByGhostComesFirst(file1, file2) {\n    return props.files[file2].isGhost - props.files[file1].isGhost;\n  }; // Sort files by file.isGhost, ghost files first, only if recoveredState is present\n\n\n  var files = Object.keys(props.files);\n  if (props.recoveredState) files.sort(sortByGhostComesFirst);\n  var rows = chunks(files, props.itemsPerRow);\n\n  function renderRow(row) {\n    return (// The `role=\"presentation` attribute ensures that the list items are properly associated with the `VirtualList` element\n      // We use the first file ID as the keyâ€”this should not change across scroll rerenders\n      h(\"div\", {\n        role: \"presentation\",\n        key: row[0]\n      }, row.map(function (fileID) {\n        return h(FileItem, _extends({\n          key: fileID\n        }, fileProps, {\n          role: \"listitem\",\n          openFileEditor: props.openFileEditor,\n          canEditFile: props.canEditFile,\n          toggleAddFilesPanel: props.toggleAddFilesPanel,\n          file: props.files[fileID]\n        }));\n      }))\n    );\n  }\n\n  return h(VirtualList, {\n    class: dashboardFilesClass,\n    role: \"list\",\n    data: rows,\n    renderRow: renderRow,\n    rowHeight: rowHeight\n  });\n};"]},"metadata":{},"sourceType":"script"}