{"ast":null,"code":"import \"antd/es/row/style/css\";\nimport _Row from \"antd/es/row\";\nimport \"antd/es/col/style/css\";\nimport _Col from \"antd/es/col\";\nvar _jsxFileName = \"D:\\\\TT18-EC-Team1-FE\\\\isomorphic\\\\shared\\\\isomorphic\\\\containers\\\\Ecommerce\\\\Card\\\\Card.js\";\nimport React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport clone from 'clone';\nimport Button from '@iso/components/uielements/button';\nimport PageHeader from '@iso/components/utility/pageHeader';\nimport Box from '@iso/components/utility/box';\nimport LayoutWrapper from '@iso/components/utility/layoutWrapper';\nimport Card from '@iso/components/Card/Card';\nimport { ButtonWrapper } from '@iso/components/Card/CardModal.style';\nimport basicStyle from '@iso/assets/styles/constants';\nimport cardActions from '@iso/redux/card/actions';\nimport { createColumns } from './config';\nimport SimpleTable from '../../Tables/AntTables/TableViews/SimpleView';\nconst {\n  addCard,\n  editCard,\n  deleteCard\n} = cardActions;\nexport default function Cards() {\n  const dispatch = useDispatch();\n  const {\n    cards\n  } = useSelector(state => state.Cards);\n  const [state, setState] = React.useState({\n    editView: false,\n    selectedCard: null,\n    modalType: ''\n  });\n  const columns = createColumns(editColumn, value => dispatch(deleteCard(value)));\n\n  function editColumn(card) {\n    setState({\n      editView: true,\n      selectedCard: clone(card),\n      modalType: 'edit'\n    });\n  }\n\n  function addColumn() {\n    setState({\n      editView: true,\n      selectedCard: {\n        id: new Date().getTime(),\n        key: new Date().getTime(),\n        number: '',\n        name: '',\n        expiry: '',\n        cvc: ''\n      },\n      modalType: 'add'\n    });\n  }\n\n  function handleCancel() {\n    setState({\n      editView: false,\n      selectedCard: null\n    });\n  }\n\n  function submitCard(card) {\n    if (state.modalType === 'edit') {\n      dispatch(editCard(state.selectedCard));\n    } else {\n      dispatch(addCard(state.selectedCard));\n    }\n\n    setState({\n      editView: false,\n      selectedCard: null\n    });\n  }\n\n  function updateCard(selectedCard) {\n    setState({ ...state,\n      selectedCard\n    });\n  }\n\n  const {\n    rowStyle,\n    colStyle,\n    gutter\n  } = basicStyle;\n  const {\n    editView,\n    selectedCard,\n    modalType\n  } = state;\n  const newCards = clone(cards);\n\n  const createNumber = number => {\n    const length = number.length;\n    let newNumber = '';\n\n    for (let i = 0; i < length - 4; i++) {\n      newNumber = `*${newNumber}`;\n    }\n\n    for (let i = length - 4; i < length; i++) {\n      newNumber = `${newNumber}${number.charAt(i)}`;\n    }\n\n    return newNumber;\n  };\n\n  newCards.forEach((card, index) => {\n    newCards[index].number = createNumber(card.number);\n  });\n  return /*#__PURE__*/React.createElement(LayoutWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, \"Cards\"), /*#__PURE__*/React.createElement(_Row, {\n    style: rowStyle,\n    gutter: gutter,\n    justify: \"start\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(_Col, {\n    md: 24,\n    sm: 24,\n    xs: 24,\n    style: colStyle,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(ButtonWrapper, {\n    className: \"isoButtonWrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    className: \"\",\n    onClick: addColumn,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 15\n    }\n  }, \"Add New Card\")), /*#__PURE__*/React.createElement(SimpleTable, {\n    columns: columns,\n    dataSource: cards,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }), selectedCard && /*#__PURE__*/React.createElement(Card, {\n    editView: editView,\n    modalType: modalType,\n    selectedCard: selectedCard,\n    handleCancel: handleCancel,\n    submitCard: submitCard,\n    updateCard: updateCard,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  })))));\n}","map":{"version":3,"sources":["D:/TT18-EC-Team1-FE/isomorphic/shared/isomorphic/containers/Ecommerce/Card/Card.js"],"names":["React","useDispatch","useSelector","clone","Button","PageHeader","Box","LayoutWrapper","Card","ButtonWrapper","basicStyle","cardActions","createColumns","SimpleTable","addCard","editCard","deleteCard","Cards","dispatch","cards","state","setState","useState","editView","selectedCard","modalType","columns","editColumn","value","card","addColumn","id","Date","getTime","key","number","name","expiry","cvc","handleCancel","submitCard","updateCard","rowStyle","colStyle","gutter","newCards","createNumber","length","newNumber","i","charAt","forEach","index"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Row, Col } from 'antd';\r\nimport clone from 'clone';\r\nimport Button from '@iso/components/uielements/button';\r\nimport PageHeader from '@iso/components/utility/pageHeader';\r\nimport Box from '@iso/components/utility/box';\r\nimport LayoutWrapper from '@iso/components/utility/layoutWrapper';\r\nimport Card from '@iso/components/Card/Card';\r\nimport { ButtonWrapper } from '@iso/components/Card/CardModal.style';\r\nimport basicStyle from '@iso/assets/styles/constants';\r\nimport cardActions from '@iso/redux/card/actions';\r\nimport { createColumns } from './config';\r\nimport SimpleTable from '../../Tables/AntTables/TableViews/SimpleView';\r\n\r\nconst { addCard, editCard, deleteCard } = cardActions;\r\nexport default function Cards() {\r\n  const dispatch = useDispatch();\r\n  const { cards } = useSelector(state => state.Cards);\r\n  const [state, setState] = React.useState({\r\n    editView: false,\r\n    selectedCard: null,\r\n    modalType: '',\r\n  });\r\n  const columns = createColumns(editColumn, value =>\r\n    dispatch(deleteCard(value))\r\n  );\r\n  function editColumn(card) {\r\n    setState({\r\n      editView: true,\r\n      selectedCard: clone(card),\r\n      modalType: 'edit',\r\n    });\r\n  }\r\n  function addColumn() {\r\n    setState({\r\n      editView: true,\r\n      selectedCard: {\r\n        id: new Date().getTime(),\r\n        key: new Date().getTime(),\r\n        number: '',\r\n        name: '',\r\n        expiry: '',\r\n        cvc: '',\r\n      },\r\n      modalType: 'add',\r\n    });\r\n  }\r\n  function handleCancel() {\r\n    setState({\r\n      editView: false,\r\n      selectedCard: null,\r\n    });\r\n  }\r\n  function submitCard(card) {\r\n    if (state.modalType === 'edit') {\r\n      dispatch(editCard(state.selectedCard));\r\n    } else {\r\n      dispatch(addCard(state.selectedCard));\r\n    }\r\n    setState({\r\n      editView: false,\r\n      selectedCard: null,\r\n    });\r\n  }\r\n  function updateCard(selectedCard) {\r\n    setState({ ...state, selectedCard });\r\n  }\r\n  const { rowStyle, colStyle, gutter } = basicStyle;\r\n  const { editView, selectedCard, modalType } = state;\r\n  const newCards = clone(cards);\r\n  const createNumber = number => {\r\n    const length = number.length;\r\n    let newNumber = '';\r\n    for (let i = 0; i < length - 4; i++) {\r\n      newNumber = `*${newNumber}`;\r\n    }\r\n    for (let i = length - 4; i < length; i++) {\r\n      newNumber = `${newNumber}${number.charAt(i)}`;\r\n    }\r\n    return newNumber;\r\n  };\r\n  newCards.forEach((card, index) => {\r\n    newCards[index].number = createNumber(card.number);\r\n  });\r\n  return (\r\n    <LayoutWrapper>\r\n      <PageHeader>Cards</PageHeader>\r\n      <Row style={rowStyle} gutter={gutter} justify=\"start\">\r\n        <Col md={24} sm={24} xs={24} style={colStyle}>\r\n          <Box>\r\n            <ButtonWrapper className=\"isoButtonWrapper\">\r\n              <Button type=\"primary\" className=\"\" onClick={addColumn}>\r\n                Add New Card\r\n              </Button>\r\n            </ButtonWrapper>\r\n\r\n            <SimpleTable columns={columns} dataSource={cards} />\r\n            {selectedCard && (\r\n              <Card\r\n                editView={editView}\r\n                modalType={modalType}\r\n                selectedCard={selectedCard}\r\n                handleCancel={handleCancel}\r\n                submitCard={submitCard}\r\n                updateCard={updateCard}\r\n              />\r\n            )}\r\n          </Box>\r\n        </Col>\r\n      </Row>\r\n    </LayoutWrapper>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}