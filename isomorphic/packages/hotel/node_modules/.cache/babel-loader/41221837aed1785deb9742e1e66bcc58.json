{"ast":null,"code":"import _defineProperty from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Team6-FE\\\\isomorphic\\\\packages\\\\hotel\\\\src\\\\container\\\\Home\\\\Search\\\\HomeSearchForm.js\";\n\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport isEmpty from 'lodash/isEmpty';\nimport { FaMapMarkerAlt, FaRegCalendar, FaUserFriends } from 'react-icons/fa';\nimport Button from '@iso/ui/Antd/Button/Button';\nimport DateRangePickerBox from '@iso/ui/DatePicker/ReactDates';\nimport MapAutoComplete from '@hotel/components/Map/MapAutoComplete';\nimport { NavbarSearchWrapper } from '../.';\nimport { MapDataHelper } from '@hotel/components/Map/MapLocationBox';\nimport ViewWithPopup from '@iso/ui/UI/ViewWithPopup/ViewWithPopup';\nimport InputIncDec from '@iso/ui/InputIncDec/InputIncDec';\nimport { setStateToUrl } from '@iso/lib/helpers/url_handler';\nimport { LISTING_POSTS_PAGE } from '../../../settings/constant';\nimport { FormWrapper, ComponentWrapper, RoomGuestWrapper, ItemWrapper } from './Search.style';\nvar calendarItem = {\n  separator: '-',\n  format: 'MM-DD-YYYY',\n  locale: 'en'\n};\n\nvar HomeSearch = function HomeSearch(_ref) {\n  var history = _ref.history;\n\n  var _useState = useState({\n    setStartDate: null,\n    setEndDate: null\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchDate = _useState2[0],\n      setSearchDate = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mapValue = _useState4[0],\n      setMapValue = _useState4[1]; // Room guest state\n\n\n  var _useState5 = useState({\n    room: 0,\n    guest: 0\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      roomGuest = _useState6[0],\n      setRoomGuest = _useState6[1];\n\n  var updatevalueFunc = function updatevalueFunc(event) {\n    var searchedPlaceAPIData = event.searchedPlaceAPIData;\n\n    if (!isEmpty(searchedPlaceAPIData)) {\n      setMapValue(searchedPlaceAPIData);\n    }\n  }; // Room Guest data handling\n\n\n  var handleIncrement = function handleIncrement(type) {\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, _defineProperty({}, type, roomGuest[type] + 1)));\n  };\n\n  var handleDecrement = function handleDecrement(type) {\n    if (roomGuest[type] <= 0) {\n      return false;\n    }\n\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, _defineProperty({}, type, roomGuest[type] - 1)));\n  };\n\n  var handleIncDecOnChnage = function handleIncDecOnChnage(e, type) {\n    var currentValue = e.target.value;\n    setRoomGuest(_objectSpread(_objectSpread({}, roomGuest), {}, _defineProperty({}, type, currentValue)));\n  };\n\n  var goToSearchPage = function goToSearchPage() {\n    var tempLocation = [];\n    var mapData = mapValue ? MapDataHelper(mapValue) : [];\n    mapData && mapData.map(function (singleMapData, i) {\n      return tempLocation.push({\n        formattedAddress: singleMapData ? singleMapData.formattedAddress : '',\n        lat: singleMapData ? singleMapData.lat.toFixed(3) : null,\n        lng: singleMapData ? singleMapData.lng.toFixed(3) : null\n      });\n    });\n    var location = tempLocation ? tempLocation[0] : {};\n    var query = {\n      date_range: searchDate,\n      room: roomGuest.room,\n      guest: roomGuest.guest,\n      location: location\n    };\n    var search = setStateToUrl(query);\n    history.push({\n      pathname: LISTING_POSTS_PAGE,\n      search: search\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(FormWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(ComponentWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FaMapMarkerAlt, {\n    className: \"map-marker\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(MapAutoComplete, {\n    updatevalue: function updatevalue(value) {\n      return updatevalueFunc(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    version: \"1.1\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"30\",\n    height: \"30\",\n    viewBox: \"0 0 144.083 144\",\n    enableBackground: \"new 0 0 144.083 144\",\n    className: \"target\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M117.292,69h-13.587C102.28,53.851,90.19,41.761,75.042,40.337V26.5h-6v13.837C53.893,41.761,41.802,53.851,40.378,69  H26.792v6h13.587c1.425,15.148,13.515,27.238,28.663,28.663V117.5h6v-13.837C90.19,102.238,102.28,90.148,103.705,75h13.587V69z   M72.042,97.809c-14.23,0-25.809-11.578-25.809-25.809c0-14.231,11.578-25.809,25.809-25.809S97.85,57.769,97.85,72  C97.85,86.23,86.272,97.809,72.042,97.809z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M72.042,52.541c-10.729,0-19.459,8.729-19.459,19.459s8.729,19.459,19.459,19.459S91.5,82.729,91.5,72  S82.771,52.541,72.042,52.541z M72.042,85.459c-7.421,0-13.459-6.037-13.459-13.459c0-7.421,6.038-13.459,13.459-13.459  S85.5,64.579,85.5,72C85.5,79.422,79.462,85.459,72.042,85.459z\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 11\n    }\n  }))), /*#__PURE__*/React.createElement(ComponentWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FaRegCalendar, {\n    className: \"calendar\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(DateRangePickerBox, {\n    item: calendarItem,\n    startDateId: \"startDateId-id-home\",\n    endDateId: \"endDateId-id-home\",\n    updateSearchData: function updateSearchData(setDateValue) {\n      return setSearchDate(setDateValue);\n    },\n    showClearDates: true,\n    small: true,\n    numberOfMonths: 1,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(ComponentWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FaUserFriends, {\n    className: \"user-friends\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(ViewWithPopup, {\n    key: 200,\n    noView: true,\n    className: \"room_guest\",\n    view: /*#__PURE__*/React.createElement(Button, {\n      type: \"default\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 15\n      }\n    }, \"Room \", roomGuest.room > 0 && \": \".concat(roomGuest.room)), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 15\n      }\n    }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 15\n      }\n    }, \"Guest\", roomGuest.guest > 0 && \": \".concat(roomGuest.guest))),\n    popup: /*#__PURE__*/React.createElement(RoomGuestWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(ItemWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }\n    }, \"Room\"), /*#__PURE__*/React.createElement(InputIncDec, {\n      id: \"room\",\n      increment: function increment() {\n        return handleIncrement('room');\n      },\n      decrement: function decrement() {\n        return handleDecrement('room');\n      },\n      onChange: function onChange(e) {\n        return handleIncDecOnChnage(e, 'room');\n      },\n      value: roomGuest.room,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }\n    })), /*#__PURE__*/React.createElement(ItemWrapper, {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 17\n      }\n    }, \"Guest\"), /*#__PURE__*/React.createElement(InputIncDec, {\n      id: \"guest\",\n      increment: function increment() {\n        return handleIncrement('guest');\n      },\n      decrement: function decrement() {\n        return handleDecrement('guest');\n      },\n      onChange: function onChange(e) {\n        return handleIncDecOnChnage(e, 'guest');\n      },\n      value: roomGuest.guest,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }\n    }))),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    size: \"large\",\n    onClick: goToSearchPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }\n  }, \"\\u0110\\u1EB7t l\\u1ECBch ngay\"));\n};\n\nexport default withRouter(HomeSearch);","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/packages/hotel/src/container/Home/Search/HomeSearchForm.js"],"names":["React","useState","withRouter","isEmpty","FaMapMarkerAlt","FaRegCalendar","FaUserFriends","Button","DateRangePickerBox","MapAutoComplete","NavbarSearchWrapper","MapDataHelper","ViewWithPopup","InputIncDec","setStateToUrl","LISTING_POSTS_PAGE","FormWrapper","ComponentWrapper","RoomGuestWrapper","ItemWrapper","calendarItem","separator","format","locale","HomeSearch","history","setStartDate","setEndDate","searchDate","setSearchDate","mapValue","setMapValue","room","guest","roomGuest","setRoomGuest","updatevalueFunc","event","searchedPlaceAPIData","handleIncrement","type","handleDecrement","handleIncDecOnChnage","e","currentValue","target","value","goToSearchPage","tempLocation","mapData","map","singleMapData","i","push","formattedAddress","lat","toFixed","lng","location","query","date_range","search","pathname","setDateValue"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport isEmpty from 'lodash/isEmpty';\r\nimport { FaMapMarkerAlt, FaRegCalendar, FaUserFriends } from 'react-icons/fa';\r\nimport Button from '@iso/ui/Antd/Button/Button';\r\nimport DateRangePickerBox from '@iso/ui/DatePicker/ReactDates';\r\nimport MapAutoComplete from '@hotel/components/Map/MapAutoComplete';\r\nimport { NavbarSearchWrapper } from '../.';\r\nimport { MapDataHelper } from '@hotel/components/Map/MapLocationBox';\r\nimport ViewWithPopup from '@iso/ui/UI/ViewWithPopup/ViewWithPopup';\r\nimport InputIncDec from '@iso/ui/InputIncDec/InputIncDec';\r\nimport { setStateToUrl } from '@iso/lib/helpers/url_handler';\r\nimport { LISTING_POSTS_PAGE } from '../../../settings/constant';\r\nimport {\r\n  FormWrapper,\r\n  ComponentWrapper,\r\n  RoomGuestWrapper,\r\n  ItemWrapper,\r\n} from './Search.style';\r\n\r\nconst calendarItem = {\r\n  separator: '-',\r\n  format: 'MM-DD-YYYY',\r\n  locale: 'en',\r\n};\r\n\r\nconst HomeSearch = ({ history }) => {\r\n  const [searchDate, setSearchDate] = useState({\r\n    setStartDate: null,\r\n    setEndDate: null,\r\n  });\r\n  const [mapValue, setMapValue] = useState([]);\r\n\r\n  // Room guest state\r\n  const [roomGuest, setRoomGuest] = useState({\r\n    room: 0,\r\n    guest: 0,\r\n  });\r\n\r\n  const updatevalueFunc = event => {\r\n    const { searchedPlaceAPIData } = event;\r\n    if (!isEmpty(searchedPlaceAPIData)) {\r\n      setMapValue(searchedPlaceAPIData);\r\n    }\r\n  };\r\n\r\n  // Room Guest data handling\r\n  const handleIncrement = type => {\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: roomGuest[type] + 1,\r\n    });\r\n  };\r\n\r\n  const handleDecrement = type => {\r\n    if (roomGuest[type] <= 0) {\r\n      return false;\r\n    }\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: roomGuest[type] - 1,\r\n    });\r\n  };\r\n\r\n  const handleIncDecOnChnage = (e, type) => {\r\n    let currentValue = e.target.value;\r\n\r\n    setRoomGuest({\r\n      ...roomGuest,\r\n      [type]: currentValue,\r\n    });\r\n  };\r\n\r\n  const goToSearchPage = () => {\r\n    let tempLocation = [];\r\n    const mapData = mapValue ? MapDataHelper(mapValue) : [];\r\n    mapData &&\r\n      mapData.map((singleMapData, i) => {\r\n        return tempLocation.push({\r\n          formattedAddress: singleMapData ? singleMapData.formattedAddress : '',\r\n          lat: singleMapData ? singleMapData.lat.toFixed(3) : null,\r\n          lng: singleMapData ? singleMapData.lng.toFixed(3) : null,\r\n        });\r\n      });\r\n    const location = tempLocation ? tempLocation[0] : {};\r\n    const query = {\r\n      date_range: searchDate,\r\n      room: roomGuest.room,\r\n      guest: roomGuest.guest,\r\n      location,\r\n    };\r\n    const search = setStateToUrl(query);\r\n    history.push({\r\n      pathname: LISTING_POSTS_PAGE,\r\n      search: search,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n      <ComponentWrapper>\r\n        <FaMapMarkerAlt className=\"map-marker\" />\r\n        <MapAutoComplete updatevalue={value => updatevalueFunc(value)} />\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          version=\"1.1\"\r\n          x=\"0px\"\r\n          y=\"0px\"\r\n          width=\"30\"\r\n          height=\"30\"\r\n          viewBox=\"0 0 144.083 144\"\r\n          enableBackground=\"new 0 0 144.083 144\"\r\n          className=\"target\"\r\n        >\r\n          <path d=\"M117.292,69h-13.587C102.28,53.851,90.19,41.761,75.042,40.337V26.5h-6v13.837C53.893,41.761,41.802,53.851,40.378,69  H26.792v6h13.587c1.425,15.148,13.515,27.238,28.663,28.663V117.5h6v-13.837C90.19,102.238,102.28,90.148,103.705,75h13.587V69z   M72.042,97.809c-14.23,0-25.809-11.578-25.809-25.809c0-14.231,11.578-25.809,25.809-25.809S97.85,57.769,97.85,72  C97.85,86.23,86.272,97.809,72.042,97.809z\" />\r\n          <path d=\"M72.042,52.541c-10.729,0-19.459,8.729-19.459,19.459s8.729,19.459,19.459,19.459S91.5,82.729,91.5,72  S82.771,52.541,72.042,52.541z M72.042,85.459c-7.421,0-13.459-6.037-13.459-13.459c0-7.421,6.038-13.459,13.459-13.459  S85.5,64.579,85.5,72C85.5,79.422,79.462,85.459,72.042,85.459z\" />\r\n        </svg>\r\n      </ComponentWrapper>\r\n\r\n      <ComponentWrapper>\r\n        <FaRegCalendar className=\"calendar\" />\r\n        <DateRangePickerBox\r\n          item={calendarItem}\r\n          startDateId=\"startDateId-id-home\"\r\n          endDateId=\"endDateId-id-home\"\r\n          updateSearchData={setDateValue => setSearchDate(setDateValue)}\r\n          showClearDates={true}\r\n          small={true}\r\n          numberOfMonths={1}\r\n        />\r\n      </ComponentWrapper>\r\n\r\n      <ComponentWrapper>\r\n        <FaUserFriends className=\"user-friends\" />\r\n        <ViewWithPopup\r\n          key={200}\r\n          noView={true}\r\n          className=\"room_guest\"\r\n          view={\r\n            <Button type=\"default\">\r\n              <span>Room {roomGuest.room > 0 && `: ${roomGuest.room}`}</span>\r\n              <span>-</span>\r\n              <span>Guest{roomGuest.guest > 0 && `: ${roomGuest.guest}`}</span>\r\n            </Button>\r\n          }\r\n          popup={\r\n            <RoomGuestWrapper>\r\n              <ItemWrapper>\r\n                <strong>Room</strong>\r\n                <InputIncDec\r\n                  id=\"room\"\r\n                  increment={() => handleIncrement('room')}\r\n                  decrement={() => handleDecrement('room')}\r\n                  onChange={e => handleIncDecOnChnage(e, 'room')}\r\n                  value={roomGuest.room}\r\n                />\r\n              </ItemWrapper>\r\n              <ItemWrapper>\r\n                <strong>Guest</strong>\r\n                <InputIncDec\r\n                  id=\"guest\"\r\n                  increment={() => handleIncrement('guest')}\r\n                  decrement={() => handleDecrement('guest')}\r\n                  onChange={e => handleIncDecOnChnage(e, 'guest')}\r\n                  value={roomGuest.guest}\r\n                />\r\n              </ItemWrapper>\r\n            </RoomGuestWrapper>\r\n          }\r\n        />\r\n      </ComponentWrapper>\r\n\r\n      <Button\r\n        type=\"primary\"\r\n        htmlType=\"submit\"\r\n        size=\"large\"\r\n        onClick={goToSearchPage}\r\n      >\r\n        Đặt lịch ngay\r\n      </Button>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(HomeSearch);\r\n"]},"metadata":{},"sourceType":"module"}