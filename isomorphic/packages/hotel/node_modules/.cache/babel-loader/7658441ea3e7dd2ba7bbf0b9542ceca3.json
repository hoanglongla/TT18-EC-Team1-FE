{"ast":null,"code":"import _slicedToArray from \"D:\\\\Team6-FE\\\\isomorphic\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Team6-FE\\\\isomorphic\\\\packages\\\\hotel\\\\src\\\\container\\\\Home\\\\Search\\\\HomeSearchForm.js\";\n\nimport React, { useState } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport isEmpty from 'lodash/isEmpty';\nimport Button from '@iso/ui/Antd/Button/Button';\nimport MapAutoComplete from '@hotel/components/Map/MapAutoComplete';\nimport { NavbarSearchWrapper } from '../../Layout/Header/Header.style';\nimport { MapDataHelper } from '@hotel/components/Map/MapLocationBox';\nimport { FaMapMarkerAlt } from 'react-icons/fa';\nimport { setStateToUrl } from '@iso/lib/helpers/url_handler';\nimport { LISTING_POSTS_PAGE } from '../../../settings/constant';\nimport { FormWrapper } from './Search.style';\n\nvar HomeSearch = function HomeSearch(_ref) {\n  var history = _ref.history;\n\n  var _useState = useState({\n    setStartDate: null,\n    setEndDate: null\n  }),\n      _useState2 = _slicedToArray(_useState, 1),\n      searchDate = _useState2[0];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      mapValue = _useState4[0],\n      setMapValue = _useState4[1]; // Room guest state\n\n\n  var _useState5 = useState({\n    room: 0,\n    guest: 0\n  }),\n      _useState6 = _slicedToArray(_useState5, 1),\n      roomGuest = _useState6[0];\n\n  var updatevalueFunc = function updatevalueFunc(event) {\n    var searchedPlaceAPIData = event.searchedPlaceAPIData;\n\n    if (!isEmpty(searchedPlaceAPIData)) {\n      setMapValue(searchedPlaceAPIData);\n    }\n  }; // Room Guest data handling\n\n\n  var goToSearchPage = function goToSearchPage() {\n    var tempLocation = [];\n    var mapData = mapValue ? MapDataHelper(mapValue) : [];\n    mapData && mapData.map(function (singleMapData, i) {\n      return tempLocation.push({\n        formattedAddress: singleMapData ? singleMapData.formattedAddress : '',\n        lat: singleMapData ? singleMapData.lat.toFixed(3) : null,\n        lng: singleMapData ? singleMapData.lng.toFixed(3) : null\n      });\n    });\n    var location = tempLocation ? tempLocation[0] : {};\n    var query = {\n      date_range: searchDate,\n      room: roomGuest.room,\n      guest: roomGuest.guest,\n      location: location\n    };\n    var search = setStateToUrl(query);\n    history.push({\n      pathname: LISTING_POSTS_PAGE,\n      search: search\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(FormWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(NavbarSearchWrapper, {\n    className: \"navbar_search\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(MapAutoComplete, {\n    updatevalue: function updatevalue(value) {\n      return updatevalueFunc(value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    size: \"large\",\n    onClick: goToSearchPage,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }\n  }, \"T\\xECm ki\\u1EBFm\"));\n};\n\nexport default withRouter(HomeSearch);","map":{"version":3,"sources":["D:/Team6-FE/isomorphic/packages/hotel/src/container/Home/Search/HomeSearchForm.js"],"names":["React","useState","withRouter","isEmpty","Button","MapAutoComplete","NavbarSearchWrapper","MapDataHelper","FaMapMarkerAlt","setStateToUrl","LISTING_POSTS_PAGE","FormWrapper","HomeSearch","history","setStartDate","setEndDate","searchDate","mapValue","setMapValue","room","guest","roomGuest","updatevalueFunc","event","searchedPlaceAPIData","goToSearchPage","tempLocation","mapData","map","singleMapData","i","push","formattedAddress","lat","toFixed","lng","location","query","date_range","search","pathname","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport isEmpty from 'lodash/isEmpty';\r\n\r\nimport Button from '@iso/ui/Antd/Button/Button';\r\n\r\nimport MapAutoComplete from '@hotel/components/Map/MapAutoComplete';\r\nimport { NavbarSearchWrapper } from '../../Layout/Header/Header.style';\r\nimport { MapDataHelper } from '@hotel/components/Map/MapLocationBox';\r\n\r\nimport { FaMapMarkerAlt } from 'react-icons/fa';\r\nimport { setStateToUrl } from '@iso/lib/helpers/url_handler';\r\nimport { LISTING_POSTS_PAGE } from '../../../settings/constant';\r\nimport {\r\n  FormWrapper,\r\n  \r\n} from './Search.style';\r\n\r\n\r\n\r\nconst HomeSearch = ({ history }) => {\r\n  const [searchDate] = useState({\r\n    setStartDate: null,\r\n    setEndDate: null,\r\n  });\r\n  const [mapValue, setMapValue] = useState([]);\r\n\r\n  // Room guest state\r\n  const [roomGuest] = useState({\r\n    room: 0,\r\n    guest: 0,\r\n  });\r\n\r\n  const updatevalueFunc = event => {\r\n    const { searchedPlaceAPIData } = event;\r\n    if (!isEmpty(searchedPlaceAPIData)) {\r\n      setMapValue(searchedPlaceAPIData);\r\n    }\r\n  };\r\n\r\n  // Room Guest data handling\r\n  \r\n\r\n  \r\n\r\n \r\n\r\n  const goToSearchPage = () => {\r\n    let tempLocation = [];\r\n    const mapData = mapValue ? MapDataHelper(mapValue) : [];\r\n    mapData &&\r\n      mapData.map((singleMapData, i) => {\r\n        return tempLocation.push({\r\n          formattedAddress: singleMapData ? singleMapData.formattedAddress : '',\r\n          lat: singleMapData ? singleMapData.lat.toFixed(3) : null,\r\n          lng: singleMapData ? singleMapData.lng.toFixed(3) : null,\r\n        });\r\n      });\r\n    const location = tempLocation ? tempLocation[0] : {};\r\n    const query = {\r\n      date_range: searchDate,\r\n      room: roomGuest.room,\r\n      guest: roomGuest.guest,\r\n      location,\r\n    };\r\n    const search = setStateToUrl(query);\r\n    history.push({\r\n      pathname: LISTING_POSTS_PAGE,\r\n      search: search,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n     <NavbarSearchWrapper className=\"navbar_search\">\r\n     \r\n      <MapAutoComplete updatevalue={value => updatevalueFunc(value)} />\r\n      \r\n     </NavbarSearchWrapper>\r\n      \r\n      \r\n\r\n      <Button\r\n        type=\"primary\"\r\n        htmlType=\"submit\"\r\n        size=\"large\"\r\n        onClick={goToSearchPage}\r\n      >\r\n        Tìm kiếm\r\n      </Button>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default withRouter(HomeSearch);\r\n"]},"metadata":{},"sourceType":"module"}